/*! For license information please see main.14efb461.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return A(e(t))}catch(Cl){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],F=-1;function U(e){return{current:e}}function $(e){0>F||(e.current=L[F],L[F]=null,F--)}function V(e,t){F++,L[F]=e.current,e.current=t}var z=U(null),B=U(null),q=U(null),H=U(null);function W(e,t){switch(V(q,t),V(B,e),V(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(z),V(z,e)}function K(){$(z),$(B),$(q)}function G(e){null!==e.memoizedState&&V(H,e);var t=z.current,n=ad(t,e.type);t!==n&&(V(B,e),V(z,n))}function Q(e){B.current===e&&($(z),$(B)),H.current===e&&($(H),Qd._currentValue=M)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=ve(r):0!==(a&=o)?i=ve(a):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~s)?i=ve(o):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Pe=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Pe,Re="__reactProps$"+Pe,Oe="__reactContainer$"+Pe,De="__reactEvents$"+Pe,Me="__reactListeners$"+Pe,Le="__reactHandles$"+Pe,Fe="__reactResources$"+Pe,Ue="__reactMarker$"+Pe;function $e(e){delete e[Ae],delete e[Re],delete e[De],delete e[Me],delete e[Le]}function Ve(e){var t=e[Ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Ae]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Ae])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[Ae]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ue]=!0}var We=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(Cl){var t=Cl.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<Cl.stack.indexOf("\n    at")?" (<anonymous>)":-1<Cl.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var st=!1;function at(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Cl){var r=Cl}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(Cl){return"\nError generating stack: "+Cl.message+"\n"+Cl.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_t=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return _t.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Rt=null;function Ot(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Mt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==At||null!==Rt)&&(zc(),At&&(t=At,e=Rt,Rt=At=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(Oh){Ut=!1}var Vt=null,zt=null,Bt=null;function qt(){if(Bt)return Bt;var e,t,n=zt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Bt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),sn=Gt(h({},nn,{dataTransfer:0})),an=Gt(h({},en,{relatedTarget:0})),on=Gt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Gt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var En=Ft&&"TextEvent"in window&&!Sn,Cn=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),Nn=String.fromCharCode(32),Tn=!1;function _n(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,r){At?Rt?Rt.push(r):Rt=[r]:At=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Mn(e){Lu(e,0)}function Ln(e){if(ht(Be(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var $n;if(Ft){var Vn="oninput"in document;if(!Vn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Vn="function"===typeof zn.oninput}$n=Vn}else $n=!1;Un=$n&&(!document.documentMode||9<document.documentMode)}function Bn(){On&&(On.detachEvent("onpropertychange",qn),Dn=On=null)}function qn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];Rn(t,Dn,e,Pt(e)),Mt(Mn,t)}}function Hn(e,t,n){"focusin"===e?(Bn(),Dn=n,(On=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Bn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Kn(e,t){if("click"===e)return Ln(t)}function Gn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Yn(sr,r)||(sr=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Nr=0,Tr=0;function _r(){for(var e=Nr,t=Tr=Nr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Ar(n,i,s)}}function jr(e,t,n,r){Cr[Nr++]=e,Cr[Nr++]=t,Cr[Nr++]=n,Cr[Nr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return jr(e,t,n,r),Rr(e)}function Pr(e,t){return jr(e,null,null,t),Rr(e)}function Ar(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Rr(e){if(50<Rc)throw Rc=0,Oc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Dr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Mr(31,n,t,i)).elementType=T,e.lanes=s,e;case g:return Vr(n.children,i,s,t);case y:o=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case S:return(e=Mr(13,n,t,i)).elementType=S,e.lanes=s,e;case E:return(e=Mr(19,n,t,i)).elementType=E,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case k:o=11;break e;case C:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Vr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function zr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Br(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Hr=0,Wr=null,Kr=0,Gr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){qr[Hr++]=Kr,qr[Hr++]=Wr,Wr=e,Kr=t}function ei(e,t,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xr=1<<32-fe(t)+i|n<<i|r,Jr=s+e}else Xr=1<<s|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Wr;)Wr=qr[--Hr],qr[Hr]=null,Kr=qr[--Hr],qr[Hr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,si=!1,ai=null,oi=!1,li=Error(a(519));function ci(e){throw mi(Er(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ae]=e,t[Re]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Fu(Du[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!si)return di(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=bd,bd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=ai;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=U(null),yi=null,vi=null;function bi(e,t,n){V(gi,t._currentValue),t._currentValue=n}function xi(e){e._currentValue=gi.current,$(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wi(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Si(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ni(e){return _i(yi,e)}function Ti(e,t){return null===yi&&Ci(e),_i(e,t)}function _i(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var ji="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ii=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Ai={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new ji,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&Ii(Pi,(function(){e.controller.abort()}))}var Di=null,Mi=0,Li=0,Fi=null;function Ui(){if(0===--Mi&&null!==Di){null!==Fi&&(Fi.status="fulfilled");var e=Di;Di=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $i=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Mi=0,Li=Iu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Ui,Ui)}(0,t),null!==$i&&$i(e,t)};var Vi=U(null);function zi(){var e=Vi.current;return null!==e?e:ic.pooledCache}function Bi(e,t){V(Vi,null===t?Vi.current:t.pool)}function qi(){var e=zi();return null===e?null:{parent:Ai._currentValue,pool:e}}var Hi=Error(a(460)),Wi=Error(a(474)),Ki=Error(a(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Ji=t,Hi}}var Ji=null;function Zi(){if(null===Ji)throw Error(a(459));var e=Ji;return Ji=null,e}function es(e){if(e===Hi||e===Ki)throw Error(a(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Ar(e,null,n),t}return jr(e,r,t,n),Rr(e)}function as(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Fi)throw Fi}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Li&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ts=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var fs=U(null),ps=U(0);function ms(e,t){V(ps,e=hc),V(fs,t),hc=e|t.baseLanes}function gs(){V(ps,hc),V(fs,fs.current)}function ys(){hc=ps.current,$(fs),$(ps)}var vs=0,bs=null,xs=null,ws=null,ks=!1,Ss=!1,Es=!1,Cs=0,Ns=0,Ts=null,_s=0;function js(){throw Error(a(321))}function Is(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ps(e,t,n,r,i,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Ha:Wa,Es=!1,s=n(r,i),Es=!1,Ss&&(s=Rs(t,n,r,i)),As(e),s}function As(e){O.H=qa;var t=null!==xs&&null!==xs.next;if(vs=0,ws=xs=bs=null,ks=!1,Ns=0,Ts=null,t)throw Error(a(300));null===e||To||null!==(e=e.dependencies)&&Ei(e)&&(To=!0)}function Rs(e,t,n,r){bs=e;var i=0;do{if(Ss&&(Ts=null),Ns=0,Ss=!1,25<=i)throw Error(a(301));if(i+=1,ws=xs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=Ka,s=t(n,r)}while(Ss);return s}function Os(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?$s(t):t,e=e.useState()[0],(null!==xs?xs.memoizedState:null)!==e&&(bs.flags|=1024),t}function Ds(){var e=0!==Cs;return Cs=0,e}function Ms(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ls(e){if(ks){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ks=!1}vs=0,ws=xs=bs=null,Ss=!1,Ns=Cs=0,Ts=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?bs.memoizedState=ws=e:ws=ws.next=e,ws}function Us(){if(null===xs){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=xs.next;var t=null===ws?bs.memoizedState:ws.next;if(null!==t)ws=t,xs=e;else{if(null===e){if(null===bs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xs=e).memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},null===ws?bs.memoizedState=ws=e:ws=ws.next=e}return ws}function $s(e){var t=Ns;return Ns+=1,null===Ts&&(Ts=[]),e=Xi(Ts,e,t),t=bs,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Ha:Wa),e}function Vs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return $s(e);if(e.$$typeof===w)return Ni(e)}throw Error(a(438,String(e)))}function zs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function Bs(e,t){return"function"===typeof t?t(e):t}function qs(e){return Hs(Us(),xs,e)}function Hs(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(vs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((vs&f)===f){u=u.next,f===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,bs.lanes|=f,pc|=f}h=u.action,Es&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,bs.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qn(s,e.memoizedState)&&(To=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ws(e){var t=Us(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Qn(s,t.memoizedState)||(To=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ks(e,t,n){var r=bs,i=Us(),s=si;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Qn((xs||i).memoizedState,n);if(o&&(i.memoizedState=n,To=!0),i=i.queue,ga(2048,8,Ys.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,i,n,t),null),null===ic)throw Error(a(349));s||0!==(124&vs)||Gs(r,t,n)}return n}function Gs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qs(e,t,n,r){t.value=n,t.getSnapshot=r,Xs(t)&&Js(e)}function Ys(e,t,n){return n((function(){Xs(t)&&Js(e)}))}function Xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Js(e){var t=Pr(e,2);null!==t&&Lc(t,e,2)}function Zs(e){var t=Fs();if("function"===typeof e){var n=e;if(e=n(),Es){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Hs(e,xs,"function"===typeof r?r:Bs)}function ta(e,t,n,r,i){if(Va(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,a={};O.T=a;try{var o=n(i,r),l=O.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){sa(e,t,c)}finally{O.T=s}}else try{ra(e,t,s=n(i,r))}catch(u){sa(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ia(e,t,n)}),(function(n){return sa(e,t,n)})):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function sa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(si){var n=ic.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=$a.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fs()).queue=i,n=ta.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Us(),xs,e)}function ua(e,t,n){if(t=Hs(e,t,oa)[0],e=qs(Bs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=$s(t)}catch(Cl){if(Cl===Hi)throw Ki;throw Cl}else r=t;var i=(t=Us()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,fa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,s,e]}function da(e,t){e.action=t}function ha(e){var t=Us(),n=xs;if(null!==n)return ua(t,n,e);Us(),t=t.memoizedState;var r=(n=Us()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return Us().memoizedState}function ma(e,t,n,r){var i=Fs();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var i=Us();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==xs&&null!==r&&Is(r,xs.memoizedState.deps)?i.memoizedState=fa(t,s,n,r):(bs.flags|=e,i.memoizedState=fa(1|t,s,n,r))}function ya(e,t){ma(8390656,8,e,t)}function va(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function xa(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function Sa(){}function Ea(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Is(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Is(t,r[1]))return r[0];if(r=e(),Es){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Na(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),bs.lanes|=e,pc|=e,n)}function Ta(e,t,n,r){return Qn(n,t)?n:null!==fs.current?(e=Na(e,n,r),Qn(e,t)||(To=!0),e):0===(42&vs)?(To=!0,e.memoizedState=n):(e=Mc(),bs.lanes|=e,pc|=e,t)}function _a(e,t,n,r,i){var s=D.p;D.p=0!==s&&8>s?s:8;var a=O.T,o={};O.T=o,$a(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);Ua(e,t,u,Dc())}else Ua(e,t,r,Dc())}catch(d){Ua(e,t,{then:function(){},status:"rejected",reason:d},Dc())}finally{D.p=s,O.T=a}}function ja(){}function Ia(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Pa(e).queue;_a(e,i,t,M,null===n?ja:function(){return Aa(e),n(r)})}function Pa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Aa(e){Ua(e,Pa(e).next.queue,{},Dc())}function Ra(){return Ni(Qd)}function Oa(){return Us().memoizedState}function Da(){return Us().memoizedState}function Ma(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ss(t,e=is(n),n);return null!==r&&(Lc(r,t,n),as(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function La(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Va(e)?za(t,n):null!==(n=Ir(e,t,n,r))&&(Lc(n,e,r),Ba(n,t,r))}function Fa(e,t,n){Ua(e,t,n,Dc())}function Ua(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Va(e))za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,a))return jr(e,t,i,0),null===ic&&_r(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Lc(n,e,r),Ba(n,t,r),!0}return!1}function $a(e,t,n,r){if(r={lane:2,revertLane:Iu(),action:r,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Lc(t,e,2)}function Va(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function za(e,t){Ss=ks=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ba(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var qa={readContext:Ni,use:Vs,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useLayoutEffect:js,useInsertionEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useSyncExternalStore:js,useId:js,useHostTransitionStatus:js,useFormState:js,useActionState:js,useOptimistic:js,useMemoCache:js,useCacheRefresh:js},Ha={readContext:Ni,use:Vs,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var r=e();if(Es){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fs();if(void 0!==n){var i=n(t);if(Es){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=La.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Fa.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sa,useDeferredValue:function(e,t){return Na(Fs(),e,t)},useTransition:function(){var e=Zs(!1);return e=_a.bind(null,bs,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=Fs();if(si){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ic)throw Error(a(349));0!==(124&ac)||Gs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ya(Ys.bind(null,r,s,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,s,n,t),null),n},useId:function(){var e=Fs(),t=ic.identifierPrefix;if(si){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Cs++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=_s++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$a.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:zs,useCacheRefresh:function(){return Fs().memoizedState=Ma.bind(null,bs)}},Wa={readContext:Ni,use:Vs,useCallback:Ea,useContext:Ni,useEffect:va,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ca,useReducer:qs,useRef:pa,useState:function(){return qs(Bs)},useDebugValue:Sa,useDeferredValue:function(e,t){return Ta(Us(),xs.memoizedState,e,t)},useTransition:function(){var e=qs(Bs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:$s(e),t]},useSyncExternalStore:Ks,useId:Oa,useHostTransitionStatus:Ra,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Us(),0,e,t)},useMemoCache:zs,useCacheRefresh:Da},Ka={readContext:Ni,use:Vs,useCallback:Ea,useContext:Ni,useEffect:va,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ca,useReducer:Ws,useRef:pa,useState:function(){return Ws(Bs)},useDebugValue:Sa,useDeferredValue:function(e,t){var n=Us();return null===xs?Na(n,e,t):Ta(n,xs.memoizedState,e,t)},useTransition:function(){var e=Ws(Bs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:$s(e),t]},useSyncExternalStore:Ks,useId:Oa,useHostTransitionStatus:Ra,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Us();return null!==xs?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:zs,useCacheRefresh:Da},Ga=null,Qa=0;function Ya(e){var t=Qa;return Qa+=1,null===Ga&&(Ga=[]),Xi(Ga,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&Za(s)===t.type)?(Xa(t=i(t,n.props),n),t.return=e,t):(Xa(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xa(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Br(t,e.mode,n)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||I(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ya(t),n);if(t.$$typeof===w)return h(e,Ti(e,t),n);Ja(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||I(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ya(n),r);if(n.$$typeof===w)return f(e,t,Ti(e,n),r);Ja(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ya(r),i);if(r.$$typeof===w)return y(e,t,n,Ti(t,r),i);Ja(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&Za(b)===c.type){n(l,c.sibling),Xa(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xa(d=$r(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Br(u,l.mode,d)).return=l,l=d}return o(l);case N:return v(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(i,a,o,l){for(var c=null,u=null,d=a,p=a=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(i,d),si&&Zr(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(a=s(d,a,p),null===u?c=d:u.sibling=d,u=d);return si&&Zr(i,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=s(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),si&&Zr(i,p),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return si&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(i,e)})),si&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ya(u),d);if(u.$$typeof===w)return v(l,c,Ti(l,u),d);Ja(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=zr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Qa=0;var i=v(e,t,n,r);return Ga=null,i}catch(Cl){if(Cl===Hi||Cl===Ki)throw Cl;var s=Mr(29,Cl,null,e.mode);return s.lanes=r,s.return=e,s}}}var to=eo(!0),no=eo(!1),ro=U(null),io=null;function so(e){var t=e.alternate;V(co,1&co.current),V(ro,e),null===io&&(null===t||null!==fs.current||null!==t.memoizedState)&&(io=e)}function ao(e){if(22===e.tag){if(V(co,co.current),V(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){V(co,co.current),V(ro,ro.current)}function lo(e){$(ro),io===e&&(io=null),$(co)}var co=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),as(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),as(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Lc(t,e,n),as(t,e,n))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,s))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function xo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function So(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function Eo(e){return(e=is(e)).tag=3,e}function Co(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){ko(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof i&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var No=Error(a(461)),To=!1;function _o(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ci(t),r=Ps(e,t,n,a,s,i),o=Ds(),null===e||To?(si&&o&&ti(t),t.flags|=1,_o(e,t,r,i),t.child):(Ms(e,t,i),Qo(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lr(s)||void 0!==s.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Po(e,t,s,r,i))}if(s=e.child,!Yo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Yn(s,r)&&e.ref===t.ref){if(To=!1,t.pendingProps=r=s,!Yo(e,i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(To=!0)}}return Do(e,t,n,r,i)}function Ao(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Bi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),ao(t)}else null!==s?(Bi(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&Bi(0,null),gs(),oo());return _o(e,t,i,n),t.child}function Ro(e,t,n,r){var i=zi();return i=null===i?null:{parent:Ai._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Bi(0,null),gs(),ao(t),null!==e&&Si(e,t,r,!0),null}function Oo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Do(e,t,n,r,i){return Ci(t),n=Ps(e,t,n,r,void 0,i),r=Ds(),null===e||To?(si&&r&&ti(t),t.flags|=1,_o(e,t,n,i),t.child):(Ms(e,t,i),Qo(e,t,i))}function Mo(e,t,n,r,i,s){return Ci(t),t.updateQueue=null,n=Rs(t,r,n,i),As(e),r=Ds(),null===e||To?(si&&r&&ti(t),t.flags|=1,_o(e,t,n,s),t.child):(Ms(e,t,s),Qo(e,t,s))}function Lo(e,t,n,r,i){if(Ci(t),null===t.stateNode){var s=Or,a=n.contextType;"object"===typeof a&&null!==a&&(s=Ni(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Ni(a):Or,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&fo.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(n,o);s.props=l;var c=s.context,u=n.contextType;a=Or,"object"===typeof u&&null!==u&&(a=Ni(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&mo(t,s,r,a),ts=!1;var h=t.memoizedState;s.state=h,us(t,r,s,i),cs(),c=t.memoizedState,o||h!==c||ts?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ts||po(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=go(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ni(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&mo(t,s,r,l),ts=!1,h=t.memoizedState,s.state=h,us(t,r,s,i),cs();var f=t.memoizedState;a!==d||h!==f||ts||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ts||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Oo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):_o(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Qo(e,t,i),e}function Fo(e,t,n,r){return fi(),t.flags|=256,_o(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:qi()}}function Vo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function zo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?so(t):oo(),si){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,s?(oo(),c=qo({mode:"hidden",children:c},s=t.mode),i=Vr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=$o(n),s.childLanes=Vo(e,r,n),t.memoizedState=Uo,i):(so(t),Bo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=i.fallback,c=t.mode,i=qo({mode:"visible",children:i.children},c),(s=Vr(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=$o(n),i.childLanes=Vo(e,r,n),t.memoizedState=Uo,t=s);else if(so(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ho(e,t,n)}else if(To||Si(e,t,n,!1),r=0!==(n&e.childLanes),To||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:_e(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Lc(r,e,i),No;"$?"===c.data||Gc(),t=Ho(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,si=!0,ai=null,oi=!1,null!==e&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=Bo(t,i.children)).flags|=4096);return t}return s?(oo(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Fr(u,s):(s=Vr(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=$o(n):(null!==(l=c.cachePool)?(u=Ai._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Vo(e,r,n),t.memoizedState=Uo,i):(so(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Bo(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return to(t,e.child,null,n),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Ko(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,s);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),bi(0,Ai,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(so(t),null!==(e=Qo(e,t,n))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n);case 24:bi(0,Ai,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);To=0!==(131072&e.flags)}else To=!1,si&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=jo(null,t,r,e,n);break e}if(i===C){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=A(r)||r,Error(a(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Do(null,t,r,e,n))}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Ai,r),r!==s.cache&&ki(t,[Ai],n,!0),cs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(a(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,si=!0,ai=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 26:return Oo(e,t),null===e?(n=jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=id(q.current).createElement(n))[Ae]=t,r[Re]=e,td(r,n,e),He(r),t.stateNode=r):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&si&&(r=t.stateNode=wd(t.type,t.pendingProps,q.current),ri=t,oi=!0,i=ii,pd(t.type)?(bd=i,ii=vd(r.firstChild)):ii=i),_o(e,t,t.pendingProps.children,n),Oo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,od(i,s)?r=null:null!==o&&od(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ps(e,t,Os,null,null,n),Qd._currentValue=i),Oo(e,t),_o(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return zo(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):_o(e,t,r,n),t.child;case 11:return jo(e,t,t.type,t.pendingProps,n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),_o(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ci(t),r=r(i=Ni(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ao(e,t,n);case 24:return Ci(t),r=Ni(Ai),null===e?(null===(i=zi())&&(i=ic,s=Ri(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Ai,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ai,r)):(r=s.cache,bi(0,Ai,r),r!==i.cache&&ki(t,[Ai],n,!0))),_o(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=ro.current)&&((4194048&ac)===ac?null!==io:(62914560&ac)!==ac&&0===(536870912&ac)||t!==io))throw Ji=Gi,Wi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xi(Ai),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=z.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=z.current,hi(t))ui(t);else{switch(i=id(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ae]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ci(t)}else(e=id(e).createTextNode(r))[Ae]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ae]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return xi(t.type),nl(t),null;case 19:if($(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)tl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(i,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return V(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,V(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&$(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xi(Ai),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xi(Ai),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(co),null;case 4:return K(),null;case 10:return xi(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&$(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xi(Ai),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:xi(Ai),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:lo(t);break;case 19:$(co);break;case 10:xi(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&$(Vi);break;case 24:xi(Ai)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){du(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){du(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){du(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hs(t,n)}catch(r){du(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){du(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){du(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){du(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){du(e,t,s)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){du(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Zu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Zu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Zu(e,t,o,i,r,s)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||ed(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[Re]=t}catch(i){du(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[Ae]=e,t[Re]=n}catch(s){du(e,e.return,s)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&al(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){du(n,n.return,a)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){du(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hs(e,t)}catch(a){du(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,i=bl;var s=xl;bl=r,(xl=t)&&!s?$l(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),bl=i,xl=s}break;case 30:break;default:Fl(e,n)}}function Nl(e){var t=e.alternate;null!==t&&(e.alternate=null,Nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,_l=!1;function jl(e,t,n){for(n=n.child;null!==n;)Il(e,t,n),n=n.sibling}function Il(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:xl||dl(n,t),jl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=Tl,i=_l;pd(n.type)&&(Tl=n.stateNode,_l=!1),jl(e,t,n),kd(n.stateNode),Tl=r,_l=i;break;case 5:xl||dl(n,t);case 6:if(r=Tl,i=_l,Tl=null,jl(e,t,n),_l=i,null!==(Tl=r))if(_l)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(a){du(n,t,a)}else try{Tl.removeChild(n.stateNode)}catch(a){du(n,t,a)}break;case 18:null!==Tl&&(_l?(md(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),_h(e)):md(Tl,n.stateNode));break;case 4:r=Tl,i=_l,Tl=n.stateNode.containerInfo,_l=!0,jl(e,t,n),Tl=r,_l=i;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),jl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),jl(e,t,n);break;case 21:jl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,jl(e,t,n),xl=r;break;default:jl(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_h(e)}catch(n){du(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Tl=l.stateNode,_l=!1;break e}break;case 5:Tl=l.stateNode,_l=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===Tl)throw Error(a(160));Il(s,o,i),Tl=null,_l=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ol=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Ml(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Rl(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ol;if(Rl(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ue]||s[Ae]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),td(s,r,n),s[Ae]=e,He(s),r=s;break e;case"link":var o=$d("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}td(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=$d("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}td(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Ae]=e,He(s),r=s}e.stateNode=r}else Vd(i,e.type,e.stateNode);else e.stateNode=Dd(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Vd(i,e.type,e.stateNode):Dd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Ml(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(p){du(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Rl(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){du(e,e.return,p)}}break;case 3:if(Ud=null,i=Ol,Ol=Cd(t.containerInfo),Rl(t,e),Ol=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{_h(t.containerInfo)}catch(p){du(e,e.return,p)}wl&&(wl=!1,Ll(e));break;case 4:r=Ol,Ol=Cd(e.stateNode.containerInfo),Rl(t,e),Ml(e),Ol=r;break;case 12:default:Rl(t,e),Ml(e);break;case 13:Rl(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(kc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||i,xl=d||c,Rl(t,e),xl=d,bl=u,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||xl||Ul(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){du(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){du(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Rl(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),yl(e,ml(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(a(161))}}catch(l){du(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ul(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ul(t);break;case 27:kd(t.stateNode);case 26:case 5:dl(t,t.return),Ul(t);break;case 22:null===t.memoizedState&&Ul(t);break;default:Ul(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:$l(i,s,n),al(4,s);break;case 1:if($l(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){du(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ds(l[i],o)}catch(c){du(r,r.return,c)}}n&&64&a&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:$l(i,s,n),n&&null===r&&4&a&&hl(s),ul(s,s.return);break;case 12:$l(i,s,n);break;case 13:$l(i,s,n),n&&4&a&&Pl(i,s);break;case 22:null===s.memoizedState&&$l(i,s,n),ul(s,s.return);break;case 30:break;default:$l(i,s,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Bl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){du(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Bl(e,t,n,r):Wl(e,t):2&s._visibility?Bl(e,t,n,r):(s._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(a,t);break;case 24:Bl(e,t,n,r),2048&i&&zl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(s,a,o,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Hl(s,a,o,l,i):Wl(s,a):(u._visibility|=2,Hl(s,a,o,l,i)),i&&2048&c&&Vl(a.alternate,a);break;case 24:Hl(s,a,o,l,i),i&&2048&c&&zl(a.alternate,a);break;default:Hl(s,a,o,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&zl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(a(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Id(n.href),s=e.querySelector(Pd(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void He(s);s=e.ownerDocument||e,n=Ad(n),(i=Sd.get(i))&&Ld(n,i),He(s=s.createElement("link"));var o=s;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),td(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ol;Ol=Cd(e.stateNode.containerInfo),Gl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,ec(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Xl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,ec(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,s=r.return;if(Nl(r),r===n){Sl=null;break e}if(null!==i){i.return=s,Sl=i;break e}Sl=s}}}var tc={getCacheForType:function(e){var t=Ni(Ai),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,sc=null,ac=0,oc=0,lc=null,cc=!1,uc=!1,dc=!1,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=0,bc=null,xc=null,wc=!1,kc=0,Sc=1/0,Ec=null,Cc=null,Nc=0,Tc=null,_c=null,jc=0,Ic=0,Pc=null,Ac=null,Rc=0,Oc=null;function Dc(){if(0!==(2&rc)&&0!==ac)return ac&-ac;if(null!==O.T){return 0!==Li?Li:Iu()}return Ie()}function Mc(){0===yc&&(yc=0===(536870912&ac)||si?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),yc}function Lc(e,t,n){(e!==ic||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,ac,yc,!1)),Ce(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(mc|=n),4===fc&&Vc(e,ac,yc,!1)),Su(e))}function Fc(e,t,n){if(0!==(6&rc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Wc(),i=Kc();ic!==e||ac!==t?(Ec=null,Sc=te()+500,qc(e,t)):uc=xe(e,t);e:for(;;)try{if(0!==oc&&null!==sc){t=sc;var s=lc;t:switch(oc){case 1:oc=0,lc=null,eu(e,t,s,1);break;case 2:case 9:if(Qi(s)){oc=0,lc=null,Zc(t);break}t=function(){2!==oc&&9!==oc||ic!==e||(oc=7),Su(e)},s.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Qi(s)?(oc=0,lc=null,Zc(t)):(oc=0,lc=null,eu(e,t,s,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||zd(o)){oc=0,lc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,tu(u)):sc=null}break t}}oc=0,lc=null,eu(e,t,s,5);break;case 6:oc=0,lc=null,eu(e,t,s,6);break;case 8:Bc(),fc=6;break e;default:throw Error(a(462))}}Xc();break}catch(d){Hc(e,d)}return vi=yi=null,O.H=r,O.A=i,rc=n,null!==sc?0:(ic=null,ac=0,_r(),fc)}(e,t):Qc(e,t,!0),s=r;;){if(0===i){uc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!s||$c(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=s,mc|=s,i=4;break e}s=xc,xc=i,null!==s&&(null===xc?xc=s:xc.push.apply(xc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){qc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,yc,!cc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=kc+300-te())){if(Vc(r,t,yc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=cd(Uc.bind(null,r,n,xc,Ec,wc,t,yc,mc,vc,cc,s,2,-0,0),i)}else Uc(r,n,xc,Ec,wc,t,yc,mc,vc,cc,s,0,-0,0)}break}i=Qc(e,t,!1),s=!1}Su(e)}function Uc(e,t,n,r,i,s,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:qd},Ql(t),null!==(h=function(){if(null===Bd)throw Error(a(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,s,n,r,i,o,l,c,d,1,f,p)),void Vc(e,s,o,!u);ru(e,t,s,n,r,i,o,l,c)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Ne(e,n,t)}function zc(){return 0!==(6&rc)||(Eu(0,!1),!1)}function Bc(){if(null!==sc){if(0===oc)var e=sc.return;else vi=yi=null,Ls(e=sc),Ga=null,Qa=0,e=sc;for(;null!==e;)sl(e.alternate,e),e=e.return;sc=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),ic=e,sc=n=Fr(e.current,null),ac=t,oc=0,lc=null,cc=!1,uc=xe(e,t),dc=!1,vc=yc=gc=mc=pc=fc=0,xc=bc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return hc=t,_r(),n}function Hc(e,t){bs=null,O.H=qa,t===Hi||t===Ki?(t=Zi(),oc=3):t===Wi?(t=Zi(),oc=4):oc=t===No?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===sc&&(fc=1,wo(e,Er(t,e.current)))}function Wc(){var e=O.H;return O.H=qa,null===e?qa:e}function Kc(){var e=O.A;return O.A=tc,e}function Gc(){fc=4,cc||(4194048&ac)!==ac&&null!==ro.current||(uc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ic||Vc(ic,ac,yc,!1)}function Qc(e,t,n){var r=rc;rc|=2;var i=Wc(),s=Kc();ic===e&&ac===t||(Ec=null,qc(e,t)),t=!1;var a=fc;e:for(;;)try{if(0!==oc&&null!==sc){var o=sc,l=lc;switch(oc){case 8:Bc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=oc;if(oc=0,lc=null,eu(e,o,l,c),n&&uc){a=0;break e}break;default:c=oc,oc=0,lc=null,eu(e,o,l,c)}}Yc(),a=fc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,rc=r,O.H=i,O.A=s,null===sc&&(ic=null,ac=0,_r()),a}function Yc(){for(;null!==sc;)Jc(sc)}function Xc(){for(;null!==sc&&!Z();)Jc(sc)}function Jc(e){var t=Xo(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mo(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Mo(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Ls(t);default:sl(n,t),t=Xo(n,t=sc=Ur(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function eu(e,t,n,r){vi=yi=null,Ls(t),Ga=null,Qa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Gc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Gc(),!1}if(si)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),os(e,i=So(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var s=Error(a(520),{cause:r});if(s=Er(s,n),null===bc?bc=[s]:bc.push(s),4!==fc&&(fc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,os(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Cc||!Cc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Co(i=Eo(i),e,n,r),os(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return fc=1,wo(e,Er(n,e.current)),void(sc=null)}catch(s){if(null!==i)throw sc=i,s;return fc=1,wo(e,Er(n,e.current)),void(sc=null)}32768&t.flags?(si||1===r?e=!0:uc||0!==(536870912&ac)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);fc=6,sc=null}function ru(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Nc);if(0!==(6&rc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ne(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Tr,o,l,c),e===ic&&(sc=ic=null,ac=0),_c=t,Tc=e,jc=n,Ic=s,Pc=i,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(se,(function(){return cu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=D.p,D.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(s=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){du(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{rc=o,D.p=i,O.T=r}}Nc=1,iu(),su(),au()}}function iu(){if(1===Nc){Nc=0;var e=Tc,t=_c,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=rc;rc|=4;try{Dl(t,e);var s=rd,a=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rh=!!nd,rd=nd=null}finally{rc=i,D.p=r,O.T=n}}e.current=t,Nc=2}}function su(){if(2===Nc){Nc=0;var e=Tc,t=_c,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=rc;rc|=4;try{El(e,t.alternate,t)}finally{rc=i,D.p=r,O.T=n}}Nc=3}}function au(){if(4===Nc||3===Nc){Nc=0,ee();var e=Tc,t=_c,n=jc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Nc=5:(Nc=0,_c=Tc=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Cc=null),je(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=D.p,D.p=2,O.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{O.T=t,D.p=i}}0!==(3&jc)&&lu(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Oc?Rc++:(Rc=0,Oc=e):Rc=0,Eu(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function lu(e){return iu(),su(),au(),cu()}function cu(){if(5!==Nc)return!1;var e=Tc,t=Ic;Ic=0;var n=je(jc),r=O.T,i=D.p;try{D.p=32>n?32:n,O.T=null,n=Pc,Pc=null;var s=Tc,o=jc;if(Nc=0,_c=Tc=null,jc=0,0!==(6&rc))throw Error(a(331));var l=rc;if(rc|=4,Jl(s.current),ql(s,s.current,o,n),rc=l,Eu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{D.p=i,O.T=r,ou(e,t)}}function uu(e,t,n){t=Er(n,t),null!==(e=ss(e,t=So(e.stateNode,t,2),2))&&(Ce(e,2),Su(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Er(n,e),null!==(r=ss(t,n=Eo(2),2))&&(Co(n,r,t,e),Ce(r,2),Su(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(ac&n)===n&&(4===fc||3===fc&&(62914560&ac)===ac&&300>te()-kc?0===(2&rc)&&qc(e,0):gc|=n,vc===ac&&(vc=0)),Su(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Pr(e,t))&&(Ce(e,t),Su(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,xu=!1,wu=!1,ku=0;function Su(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),xu=!0,bu||(bu=!0,hd((function(){0!==(6&rc)?X(re,Cu):Nu()})))}function Eu(e,t){if(!wu&&xu){wu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,ju(r,s))}else s=ac,0===(3&(s=be(r,r===ic?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,s)||(n=!0,ju(r,s));r=r.next}}while(n);wu=!1}}function Cu(){Nu()}function Nu(){xu=bu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=ku),ku=0);for(var t=te(),n=null,r=yu;null!==r;){var i=r.next,s=Tu(r,t);0===s?(r.next=null,null===n?yu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&s))&&(xu=!0)),r=i}Eu(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-fe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=ac,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),je(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=oe}return r=_u.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function _u(e,t){if(0!==Nc&&5!==Nc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?_u.bind(null,e):null)}function ju(e,t){if(lu())return null;Fc(e,t,!0)}function Iu(){return 0===ku&&(ku=ke()),ku}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ru=0;Ru<wr.length;Ru++){var Ou=wr[Ru];kr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}}}}function Fu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[$u]){e[$u]=!0,We.forEach((function(t){"selectionchange"!==t&&(Mu.has(t)||Uu(t,!1,e),Uu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,Uu("selectionchange",!1,t))}}function zu(e,t,n,r){switch(uh(t)){case 2:var i=ih;break;case 8:i=sh;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Ve(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Mt((function(){var r=s,i=Pt(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(qu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Oe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Be(c),p=null==u?o:Be(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Ve(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Ku(a,o,c,d,!1),null!==u&&null!==h&&Ku(a,h,u,d,!0)}if("select"===(c=(o=r?Be(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(An(o))if(Un)y=Gn;else{y=Wn;var v=Hn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Nt(r.elementType)&&(y=Fn):y=Kn;switch(y&&(y=y(e,r))?Rn(a,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?Be(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else In?_n(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(In||"onCompositionStart"!==x?"onCompositionEnd"===x&&In&&(b=qt()):(zt="value"in(Vt=i)?Vt.value:Vt.textContent,In=!0)),0<(v=Hu(r,x)).length&&(x=new cn(x,e,null,n,i),a.push({event:x,listeners:v}),b?x.data=b:null!==(b=jn(n))&&(x.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Tn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!kn&&_n(e,t)?(e=qt(),Bt=zt=Vt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Pu((i[Re]||null).action),a=r.submitter;a&&null!==(t=(t=a[Re]||null)?Pu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=a?Au(i,a):new FormData(i);Ia(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Au(i,a):new FormData(i),Ia(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Lu(a,t)}))}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Lt(e,n))&&r.unshift(qu(e,i,s)),null!=(i=Lt(e,t))&&r.push(qu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Lt(n,s))&&a.unshift(qu(n,c,l)):i||null!=(c=Lt(n,s))&&a.push(qu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Ju(){}function Zu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function ed(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Re]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,r,o,n,null)}}return s&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Zu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,o,s,!1),void dt(e);case"select":for(s in Fu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Zu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Fu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zu(e,t,o,l,n,null)}return wt(e,i,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Fu(Du[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(fd)}:cd;function fd(e){setTimeout((function(){throw e}))}function pd(e){return"head"===e}function md(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&kd(a.documentElement),2&n&&kd(a.body),4&n)for(kd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void _h(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);_h(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Sd=new Map,Ed=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Nd=D.d;D.d={f:function(){var e=Nd.f(),t=zc();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Aa(t):Nd.r(e)},D:function(e){Nd.D(e),_d("dns-prefetch",e,null)},C:function(e,t){Nd.C(e,t),_d("preconnect",e,t)},L:function(e,t,n){Nd.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Id(e);break;case"script":s=Rd(e)}Sd.has(s)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pd(s))||"script"===t&&r.querySelector(Od(s))||(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Nd.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Rd(e)}if(!Sd.has(s)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(s)))return}td(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Nd.X(e,t);var n=Td;if(n&&e){var r=qe(n).hoistableScripts,i=Rd(e),s=r.get(i);s||((s=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=Sd.get(i))&&Fd(e,t),He(s=n.createElement("script")),td(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Nd.S(e,t,n);var r=Td;if(r&&e){var i=qe(r).hoistableStyles,s=Id(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Pd(s)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(s))&&Ld(e,n);var l=a=r.createElement("link");He(l),td(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Md(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Nd.M(e,t);var n=Td;if(n&&e){var r=qe(n).hoistableScripts,i=Rd(e),s=r.get(i);s||((s=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&Fd(e,t),He(s=n.createElement("script")),td(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Td="undefined"===typeof document?null:document;function _d(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ed.has(i)||(Ed.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function jd(e,t,n,r){var i=(i=q.current)?Cd(i):null;if(!i)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Id(n.href),(r=(n=qe(i).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Id(n.href);var s=qe(i).hoistableStyles,o=s.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=i.querySelector(Pd(e)))&&!s._p&&(o.instance=s,o.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),s||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",(function(){return r.loading|=1})),t.addEventListener("error",(function(){return r.loading|=2})),td(t,"link",n),He(t),e.head.appendChild(t))}(i,e,n,o.state))),t&&null===r)throw Error(a(528,""));return o}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rd(n),(r=(n=qe(i).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Id(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),Md(r,n.precedence,e),t.instance=r;case"stylesheet":i=Id(n.href);var s=e.querySelector(Pd(i));if(s)return t.state.loading|=4,t.instance=s,He(s),s;r=Ad(n),(i=Sd.get(i))&&Ld(r,i),He(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),td(s,"link",r),t.state.loading|=4,Md(s,n.precedence,e),t.instance=s;case"script":return s=Rd(n.src),(i=e.querySelector(Od(s)))?(t.instance=i,He(i),i):(r=n,(i=Sd.get(s))&&Fd(r=h({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Md(r,n.precedence,e));return t.instance}function Md(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function $d(e,t,n){if(null===Ud){var r=new Map,i=Ud=new Map;i.set(n,r)}else(r=(i=Ud).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ue]||s[Ae]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Yd(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Yd(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Mr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Jd(e){return e?e=Or:Or}function Zd(e,t,n,r,i,s){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Lc(n,0,t),as(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Lc(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=O.T;O.T=null;var s=D.p;try{D.p=2,ah(e,t,n,r)}finally{D.p=s,O.T=i}}function sh(e,t,n,r){var i=O.T;O.T=null;var s=D.p;try{D.p=8,ah(e,t,n,r)}finally{D.p=s,O.T=i}}function ah(e,t,n,r){if(rh){var i=oh(r);if(null===i)Bu(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=xh(hh,e,t,n,r,i),!0;case"dragenter":return fh=xh(fh,e,t,n,r,i),!0;case"mouseover":return ph=xh(ph,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return mh.set(s,xh(mh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gh.set(s,xh(gh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var s=ze(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ve(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}Su(s),0===(6&rc)&&(Sc=te()+500,Eu(0,!1))}}break;case 13:null!==(o=Pr(s,2))&&Lc(o,0,2),zc(),th(s,2)}if(null===(s=oh(r))&&Bu(e,t,r,lh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function oh(e){return ch(e=Pt(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,fh=null,ph=null,mh=new Map,gh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function xh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=ze(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Dc();e=_e(e);var t=Pr(n,e);null!==t&&Lc(t,0,e),th(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function Sh(e,t,n){kh(e)&&n.delete(t)}function Eh(){dh=!1,null!==hh&&kh(hh)&&(hh=null),null!==fh&&kh(fh)&&(fh=null),null!==ph&&kh(ph)&&(ph=null),mh.forEach(Sh),gh.forEach(Sh)}function Ch(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eh)))}var Nh=null;function Th(e){Nh!==e&&(Nh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Nh===e&&(Nh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var s=ze(n);null!==s&&(e.splice(t,3),t-=3,Ia(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function _h(e){function t(t){return Ch(t,e)}null!==hh&&Ch(hh,e),null!==fh&&Ch(fh,e),null!==ph&&Ch(ph,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)wh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Re]||null;if("function"===typeof s)a||Th(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Re]||null)o=a.formAction;else if(null!==ch(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Th(n)}}}function jh(e){this._internalRoot=e}function Ih(e){this._internalRoot=e}Ih.prototype.render=jh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zd(t.current,Dc(),e,t,null,null)},Ih.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),zc(),t[Oe]=null}},Ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&wh(e)}};var Ph=i.version;if("19.1.0"!==Ph)throw Error(a(527,Ph,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ue=Rh.inject(Ah),de=Rh}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=vo,s=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,i,s,l,0,null),e[Oe]=t.current,Vu(e),new jh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=vo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Jd(null),n=t.current,(i=is(r=_e(r=Dc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,Ce(t,n),Su(t),e[Oe]=t.current,Vu(e),new Ih(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},191:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler");Symbol.for("react.provider");var o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case s:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===a||e===s||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===l||e.$$typeof===o||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?a:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var o=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!s[y]&&(!r||!r[y])&&(!m||!m[y])&&(!o||!o[y])){var v=h(n,y);try{c(t,y,v)}catch(b){}}}}return t}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(){}function j(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return j((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+T(e,0):s,w(a)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),j(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===s?".":s+":";if(w(e))for(var m=0;m<e.length;m++)u+=j(s=e[m],t,i,o=p+T(s,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=j(s=s.value,t,i,o=p+T(s,m++),a);else if("object"===o){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,A)}catch(s){A(s)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},763:(e,t,n)=>{e.exports=n(983)},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&A(k,t.startTime-e)}}var S,E=!1,C=-1,N=5,T=-1;function _(){return!!y||!(t.unstable_now()-T<N)}function j(){if(y=!1,E){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),p=!0;var s=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(k,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof x)S=function(){x(j)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=j,S=function(){P.postMessage(null)}}else S=function(){v(j,0)};function A(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,A(k,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case o:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=o,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===o||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r="undefined"===typeof window||"Deno"in globalThis;function i(){}function s(e){return"number"===typeof e&&e>=0&&e!==1/0}function a(e,t){return Math.max(e+(t||0)-Date.now(),0)}function o(e,t){return"function"===typeof e?e(t):e}function l(e,t){return"function"===typeof e?e(t):e}function c(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a)if(r){if(t.queryHash!==d(a,t.options))return!1}else if(!f(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof o||t.isStale()===o)&&((!i||i===t.state.fetchStatus)&&!(s&&!s(t)))}function u(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(h(t.options.mutationKey)!==h(s))return!1}else if(!f(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function d(e,t){return(t?.queryKeyHashFn||h)(e)}function h(e){return JSON.stringify(e,((e,t)=>y(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function f(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every((n=>f(e[n],t[n]))))}function p(e,t){if(e===t)return e;const n=g(e)&&g(t);if(n||y(e)&&y(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let l=0;for(let c=0;c<a;c++){const i=n?c:s[c];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(o[i]=void 0,l++):(o[i]=p(e[i],t[i]),o[i]===e[i]&&void 0!==e[i]&&l++)}return i===a&&l===i?e:o}return t}function m(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function g(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function y(e){if(!v(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!v(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function b(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?p(e,t):t}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var k=Symbol();function S(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==k?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var E=e=>setTimeout(e,0);var C=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=E;const s=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:s=>{let a;t++;try{a=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return a},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s((()=>{e(...n)}))},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),N=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},T=new class extends N{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!r&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},_=new class extends N{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!r&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function j(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function I(e){return Math.min(1e3*2**e,3e4)}function P(e){return"online"!==(e??"online")||_.isOnline()}var A=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function R(e){return e instanceof A}function O(e){let t,n=!1,i=0,s=!1;const a=j(),o=()=>T.isFocused()&&("always"===e.networkMode||_.isOnline())&&e.canRun(),l=()=>P(e.networkMode)&&e.canRun(),c=n=>{s||(s=!0,e.onSuccess?.(n),t?.(),a.resolve(n))},u=n=>{s||(s=!0,e.onError?.(n),t?.(),a.reject(n))},d=()=>new Promise((n=>{t=e=>{(s||o())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,s||e.onContinue?.()})),h=()=>{if(s)return;let t;const a=0===i?e.initialPromise:void 0;try{t=a??e.fn()}catch(l){t=Promise.reject(l)}Promise.resolve(t).then(c).catch((t=>{if(s)return;const a=e.retry??(r?0:3),l=e.retryDelay??I,c="function"===typeof l?l(i,t):l,f=!0===a||"number"===typeof a&&i<a||"function"===typeof a&&a(i,t);var p;!n&&f?(i++,e.onFail?.(i,t),(p=c,new Promise((e=>{setTimeout(e,p)}))).then((()=>o()?void 0:d())).then((()=>{n?u(t):h()}))):u(t)}))};return{promise:a,cancel:t=>{s||(u(new A(t)),e.abort?.())},continue:()=>(t?.(),a),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:l,start:()=>(l()?h():d().then(h),a)}}var D=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(r?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},M=class extends D{#s;#a;#o;#l;#c;#u;#d;constructor(e){super(),this.#d=!1,this.#u=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#l=e.client,this.#o=this.#l.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#u,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(e,t){const n=b(this.state.data,e,this.options);return this.#h({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(i).catch(i):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some((e=>!1!==l(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===k||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!a(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#c&&(this.#d?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#d=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:()=>{const e=S(this.options,t),n={client:this.#l,queryKey:this.queryKey,meta:this.meta};return r(n),this.#d=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#a=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#h({type:"fetch",meta:i.fetchOptions?.meta});const s=e=>{R(e)&&e.silent||this.#h({type:"error",error:e}),R(e)||(this.#o.config.onError?.(e,this),this.#o.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=O({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void s(t)}this.#o.config.onSuccess?.(e,this),this.#o.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else s(new Error(`${this.queryHash} data is undefined`))},onError:s,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#c.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...L(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return R(n)&&n.revert&&this.#a?{...this.#a,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),C.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#o.notify({query:this,type:"updated",action:e})}))}};function L(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var F=class extends N{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#f=new Map}#f;build(e,t,n){const r=t.queryKey,i=t.queryHash??d(r,t);let s=this.get(i);return s||(s=new M({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#f.has(e.queryHash)||(this.#f.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#f.get(e.queryHash);t&&(e.destroy(),t===e&&this.#f.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){C.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#f.get(e)}getAll(){return[...this.#f.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>c(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>c(e,t))):t}notify(e){C.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){C.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){C.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},U=class extends D{#p;#m;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#m=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#m.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter((t=>t!==e)),this.scheduleGc(),this.#m.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#m.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){this.#c=O({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#m.canRun(this)});const t="pending"===this.state.status,n=!this.#c.canStart();try{if(!t){this.#h({type:"pending",variables:e,isPaused:n}),await(this.#m.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#c.start();return await(this.#m.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#m.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#h({type:"success",data:r}),r}catch(r){try{throw await(this.#m.config.onError?.(r,e,this.state.context,this)),await(this.options.onError?.(r,e,this.state.context)),await(this.#m.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,r,e,this.state.context)),r}finally{this.#h({type:"error",error:r})}}finally{this.#m.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),C.batch((()=>{this.#p.forEach((t=>{t.onMutationUpdate(e)})),this.#m.notify({mutation:this,type:"updated",action:e})}))}};var $=class extends N{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#g=new Set,this.#y=new Map,this.#v=0}#g;#y;#v;build(e,t,n){const r=new U({mutationCache:this,mutationId:++this.#v,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#g.add(e);const t=V(e);if("string"===typeof t){const n=this.#y.get(t);n?n.push(e):this.#y.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){const t=V(e);if("string"===typeof t){const n=this.#y.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#y.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=V(e);if("string"===typeof t){const n=this.#y.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=V(e);if("string"===typeof t){const n=this.#y.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){C.batch((()=>{this.#g.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#g.clear(),this.#y.clear()}))}getAll(){return Array.from(this.#g)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>u(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>u(e,t)))}notify(e){C.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return C.batch((()=>Promise.all(e.map((e=>e.continue().catch(i))))))}};function V(e){return e.options.scope?.id}function z(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let n=!1;const c=S(t.options,t.fetchOptions),u=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const s={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var a;a=s,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const o=await c(s),{maxPages:l}=t.options,u=i?w:x;return{pages:u(e.pages,o,l),pageParams:u(e.pageParams,r,l)}};if(i&&s.length){const e="backward"===i,t={pages:s,pageParams:a},n=(e?q:B)(r,t);o=await u(t,n,e)}else{const t=e??s.length;do{const e=0===l?a[0]??r.initialPageParam:B(r,o);if(l>0&&null==e)break;o=await u(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function B(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function q(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var H=n(43),W=n.t(H,2),K=n(579),G=H.createContext(void 0),Q=e=>{const t=H.useContext(G);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Y=e=>{let{client:t,children:n}=e;return H.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,K.jsx)(G.Provider,{value:t,children:n})},X=n(391),J=(n(358),"popstate");function Z(){return ae((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return re("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ie(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function ee(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function te(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ne(e,t){return{usr:e.state,key:e.key,idx:t}}function re(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?se(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function ie(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function se(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ae(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:ie(e);return n=n.replace(/ $/,"%20"),ee(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==c&&(c=0,a.replaceState({...a.state,idx:c},""));let f={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(J,d),l=e,()=>{i.removeEventListener(J,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=re(f.location,e,t);n&&n(r,e),c=u()+1;let d=ne(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=re(f.location,e,t);n&&n(r,e),c=u();let i=ne(r,c),d=f.createHref(r);a.replaceState(i,"",d),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}new WeakMap;function oe(e,t){return le(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function le(e,t,n,r){let i=ke(("string"===typeof t?se(t):t).pathname||"/",n);if(null==i)return null;let s=ce(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=we(i);a=be(s[o],e,r)}return a}function ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(ee(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let o=Te([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(ee(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),ce(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:ve(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of ue(e.path))i(e,t,n);else i(e,t)})),t}function ue(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=ue(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var de=/^:[\w-]+$/,he=3,fe=2,pe=1,me=10,ge=-2,ye=e=>"*"===e;function ve(e,t){let n=e.split("/"),r=n.length;return n.some(ye)&&(r+=ge),t&&(r+=fe),n.filter((e=>!ye(e))).reduce(((e,t)=>e+(de.test(t)?he:""===t?pe:me)),r)}function be(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=xe({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=xe({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Te([s,u.pathname]),pathnameBase:_e(Te([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Te([s,u.pathnameBase]))}return a}function xe(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];te("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function we(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return te(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ke(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Se(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ee(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Ce(e){let t=Ee(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function Ne(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=se(e):(r={...e},ee(!r.pathname||!r.pathname.includes("?"),Se("?","pathname","search",r)),ee(!r.pathname||!r.pathname.includes("#"),Se("#","pathname","hash",r)),ee(!r.search||!r.search.includes("#"),Se("#","search","hash",r)));let s,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?se(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:je(r),hash:Ie(i)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Te=e=>e.join("/").replace(/\/\/+/g,"/"),_e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),je=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ie=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Ae=["POST","PUT","PATCH","DELETE"],Re=(new Set(Ae),["GET",...Ae]);new Set(Re),Symbol("ResetLoaderData");var Oe=H.createContext(null);Oe.displayName="DataRouter";var De=H.createContext(null);De.displayName="DataRouterState";var Me=H.createContext({isTransitioning:!1});Me.displayName="ViewTransition";var Le=H.createContext(new Map);Le.displayName="Fetchers";var Fe=H.createContext(null);Fe.displayName="Await";var Ue=H.createContext(null);Ue.displayName="Navigation";var $e=H.createContext(null);$e.displayName="Location";var Ve=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ve.displayName="Route";var ze=H.createContext(null);ze.displayName="RouteError";function Be(){return null!=H.useContext($e)}function qe(){return ee(Be(),"useLocation() may be used only in the context of a <Router> component."),H.useContext($e).location}var He="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function We(e){H.useContext(Ue).static||H.useLayoutEffect(e)}function Ke(){let{isDataRoute:e}=H.useContext(Ve);return e?function(){let{router:e}=it("useNavigate"),t=at("useNavigate"),n=H.useRef(!1);We((()=>{n.current=!0}));let r=H.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};te(n.current,He),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return r}():function(){ee(Be(),"useNavigate() may be used only in the context of a <Router> component.");let e=H.useContext(Oe),{basename:t,navigator:n}=H.useContext(Ue),{matches:r}=H.useContext(Ve),{pathname:i}=qe(),s=JSON.stringify(Ce(r)),a=H.useRef(!1);We((()=>{a.current=!0}));let o=H.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(te(a.current,He),!a.current)return;if("number"===typeof r)return void n.go(r);let l=Ne(r,JSON.parse(s),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Te([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)}),[t,n,s,i,e]);return o}()}var Ge=H.createContext(null);function Qe(){let{matches:e}=H.useContext(Ve),t=e[e.length-1];return t?t.params:{}}function Ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=H.useContext(Ve),{pathname:r}=qe(),i=JSON.stringify(Ce(n));return H.useMemo((()=>Ne(e,JSON.parse(i),r,"path"===t)),[e,i,r,t])}function Xe(e,t,n,r){ee(Be(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=H.useContext(Ue),{matches:a}=H.useContext(Ve),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let e=d&&d.path||"";ct(c,!d||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let h,f=qe();if(t){let e="string"===typeof t?se(t):t;ee("/"===u||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),h=e}else h=f;let p=h.pathname||"/",m=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=!s&&n&&n.matches&&n.matches.length>0?n.matches:oe(e,{pathname:m});te(d||null!=g,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),te(null==g||void 0!==g[g.length-1].route.element||void 0!==g[g.length-1].route.Component||void 0!==g[g.length-1].route.lazy,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=nt(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Te([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Te([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);return t&&y?H.createElement($e.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function Je(){let e=ot(),t=Pe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=H.createElement(H.Fragment,null,H.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:i},n):null,a)}var Ze=H.createElement(Je,null),et=class extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?H.createElement(Ve.Provider,{value:this.props.routeContext},H.createElement(ze.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tt(e){let{routeContext:t,match:n,children:r}=e,i=H.useContext(Oe);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(Ve.Provider,{value:t},r)}function nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,i=n?.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&void 0!==i?.[e.route.id]));ee(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,a=-1;if(n)for(let o=0;o<r.length;o++){let e=r[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=o),e.route.id){let{loaderData:t,errors:i}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||o){s=!0,r=a>=0?r.slice(0,a+1):[r[0]];break}}}return r.reduceRight(((e,o,l)=>{let c,u=!1,d=null,h=null;n&&(c=i&&o.route.id?i[o.route.id]:void 0,d=o.route.errorElement||Ze,s&&(a<0&&0===l?(ct("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,h=null):a===l&&(u=!0,h=o.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,l+1)),p=()=>{let t;return t=c?d:u?h:o.route.Component?H.createElement(o.route.Component,null):o.route.element?o.route.element:e,H.createElement(tt,{match:o,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===l)?H.createElement(et,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()}),null)}function rt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function it(e){let t=H.useContext(Oe);return ee(t,rt(e)),t}function st(e){let t=H.useContext(De);return ee(t,rt(e)),t}function at(e){let t=function(e){let t=H.useContext(Ve);return ee(t,rt(e)),t}(e),n=t.matches[t.matches.length-1];return ee(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ot(){let e=H.useContext(ze),t=st("useRouteError"),n=at("useRouteError");return void 0!==e?e:t.errors?.[n]}var lt={};function ct(e,t,n){t||lt[e]||(lt[e]=!0,te(!1,n))}H.memo((function(e){let{routes:t,future:n,state:r}=e;return Xe(t,void 0,r,n)}));function ut(e){let{to:t,replace:n,state:r,relative:i}=e;ee(Be(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=H.useContext(Ue);te(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=H.useContext(Ve),{pathname:o}=qe(),l=Ke(),c=Ne(t,Ce(a),o,"path"===i),u=JSON.stringify(c);return H.useEffect((()=>{l(JSON.parse(u),{replace:n,state:r,relative:i})}),[l,u,i,n,r]),null}function dt(e){return function(e){let t=H.useContext(Ve).outlet;return t?H.createElement(Ge.Provider,{value:e},t):t}(e.context)}function ht(e){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ft(e){let{basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:s,static:a=!1}=e;ee(!Be(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=H.useMemo((()=>({basename:o,navigator:s,static:a,future:{}})),[o,s,a]);"string"===typeof r&&(r=se(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,p=H.useMemo((()=>{let e=ke(c,o);return null==e?null:{location:{pathname:e,search:u,hash:d,state:h,key:f},navigationType:i}}),[o,c,u,d,h,f,i]);return te(null!=p,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:H.createElement(Ue.Provider,{value:l},H.createElement($e.Provider,{children:n,value:p}))}function pt(e){let{children:t,location:n}=e;return Xe(mt(t),n)}H.Component;function mt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return H.Children.forEach(e,((e,r)=>{if(!H.isValidElement(e))return;let i=[...t,r];if(e.type===H.Fragment)return void n.push.apply(n,mt(e.props.children,i));ee(e.type===ht,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=mt(e.props.children,i)),n.push(s)})),n}var gt="get",yt="application/x-www-form-urlencoded";function vt(e){return null!=e&&"string"===typeof e.tagName}var bt=null;var xt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wt(e){return null==e||xt.has(e)?e:(te(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yt}"`),null)}function kt(e,t){let n,r,i,s,a;if(vt(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?ke(a,t):null,n=e.getAttribute("method")||gt,i=wt(e.getAttribute("enctype"))||yt,s=new FormData(e)}else if(function(e){return vt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return vt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?ke(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||gt,i=wt(e.getAttribute("formenctype"))||wt(a.getAttribute("enctype"))||yt,s=new FormData(a,e),!function(){if(null===bt)try{new FormData(document.createElement("form"),0),bt=!1}catch(e){bt=!0}return bt}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(vt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gt,r=null,i=yt,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function St(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Et(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ct(e){return null!=e&&"string"===typeof e.page}function Nt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Tt(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function _t(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function jt(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ct(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function It(e){return{__html:e}}Symbol("SingleFetchRedirect");function Pt(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===ke(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}H.Component;function At(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,i=H.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Pe(t))return H.createElement(Rt,{title:"Unhandled Thrown Response!"},H.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return H.createElement(Rt,{title:"Application Error!",isOutsideRemixApp:n},H.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),H.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function Rt(e){let{title:t,renderScripts:n,isOutsideRemixApp:r,children:i}=e,{routeModules:s}=Ft();return s.root?.Layout&&!r?i:H.createElement("html",{lang:"en"},H.createElement("head",null,H.createElement("meta",{charSet:"utf-8"}),H.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),H.createElement("title",null,t)),H.createElement("body",null,H.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?H.createElement(Ht,null):null)))}function Ot(e){return!0===e}function Dt(){let e=H.useContext(Oe);return St(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Mt(){let e=H.useContext(De);return St(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Lt=H.createContext(void 0);function Ft(){let e=H.useContext(Lt);return St(e,"You must render this element inside a <HydratedRouter> element"),e}function Ut(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $t(e,t,n){if(n&&!qt)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Vt(e){let{page:t,...n}=e,{router:r}=Dt(),i=H.useMemo((()=>oe(r.routes,t,r.basename)),[r.routes,t,r.basename]);return i?H.createElement(Bt,{page:t,matches:i,...n}):null}function zt(e){let{manifest:t,routeModules:n}=Ft(),[r,i]=H.useState([]);return H.useEffect((()=>{let r=!1;return async function(e,t,n){return jt((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Et(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Nt).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),r}function Bt(e){let{page:t,matches:n,...r}=e,i=qe(),{manifest:s,routeModules:a}=Ft(),{basename:o}=Dt(),{loaderData:l,matches:c}=Mt(),u=H.useMemo((()=>Tt(t,n,c,s,i,"data")),[t,n,c,s,i]),d=H.useMemo((()=>Tt(t,n,c,s,i,"assets")),[t,n,c,s,i]),h=H.useMemo((()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=s.routes[t.route.id];n&&n.hasLoader&&(!u.some((e=>e.route.id===t.route.id))&&t.route.id in l&&a[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let c=Pt(t,o);return r&&e.size>0&&c.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[c.pathname+c.search]}),[o,l,i,s,u,n,t,a]),f=H.useMemo((()=>_t(d,s)),[d,s]),p=zt(d);return H.createElement(H.Fragment,null,h.map((e=>H.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r}))),f.map((e=>H.createElement("link",{key:e,rel:"modulepreload",href:e,...r}))),p.map((e=>{let{key:t,link:n}=e;return H.createElement("link",{key:t,...n})})))}Lt.displayName="FrameworkContext";var qt=!1;function Ht(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,ssr:i,renderMeta:s}=Ft(),{router:a,static:o,staticContext:l}=Dt(),{matches:c}=Mt(),u=Ot(i);s&&(s.didRenderScripts=!0);let d=$t(c,null,r);H.useEffect((()=>{qt=!0}),[]);let h=H.useMemo((()=>{let r=l?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=o?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(t.url)}`};\n${d.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];St(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${u?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=oe(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:s}}(t,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return H.createElement(H.Fragment,null,H.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:It(r),type:void 0}),H.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:It(i),type:"module",async:!0}))}),[]),f=qt?[]:t.entry.imports.concat(_t(d,t,{includeHydrateFallback:!0}));return qt?null:H.createElement(H.Fragment,null,u?null:H.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),H.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(p=f,[...new Set(p)]).map((t=>H.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),h);var p}function Wt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Kt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Kt&&(window.__reactRouterVersion="7.4.1")}catch(NL){}function Gt(e){let{basename:t,children:n,window:r}=e,i=H.useRef();null==i.current&&(i.current=Z({window:r,v5Compat:!0}));let s=i.current,[a,o]=H.useState({action:s.action,location:s.location}),l=H.useCallback((e=>{H.startTransition((()=>o(e)))}),[o]);return H.useLayoutEffect((()=>s.listen(l)),[s,l]),H.createElement(ft,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var Qt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=H.forwardRef((function(e,t){let n,{onClick:r,discover:i="render",prefetch:s="none",relative:a,reloadDocument:o,replace:l,state:c,target:u,to:d,preventScrollReset:h,viewTransition:f,...p}=e,{basename:m}=H.useContext(Ue),g="string"===typeof d&&Qt.test(d),y=!1;if("string"===typeof d&&g&&(n=d,Kt))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=ke(t.pathname,m);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(NL){te(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ee(Be(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=H.useContext(Ue),{hash:i,pathname:s,search:a}=Ye(e,{relative:t}),o=s;return"/"!==n&&(o="/"===s?n:Te([n,s])),r.createHref({pathname:o,search:a,hash:i})}(d,{relative:a}),[b,x,w]=function(e,t){let n=H.useContext(Lt),[r,i]=H.useState(!1),[s,a]=H.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=H.useRef(null);H.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),H.useEffect((()=>{if(r){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let f=()=>{i(!0)},p=()=>{i(!1),a(!1)};return n?"intent"!==e?[s,h,{}]:[s,h,{onFocus:Ut(o,f),onBlur:Ut(l,p),onMouseEnter:Ut(c,f),onMouseLeave:Ut(u,p),onTouchStart:Ut(d,f)}]:[!1,h,{}]}(s,p),k=function(e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Ke(),l=qe(),c=Ye(e,{relative:s});return H.useCallback((u=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(u,t)){u.preventDefault();let t=void 0!==n?n:ie(l)===ie(c);o(e,{replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a})}}),[l,o,c,n,r,t,e,i,s,a])}(d,{replace:l,state:c,target:u,preventScrollReset:h,relative:a,viewTransition:f});let S=H.createElement("a",{...p,...w,href:n||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:Wt(t,x),target:u,"data-discover":g||"render"!==i?void 0:"true"});return b&&!g?H.createElement(H.Fragment,null,S,H.createElement(Vt,{page:v})):S}));Yt.displayName="Link";var Xt=H.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:s=!1,style:a,to:o,viewTransition:l,children:c,...u}=e,d=Ye(o,{relative:u.relative}),h=qe(),f=H.useContext(De),{navigator:p,basename:m}=H.useContext(Ue),g=null!=f&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=H.useContext(Me);ee(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=en("useViewTransitionState"),i=Ye(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=ke(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ke(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=xe(i.pathname,a)||null!=xe(i.pathname,s)}(d)&&!0===l,y=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,v=h.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&m&&(b=ke(b,m)||b);const x="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,k=v===y||!s&&v.startsWith(y)&&"/"===v.charAt(x),S=null!=b&&(b===y||!s&&b.startsWith(y)&&"/"===b.charAt(y.length)),E={isActive:k,isPending:S,isTransitioning:g},C=k?n:void 0;w="function"===typeof i?i(E):[i,k?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof a?a(E):a;return H.createElement(Yt,{...u,"aria-current":C,className:w,ref:t,style:N,to:o,viewTransition:l},"function"===typeof c?c(E):c)}));Xt.displayName="NavLink";var Jt=H.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:i,reloadDocument:s,replace:a,state:o,method:l=gt,action:c,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:f,...p}=e,m=rn(),g=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=H.useContext(Ue),r=H.useContext(Ve);ee(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ye(e||".",{relative:t})},a=qe();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:Te([n,s.pathname]));return ie(s)}(c,{relative:d}),y="get"===l.toLowerCase()?"get":"post",v="string"===typeof c&&Qt.test(c);return H.createElement("form",{ref:t,method:y,action:g,onSubmit:s?u:e=>{if(u&&u(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||l;m(t||e.currentTarget,{fetcherKey:r,method:n,navigate:i,replace:a,state:o,relative:d,preventScrollReset:h,viewTransition:f})},...p,"data-discover":v||"render"!==n?void 0:"true"})}));function Zt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function en(e){let t=H.useContext(Oe);return ee(t,Zt(e)),t}Jt.displayName="Form";var tn=0,nn=()=>`__${String(++tn)}__`;function rn(){let{router:e}=en("useSubmit"),{basename:t}=H.useContext(Ue),n=at("useRouteId");return H.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=kt(r,t);if(!1===i.navigate){let t=i.fetcherKey||nn();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;const sn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},an={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new on;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class on extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ln=function(e){return function(e){const t=sn(e);return an.encodeByteArray(t,!0)}(e).replace(/\./g,"")},cn=function(e){try{return an.decodeString(e,!0)}catch(NL){console.error("base64Decode failed: ",NL)}return null};const un=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,dn=()=>{try{return un()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/e-commerce",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PIXABAY_API_KEY:"49617102-296d5be52e6acd64e825328c9"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(NL){return}const t=e&&cn(e[1]);return t&&JSON.parse(t)})()}catch(NL){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${NL}`)}},hn=e=>{var t,n;return null===(n=null===(t=dn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},fn=e=>{const t=hn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},pn=()=>{var e;return null===(e=dn())||void 0===e?void 0:e.config},mn=e=>{var t;return null===(t=dn())||void 0===t?void 0:t[`_${e}`]};class gn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function yn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ln(JSON.stringify({alg:"none",type:"JWT"})),ln(JSON.stringify(s)),""].join(".")}function vn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bn(){return!function(){var e;const t=null===(e=dn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(NL){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xn(){try{return"object"===typeof indexedDB}catch(NL){return!1}}class wn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}}class kn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Sn,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new wn(n,s,t)}}const Sn=/\{\$([^}]+)}/g;function En(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Cn(n)&&Cn(s)){if(!En(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cn(e){return null!==e&&"object"===typeof e}function Nn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Tn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function _n(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class jn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=In),void 0===r.error&&(r.error=In),void 0===r.complete&&(r.complete=In);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(NL){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(NL){"undefined"!==typeof console&&console.error&&console.error(NL)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function In(){}function Pn(e){return e&&e._delegate?e._delegate:e}class An{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rn="[DEFAULT]";class On{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(NL){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(NL){if(r)return null;throw NL}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Rn})}catch(NL){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(NL){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dn(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn;return this.component?this.component.multipleInstances?e:Rn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Dn(e){return e===Rn?void 0:e}class Mn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new On(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ln=[];var Fn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fn||(Fn={}));const Un={debug:Fn.DEBUG,verbose:Fn.VERBOSE,info:Fn.INFO,warn:Fn.WARN,error:Fn.ERROR,silent:Fn.SILENT},$n=Fn.INFO,Vn={[Fn.DEBUG]:"log",[Fn.VERBOSE]:"log",[Fn.INFO]:"info",[Fn.WARN]:"warn",[Fn.ERROR]:"error"},zn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Vn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Bn{constructor(e){this.name=e,this._logLevel=$n,this._logHandler=zn,this._userLogHandler=null,Ln.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Un[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.DEBUG,...t),this._logHandler(this,Fn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.VERBOSE,...t),this._logHandler(this,Fn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.INFO,...t),this._logHandler(this,Fn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.WARN,...t),this._logHandler(this,Fn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.ERROR,...t),this._logHandler(this,Fn.ERROR,...t)}}let qn,Hn;const Wn=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,Qn=new WeakMap,Yn=new WeakMap;let Xn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Kn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Jn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hn||(Hn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(tr(this),n),er(Wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return er(e.apply(tr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(tr(this),t,...r);return Gn.set(s,t.sort?t.sort():[t]),er(s)}}function Zn(e){return"function"===typeof e?Jn(e):(e instanceof IDBTransaction&&function(e){if(Kn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Kn.set(e,t)}(e),t=e,(qn||(qn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Xn):e);var t}function er(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(er(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Wn.set(t,e)})).catch((()=>{})),Yn.set(t,e),t}(e);if(Qn.has(e))return Qn.get(e);const t=Zn(e);return t!==e&&(Qn.set(e,t),Yn.set(t,e)),t}const tr=e=>Yn.get(e);const nr=["get","getKey","getAll","getAllKeys","count"],rr=["put","add","delete","clear"],ir=new Map;function sr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ir.get(t))return ir.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=rr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!nr.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return ir.set(t,s),s}Xn=(e=>({...e,get:(t,n,r)=>sr(t,n)||e.get(t,n,r),has:(t,n)=>!!sr(t,n)||e.has(t,n)}))(Xn);class ar{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const or="@firebase/app",lr="0.11.3",cr=new Bn("@firebase/app"),ur="@firebase/app-compat",dr="@firebase/analytics-compat",hr="@firebase/analytics",fr="@firebase/app-check-compat",pr="@firebase/app-check",mr="@firebase/auth",gr="@firebase/auth-compat",yr="@firebase/database",vr="@firebase/data-connect",br="@firebase/database-compat",xr="@firebase/functions",wr="@firebase/functions-compat",kr="@firebase/installations",Sr="@firebase/installations-compat",Er="@firebase/messaging",Cr="@firebase/messaging-compat",Nr="@firebase/performance",Tr="@firebase/performance-compat",_r="@firebase/remote-config",jr="@firebase/remote-config-compat",Ir="@firebase/storage",Pr="@firebase/storage-compat",Ar="@firebase/firestore",Rr="@firebase/vertexai",Or="@firebase/firestore-compat",Dr="firebase",Mr="[DEFAULT]",Lr={[or]:"fire-core",[ur]:"fire-core-compat",[hr]:"fire-analytics",[dr]:"fire-analytics-compat",[pr]:"fire-app-check",[fr]:"fire-app-check-compat",[mr]:"fire-auth",[gr]:"fire-auth-compat",[yr]:"fire-rtdb",[vr]:"fire-data-connect",[br]:"fire-rtdb-compat",[xr]:"fire-fn",[wr]:"fire-fn-compat",[kr]:"fire-iid",[Sr]:"fire-iid-compat",[Er]:"fire-fcm",[Cr]:"fire-fcm-compat",[Nr]:"fire-perf",[Tr]:"fire-perf-compat",[_r]:"fire-rc",[jr]:"fire-rc-compat",[Ir]:"fire-gcs",[Pr]:"fire-gcs-compat",[Ar]:"fire-fst",[Or]:"fire-fst-compat",[Rr]:"fire-vertex","fire-js":"fire-js",[Dr]:"fire-js-all"},Fr=new Map,Ur=new Map,$r=new Map;function Vr(e,t){try{e.container.addComponent(t)}catch(NL){cr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,NL)}}function zr(e){const t=e.name;if($r.has(t))return cr.debug(`There were multiple attempts to register component ${t}.`),!1;$r.set(t,e);for(const n of Fr.values())Vr(n,e);for(const n of Ur.values())Vr(n,e);return!0}function Br(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Hr=new kn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Wr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new An("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const Kr="11.5.0";function Gr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Mr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=pn()),!n)throw Hr.create("no-options");const s=Fr.get(i);if(s){if(En(n,s.options)&&En(r,s.config))return s;throw Hr.create("duplicate-app",{appName:i})}const a=new Mn(i);for(const l of $r.values())a.addComponent(l);const o=new Wr(n,r,a);return Fr.set(i,o),o}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mr;const t=Fr.get(e);if(!t&&e===Mr&&pn())return Gr();if(!t)throw Hr.create("no-app",{appName:e});return t}function Yr(e,t,n){var r;let i=null!==(r=Lr[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void cr.warn(e.join(" "))}zr(new An(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Xr="firebase-heartbeat-store";let Jr=null;function Zr(){return Jr||(Jr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=er(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(er(a.result),e.oldVersion,e.newVersion,er(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Xr)}catch(NL){console.warn(NL)}}}).catch((e=>{throw Hr.create("idb-open",{originalErrorMessage:e.message})}))),Jr}async function ei(e,t){try{const n=(await Zr()).transaction(Xr,"readwrite"),r=n.objectStore(Xr);await r.put(t,ti(e)),await n.done}catch(NL){if(NL instanceof wn)cr.warn(NL.message);else{const t=Hr.create("idb-set",{originalErrorMessage:null===NL||void 0===NL?void 0:NL.message});cr.warn(t.message)}}}function ti(e){return`${e.name}!${e.options.appId}`}class ni{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ii(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ri();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(NL){cr.warn(NL)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ri(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),si(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),si(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ln(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(NL){return cr.warn(NL),""}}}function ri(){return(new Date).toISOString().substring(0,10)}class ii{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!xn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Zr()).transaction(Xr),n=await t.objectStore(Xr).get(ti(e));return await t.done,n}catch(NL){if(NL instanceof wn)cr.warn(NL.message);else{const t=Hr.create("idb-get",{originalErrorMessage:null===NL||void 0===NL?void 0:NL.message});cr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ei(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ei(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function si(e){return ln(JSON.stringify({version:2,heartbeats:e})).length}var ai;ai="",zr(new An("platform-logger",(e=>new ar(e)),"PRIVATE")),zr(new An("heartbeat",(e=>new ni(e)),"PRIVATE")),Yr(or,lr,ai),Yr(or,lr,"esm2017"),Yr("fire-js","");function oi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function li(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ci=li,ui=new kn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),di=new Bn("@firebase/auth");function hi(e){if(di.logLevel<=Fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];di.error(`Auth (${Kr}): ${e}`,...n)}}function fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw yi(e,...n)}function pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yi(e,...n)}function mi(e,t,n){const r=Object.assign(Object.assign({},ci()),{[t]:n});return new kn("auth","Firebase",r).create(t,{appName:e.name})}function gi(e){return mi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ui.create(e,...n)}function vi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw yi(t,...r)}}function bi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hi(t),new Error(t)}function xi(e,t){e||bi(t)}function wi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ki(){return"http:"===Si()||"https:"===Si()}function Si(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ei(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ki()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ci{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ei()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ni(e,t){xi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ti{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _i={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ji=new Ci(3e4,6e4);function Ii(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pi(e,t,n,r){return Ai(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Nn(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Ti.fetch()(Oi(e,e.config.apiHost,n,a),l)}))}async function Ai(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},_i),t);try{const t=new Mi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Li(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Li(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Li(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Li(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw mi(e,o,a);fi(e,o)}}catch(NL){if(NL instanceof wn)throw NL;fi(e,"network-request-failed",{message:String(NL)})}}async function Ri(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Pi(e,t,n,r,i);return"mfaPendingCredential"in s&&fi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Oi(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ni(e.config,i):`${e.config.apiScheme}://${i}`}function Di(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(pi(this.auth,"network-request-failed"))),ji.get())}))}}function Li(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(e,t,r);return i.customData._tokenResponse=n,i}function Fi(e){return void 0!==e&&void 0!==e.enterprise}class Ui{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Di(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $i(e,t){return Pi(e,"GET","/v2/recaptchaConfig",Ii(e,t))}async function Vi(e,t){return Pi(e,"POST","/v1/accounts:lookup",t)}function zi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(NL){}}function Bi(e){return 1e3*Number(e)}function qi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return hi("JWT malformed, contained fewer than 3 sections"),null;try{const e=cn(n);return e?JSON.parse(e):(hi("Failed to decode base64 JWT payload"),null)}catch(NL){return hi("Caught error parsing JWT payload as JSON",null===NL||void 0===NL?void 0:NL.toString()),null}}function Hi(e){const t=qi(e);return vi(t,"internal-error"),vi("undefined"!==typeof t.exp,"internal-error"),vi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Wi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(NL){throw NL instanceof wn&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(NL)&&e.auth.currentUser===e&&await e.auth.signOut(),NL}}class Ki{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(NL){return void("auth/network-request-failed"===(null===NL||void 0===NL?void 0:NL.code)&&this.schedule(!0))}this.schedule()}}class Gi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zi(this.lastLoginAt),this.creationTime=zi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wi(e,Vi(n,{idToken:r}));vi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Yi(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Gi(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Yi(e){return e.map((e=>{var{providerId:t}=e,n=oi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vi(e.idToken,"internal-error"),vi("undefined"!==typeof e.idToken,"internal-error"),vi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Hi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){vi(0!==e.length,"internal-error");const t=Hi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(vi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ai(e,{},(async()=>{const n=Nn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Oi(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ti.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Xi;return n&&(vi("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(vi("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(vi("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xi,this.toJSON())}_performRefresh(){return bi("not implemented")}}function Ji(e,t){vi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Zi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=oi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ki(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wi(this,this.stsTokenManager.getToken(this.auth,e));return vi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Pn(e),r=await n.getIdToken(t),i=qi(r);vi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zi(Bi(i.auth_time)),issuedAtTime:zi(Bi(i.iat)),expirationTime:zi(Bi(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Pn(e);await Qi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(vi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Qi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Wi(this,async function(e,t){return Pi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:k}=t;vi(v&&k,e,"internal-error");const S=Xi.fromJSON(this.name,k);vi("string"===typeof v,e,"internal-error"),Ji(u,e.name),Ji(d,e.name),vi("boolean"===typeof b,e,"internal-error"),vi("boolean"===typeof x,e,"internal-error"),Ji(h,e.name),Ji(f,e.name),Ji(p,e.name),Ji(m,e.name),Ji(g,e.name),Ji(y,e.name);const E=new Zi({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(E.providerData=w.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xi;r.updateFromServerResponse(t);const i=new Zi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Qi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];vi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Yi(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Xi;a.updateFromIdToken(n);const o=new Zi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Gi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const es=new Map;function ts(e){xi(e instanceof Function,"Expected a class definition");let t=es.get(e);return t?(xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,es.set(e,t),t)}class ns{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ns.type="NONE";const rs=ns;function is(e,t,n){return`firebase:${e}:${t}:${n}`}class ss{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=is(this.userKey,r.apiKey,i),this.fullPersistenceKey=is("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ss(ts(rs),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ts(rs);const s=is(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Zi._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new ss(i,e,n)):new ss(i,e,n)}}function as(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(us(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(os(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hs(t))return"Blackberry";if(fs(t))return"Webos";if(ls(t))return"Safari";if((t.includes("chrome/")||cs(t))&&!t.includes("edge/"))return"Chrome";if(ds(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function os(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/firefox\//i.test(e)}function ls(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/crios\//i.test(e)}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iemobile/i.test(e)}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/android/i.test(e)}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/blackberry/i.test(e)}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/webos/i.test(e)}function ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ms(){return function(){const e=vn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn();return ps(e)||ds(e)||fs(e)||hs(e)||/windows phone/i.test(e)||us(e)}function ys(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=as(vn());break;case"Worker":t=`${as(vn())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Kr}/${r}`}class vs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(NL){r(NL)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(NL){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===NL||void 0===NL?void 0:NL.message})}}}class bs{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class xs{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ks(this),this.idTokenSubscription=new ks(this),this.beforeStateQueue=new vs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ui,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ts(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ss.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(NL){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Vi(this,{idToken:e}),n=await Zi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(NL){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(NL)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(NL){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qi(e)}catch(NL){if("auth/network-request-failed"!==(null===NL||void 0===NL?void 0:NL.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(gi(this));const t=e?Pn(e):null;return t&&vi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&vi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return qr(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(gi(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ts(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Pi(e,"GET","/v2/passwordPolicy",Ii(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bs(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Pi(e,"POST","/v2/accounts:revokeToken",Ii(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ts(e)||this._popupRedirectResolver;vi(t,this,"argument-error"),this.redirectPersistenceManager=await ss.create(this,[ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vi(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ys(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(di.logLevel<=Fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];di.warn(`Auth (${Kr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ws(e){return Pn(e)}class ks{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new jn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return vi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ss={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Es(e){return Ss.loadJS(e)}function Cs(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ns{constructor(){this.enterprise=new Ts}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ts{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _s="NO_RECAPTCHA";class js{constructor(e){this.type="recaptcha-enterprise",this.auth=ws(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Fi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(_s)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ns).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{$i(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ui(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Fi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ss.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Es(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Is(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new js(e);let a;if(i)a=_s;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ps(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Is(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Is(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Is(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Is(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Is(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function As(e){const t=ws(e),n=await $i(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ui(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new js(t).verify()}}function Rs(e,t,n){const r=ws(e);vi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Os(t),{host:a,port:o}=function(e){const t=Os(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ds(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ds(t)}}}(t),l={url:`${s}//${a}${null===o?"":`:${o}`}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return vi(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void vi(En(l,r.config.emulator)&&En(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Os(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ds(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ms{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,t){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function Ls(e,t){return Pi(e,"POST","/v1/accounts:signUp",t)}async function Fs(e,t){return Ri(e,"POST","/v1/accounts:signInWithPassword",Ii(e,t))}class Us extends Ms{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Us(e,t,"password")}static _fromEmailAndCode(e,t){return new Us(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ps(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ri(e,"POST","/v1/accounts:signInWithEmailLink",Ii(e,t))}(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ps(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ls,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ri(e,"POST","/v1/accounts:signInWithEmailLink",Ii(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $s(e,t){return Ri(e,"POST","/v1/accounts:signInWithIdp",Ii(e,t))}class Vs extends Ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=oi(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Vs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return $s(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$s(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$s(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nn(t)}return e}}async function zs(e,t){return Pi(e,"POST","/v1/accounts:sendVerificationCode",Ii(e,t))}const Bs={USER_NOT_FOUND:"user-not-found"};class qs extends Ms{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ri(e,"POST","/v1/accounts:signInWithPhoneNumber",Ii(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ri(e,"POST","/v1/accounts:signInWithPhoneNumber",Ii(e,t));if(n.temporaryProof)throw Li(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ri(e,"POST","/v1/accounts:signInWithPhoneNumber",Ii(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Bs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new qs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Hs{constructor(e){var t,n,r,i,s,a;const o=Tn(_n(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);vi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Tn(_n(e)).link,n=t?Tn(_n(t)).deep_link_id:null,r=Tn(_n(e)).deep_link_id;return(r?Tn(_n(r)).link:null)||r||n||t||e}(e);try{return new Hs(t)}catch(n){return null}}}class Ws{constructor(){this.providerId=Ws.PROVIDER_ID}static credential(e,t){return Us._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hs.parseLink(t);return vi(n,"argument-error"),Us._fromEmailAndCode(e,n.code,n.tenantId)}}Ws.PROVIDER_ID="password",Ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ks{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gs extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends Gs{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch(n){return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qs.PROVIDER_ID="facebook.com";class Ys extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ys.credential(n,r)}catch(i){return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com",Ys.PROVIDER_ID="google.com";class Xs extends Gs{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch(n){return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com",Xs.PROVIDER_ID="github.com";class Js extends Gs{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Js.credential(n,r)}catch(i){return null}}}async function Zs(e,t){return Ri(e,"POST","/v1/accounts:signUp",Ii(e,t))}Js.TWITTER_SIGN_IN_METHOD="twitter.com",Js.PROVIDER_ID="twitter.com";class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Zi._fromIdTokenResponse(e,n,r),s=ta(n);return new ea({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ta(n);return new ea({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ta(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class na extends wn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,na.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new na(e,t,n,r)}}function ra(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw na._fromErrorAndOperation(e,n,t,r);throw n}))}async function ia(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ea._forOperation(e,"link",r)}async function sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(qr(r.app))return Promise.reject(gi(r));const i="reauthenticate";try{const s=await Wi(e,ra(r,i,t,e),n);vi(s.idToken,r,"internal-error");const a=qi(s.idToken);vi(a,r,"internal-error");const{sub:o}=a;return vi(e.uid===o,r,"user-mismatch"),ea._forOperation(e,i,s)}catch(NL){throw"auth/user-not-found"===(null===NL||void 0===NL?void 0:NL.code)&&fi(r,"user-mismatch"),NL}}async function aa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(qr(e.app))return Promise.reject(gi(e));const r="signIn",i=await ra(e,r,t),s=await ea._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function oa(e,t){return aa(ws(e),t)}async function la(e){const t=ws(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ca(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Pn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Wi(i,async function(e,t){return Pi(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function ua(e,t){return Pi(e,"POST","/v2/accounts/mfaEnrollment:start",Ii(e,t))}new WeakMap;const da="__sak";class ha{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(da,"1"),this.storage.removeItem(da),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fa extends ha{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gs(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ms()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fa.type="LOCAL";const pa=fa;class ma extends ha{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ma.type="SESSION";const ga=ma;class ya{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ya(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function va(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ya.receivers=[];class ba{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=va("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function xa(){return window}function wa(){return"undefined"!==typeof xa().WorkerGlobalScope&&"function"===typeof xa().importScripts}const ka="firebaseLocalStorageDb",Sa="firebaseLocalStorage",Ea="fbase_key";class Ca{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Na(e,t){return e.transaction([Sa],t?"readwrite":"readonly").objectStore(Sa)}function Ta(){const e=indexedDB.open(ka,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Sa,{keyPath:Ea})}catch(NL){n(NL)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Sa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ka);return new Ca(e).toPromise()}(),t(await Ta()))}))}))}async function _a(e,t,n){const r=Na(e,!0).put({[Ea]:t,value:n});return new Ca(r).toPromise()}function ja(e,t){const n=Na(e,!0).delete(t);return new Ca(n).toPromise()}class Ia{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ta()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(NL){if(t++>3)throw NL;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wa()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ya._getInstance(wa()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ba(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ta();return await _a(e,da,"1"),await ja(e,da),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_a(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Na(e,!1).get(t),r=await new Ca(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ja(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Na(e,!1).getAll();return new Ca(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ia.type="LOCAL";const Pa=Ia;function Aa(e,t){return Pi(e,"POST","/v2/accounts/mfaSignIn:start",Ii(e,t))}Cs("rcb"),new Ci(3e4,6e4);const Ra="recaptcha";async function Oa(e,t,n){var r;if(!e._getRecaptchaConfig())try{await As(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){vi("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Ps(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===_s){vi((null===n||void 0===n?void 0:n.type)===Ra,e,"argument-error");return ua(e,await Da(e,t,n))}return ua(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{vi("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;vi(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Ps(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===_s){vi((null===n||void 0===n?void 0:n.type)===Ra,e,"argument-error");return Aa(e,await Da(e,t,n))}return Aa(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ps(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===_s){vi((null===n||void 0===n?void 0:n.type)===Ra,e,"argument-error");return zs(e,await Da(e,t,n))}return zs(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Da(e,t,n){vi(n.type===Ra,e,"argument-error");const r=await n.verify();vi("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ma{constructor(e){this.providerId=Ma.PROVIDER_ID,this.auth=ws(e)}verifyPhoneNumber(e,t){return Oa(this.auth,e,Pn(t))}static credential(e,t){return qs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ma.credentialFromTaggedObject(t)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?qs._fromTokenResponse(n,r):null}}function La(e,t){return t?ts(t):(vi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ma.PROVIDER_ID="phone",Ma.PHONE_SIGN_IN_METHOD="phone";class Fa extends Ms{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $s(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ua(e){return aa(e.auth,new Fa(e),e.bypassAuthState)}function $a(e){const{auth:t,user:n}=e;return vi(n,t,"internal-error"),sa(n,new Fa(e),e.bypassAuthState)}async function Va(e){const{auth:t,user:n}=e;return vi(n,t,"internal-error"),ia(n,new Fa(e),e.bypassAuthState)}class za{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(NL){this.reject(NL)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(NL){this.reject(NL)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ua;case"linkViaPopup":case"linkViaRedirect":return Va;case"reauthViaPopup":case"reauthViaRedirect":return $a;default:fi(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ba=new Ci(2e3,1e4);class qa extends za{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vi(e,this.auth,"internal-error"),e}async onExecution(){xi(1===this.filter.length,"Popup operations only handle one event");const e=va();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(pi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ba.get())};e()}}qa.currentPopupAction=null;const Ha=new Map;class Wa extends za{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ha.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qa(t),r=Ga(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(NL){e=()=>Promise.reject(NL)}Ha.set(this.auth._key(),e)}return this.bypassAuthState||Ha.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ka(e,t){Ha.set(e._key(),t)}function Ga(e){return ts(e._redirectPersistence)}function Qa(e){return is("pendingRedirect",e.config.apiKey,e.name)}async function Ya(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(qr(e.app))return Promise.reject(gi(e));const r=ws(e),i=La(r,t),s=new Wa(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Xa{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Za(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Za(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(e))}saveEventToCache(e){this.cachedEventUids.add(Ja(e)),this.lastProcessedEventTime=Date.now()}}function Ja(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Za(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const eo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,to=/^https?/;async function no(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Pi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ro(r))return}catch(n){}fi(e,"unauthorized-domain")}function ro(e){const t=wi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!to.test(n))return!1;if(eo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const io=new Ci(3e4,6e4);function so(){const e=xa().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ao(e){return new Promise(((t,n)=>{var r,i,s;function a(){so(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{so(),n(pi(e,"network-request-failed"))},timeout:io.get()})}if(null===(i=null===(r=xa().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=xa().gapi)||void 0===s?void 0:s.load)){const t=Cs("iframefcb");return xa()[t]=()=>{gapi.load?a():n(pi(e,"network-request-failed"))},Es(`${Ss.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw oo=null,e}))}let oo=null;const lo=new Ci(5e3,15e3),co={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ho(e){const t=e.config;vi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ni(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Kr},i=uo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nn(r).slice(1)}`}async function fo(e){const t=await function(e){return oo=oo||ao(e),oo}(e),n=xa().gapi;return vi(n,e,"internal-error"),t.open({where:document.body,url:ho(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:co,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=pi(e,"network-request-failed"),s=xa().setTimeout((()=>{r(i)}),lo.get());function a(){xa().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const po={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(NL){}}}function go(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},po),{width:r.toString(),height:i.toString(),top:s,left:a}),c=vn().toLowerCase();n&&(o=cs(c)?"_blank":n),os(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return ps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new mo(null);const d=window.open(t||"",o,u);vi(d,e,"popup-blocked");try{d.focus()}catch(NL){}return new mo(d)}const yo="__/auth/handler",vo="emulator/auth/handler",bo=encodeURIComponent("fac");async function xo(e,t,n,r,i,s){vi(e.config.authDomain,e,"auth-domain-config-required"),vi(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kr,eventId:i};if(t instanceof Ks){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Gs){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${bo}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${yo}`;return Ni(t,vo)}(e)}?${Nn(o).slice(1)}${c}`}const wo="webStorageSupport";const ko=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=Ya,this._overrideRedirectResult=Ka}async _openPopup(e,t,n,r){var i;xi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return go(e,await xo(e,t,n,wi(),r),va())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){xa().location.href=e}(await xo(e,t,n,wi(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await fo(e),n=new Xa(e);return t.register("authEvent",(t=>{vi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wo,{type:wo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[wo];void 0!==i&&t(!!i),fi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=no(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gs()||ls()||ps()}};var So="@firebase/auth",Eo="1.9.1";class Co{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const No=mn("authIdTokenMaxAge")||300;let To=null;var _o;Ss={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=pi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_o="Browser",zr(new An("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;vi(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:_o,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ys(_o)},c=new xs(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),zr(new An("auth-internal",(e=>(e=>new Co(e))(ws(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(So,Eo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_o)),Yr(So,Eo,"esm2017");var jo,Io,Po="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ao={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Io=Ao.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},jo=Ao.Integer=r}).apply("undefined"!==typeof Po?Po:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ro,Oo,Do,Mo,Lo,Fo,Uo,$o,Vo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},zo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vo&&Vo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new N),(e=>e.reset()));class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,_=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(yT){S(yT)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function A(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(yT){}return e}();function D(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,R);var M={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function $(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&($(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=B(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(s=e.g[t],n,r,i))&&($(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[q]=null)):$(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;w(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}d(ve,R),d(be,R);var xe={},we=null;function ke(){return we=we||new ne}function Se(e){R.call(this,xe.La,e)}function Ee(e){const t=ke();re(t,new Se(t))}function Ce(e,t){R.call(this,xe.STAT_EVENT,e),this.stat=t}function Ne(e){const t=ke();re(t,new Ce(t,e))}function Te(e,t){R.call(this,xe.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(Se,R),xe.STAT_EVENT="statevent",d(Ce,R),xe.Ma="timingevent",d(Te,R),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Pe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Pe=new Oe;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,$e(e,null)}function $e(e,t){e.F=Date.now(),Be(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||on(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}nn(n),Ne(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(He(o),Be(o)),r.g=a}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Ht(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ne(12),Ke(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Fe){4==h&&(this.s=4,Ne(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Ne(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(d),d.M=!0,Ne(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ie(this.i,this.l,o,null),Ge(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ke(this),We(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Ne(17)),Ke(this),this.s=2,We(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){wt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return wt(e),t=Ct(e,t),e.g.has(t)}function Et(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new fe}function _t(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(NL){throw t.push(r+"type="+encodeURIComponent("_badmap")),NL}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,St(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new It(this.l,this.j)},jt.prototype.i=function(e){return function(){return e}}({}),d(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):Rt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Qa=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),zt(e)}function $t(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Lt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",$t(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){Bt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(NL){}}}function Bt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(qo){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(vT){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||I(),_||(T(),_=!0),j.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{_t(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||I(),_||(T(),_=!0),j.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,$e(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=ke(),new Te(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout((()=>{n.abort(),Nt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Nt(0,0,!1,t)}))}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Dt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,$o=zo.createWebChannelTransport=function(){return new pn},Uo=zo.getStatEventTarget=function(){return ke()},Fo=zo.Event=xe,Lo=zo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Mo=zo.ErrorCode=Ae,Re.COMPLETE="complete",Do=zo.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Oo=zo.WebChannel=ge,zo.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Ro=zo.XhrIo=Mt}).apply("undefined"!==typeof Vo?Vo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Bo="@firebase/firestore",qo="4.7.10";class Ho{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ho.UNAUTHENTICATED=new Ho(null),Ho.GOOGLE_CREDENTIALS=new Ho("google-credentials-uid"),Ho.FIRST_PARTY=new Ho("first-party-uid"),Ho.MOCK_USER=new Ho("mock-user");let Wo="11.5.0";const Ko=new Bn("@firebase/firestore");function Go(){return Ko.logLevel}function Qo(e){if(Ko.logLevel<=Fn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jo);Ko.debug(`Firestore (${Wo}): ${e}`,...i)}}function Yo(e){if(Ko.logLevel<=Fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jo);Ko.error(`Firestore (${Wo}): ${e}`,...i)}}function Xo(e){if(Ko.logLevel<=Fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jo);Ko.warn(`Firestore (${Wo}): ${e}`,...i)}}function Jo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Zo(){const e=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Yo(e),new Error(e)}function el(e,t){e||Zo()}function tl(e,t){return e}const nl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rl extends wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class il{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class sl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class al{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ho.UNAUTHENTICATED)))}shutdown(){}}class ol{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ll{constructor(e){this.t=e,this.currentUser=Ho.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){el(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new il;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new il,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Qo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Qo("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new il)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Qo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(el("string"==typeof t.accessToken),new sl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return el(null===e||"string"==typeof e),new Ho(e)}}class cl{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ho.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ul{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new cl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ho.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hl{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){el(void 0===this.o);const n=e=>{null!=e.error&&Qo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Qo("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Qo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Qo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new dl(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(el("string"==typeof e.token),this.R=e.token,new dl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function pl(){return new TextEncoder}class ml{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=fl(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function gl(e,t){return e<t?-1:e>t?1:0}function yl(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return gl(r,i);{const s=pl(),a=bl(s.encode(vl(e,n)),s.encode(vl(t,n)));return 0!==a?a:gl(r,i)}}n+=r>65535?2:1}return gl(e.length,t.length)}function vl(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function bl(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return gl(e[n],t[n]);return gl(e.length,t.length)}function xl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const wl=-62135596800,kl=1e6;class Sl{static now(){return Sl.fromMillis(Date.now())}static fromDate(e){return Sl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*kl);return new Sl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rl(nl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rl(nl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wl)throw new rl(nl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rl(nl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kl}_compareTo(e){return this.seconds===e.seconds?gl(this.nanoseconds,e.nanoseconds):gl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class El{static fromTimestamp(e){return new El(e)}static min(){return new El(new Sl(0,0))}static max(){return new El(new Sl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cl="__name__";class Nl{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zo(),void 0===n?n=e.length-t:n>e.length-t&&Zo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Nl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Nl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return gl(e.length,t.length)}static compareSegments(e,t){const n=Nl.isNumericId(e),r=Nl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Nl.extractNumericId(e).compare(Nl.extractNumericId(t)):yl(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class Tl extends Nl{construct(e,t,n){return new Tl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new rl(nl.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Tl(e)}static emptyPath(){return new Tl([])}}const _l=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jl extends Nl{construct(e,t,n){return new jl(e,t,n)}static isValidIdentifier(e){return _l.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Cl}static keyField(){return new jl([Cl])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new rl(nl.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new rl(nl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rl(nl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new rl(nl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jl(t)}static emptyPath(){return new jl([])}}class Il{constructor(e){this.path=e}static fromPath(e){return new Il(Tl.fromString(e))}static fromName(e){return new Il(Tl.fromString(e).popFirst(5))}static empty(){return new Il(Tl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Il(new Tl(e.slice()))}}const Pl=-1;class Al{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Al.UNKNOWN_ID=-1;function Rl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=El.fromTimestamp(1e9===r?new Sl(n+1,0):new Sl(n,r));return new Dl(i,Il.empty(),t)}function Ol(e){return new Dl(e.readTime,e.key,Pl)}class Dl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Dl(El.min(),Il.empty(),Pl)}static max(){return new Dl(El.max(),Il.empty(),Pl)}}function Ml(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Il.comparator(e.documentKey,t.documentKey),0!==n?n:gl(e.largestBatchId,t.largestBatchId))}const Ll="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ul(e){if(e.code!==nl.FAILED_PRECONDITION||e.message!==Ll)throw e;Qo("LocalStore","Unexpectedly lost primary lease")}class $l{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $l(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $l?t:$l.resolve(t)}catch(e){return $l.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$l.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$l.reject(t)}static resolve(e){return new $l(((t,n)=>{t(e)}))}static reject(e){return new $l(((t,n)=>{n(e)}))}static waitFor(e){return new $l(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=$l.resolve(!1);for(const n of e)t=t.next((e=>e?$l.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $l(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new $l(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Vl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zl(e){return"IndexedDbTransactionError"===e.name}class Bl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Bl.ae=-1;const ql=-1;function Hl(e){return null==e}function Wl(e){return 0===e&&1/e==-1/0}function Kl(e){return"number"==typeof e&&Number.isInteger(e)&&!Wl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Gl="\x01";function Ql(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Xl(t)),t=Yl(e.get(n),t);return Xl(t)}function Yl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Gl:n+="\x01\x11";break;default:n+=t}}return n}function Xl(e){return e+Gl+"\x01"}const Jl="remoteDocuments",Zl="owner",ec="mutationQueues",tc="mutations";const nc="documentMutations",rc="remoteDocumentsV14",ic="remoteDocumentGlobal",sc="targets",ac="targetDocuments",oc="targetGlobal",lc="collectionParents",cc="clientMetadata",uc="bundles",dc="namedQueries",hc="indexConfiguration",fc="indexState",pc="indexEntries",mc="documentOverlays",gc="globals",yc=[ec,tc,nc,Jl,sc,Zl,oc,ac,cc,ic,lc,uc,dc],vc=[ec,tc,nc,rc,sc,Zl,oc,ac,cc,ic,lc,uc,dc,mc],bc=vc,xc=[...bc,hc,fc,pc];function wc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ec{constructor(e,t){this.comparator=e,this.root=t||Nc.EMPTY}insert(e,t){return new Ec(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nc.BLACK,null,null))}remove(e){return new Ec(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Nc.RED,this.left=null!=r?r:Nc.EMPTY,this.right=null!=i?i:Nc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Nc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Nc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zo();if(this.right.isRed())throw Zo();const e=this.left.check();if(e!==this.right.check())throw Zo();return e+(this.isRed()?0:1)}}Nc.EMPTY=null,Nc.RED=!0,Nc.BLACK=!1,Nc.EMPTY=new class{constructor(){this.size=0}get key(){throw Zo()}get value(){throw Zo()}get color(){throw Zo()}get left(){throw Zo()}get right(){throw Zo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Nc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tc{constructor(e){this.comparator=e,this.data=new Ec(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _c(this.data.getIterator())}getIteratorFrom(e){return new _c(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Tc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tc(this.comparator);return t.data=e,t}}class _c{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jc{constructor(e){this.fields=e,e.sort(jl.comparator)}static empty(){return new jc([])}unionWith(e){let t=new Tc(jl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new jc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ic extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ic("Invalid base64 string: "+e):e}}(e);return new Pc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Pc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pc.EMPTY_BYTE_STRING=new Pc("");const Ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rc(e){if(el(!!e),"string"==typeof e){let t=0;const n=Ac.exec(e);if(el(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Oc(e.seconds),nanos:Oc(e.nanos)}}function Oc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dc(e){return"string"==typeof e?Pc.fromBase64String(e):Pc.fromUint8Array(e)}const Mc="server_timestamp",Lc="__type__",Fc="__previous_value__",Uc="__local_write_time__";function $c(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Lc])||void 0===n?void 0:n.stringValue)===Mc}function Vc(e){const t=e.mapValue.fields[Fc];return $c(t)?Vc(t):t}function zc(e){const t=Rc(e.mapValue.fields[Uc].timestampValue);return new Sl(t.seconds,t.nanos)}class Bc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}const qc="(default)";class Hc{constructor(e,t){this.projectId=e,this.database=t||qc}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===qc}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}const Wc="__type__",Kc="__max__",Gc={mapValue:{fields:{__type__:{stringValue:Kc}}}},Qc="__vector__",Yc="value";function Xc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$c(e)?4:pu(e)?9007199254740991:hu(e)?10:11:Zo()}function Jc(e,t){if(e===t)return!0;const n=Xc(e);if(n!==Xc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zc(e).isEqual(zc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Rc(e.timestampValue),r=Rc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dc(e.bytesValue).isEqual(Dc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Oc(e.geoPointValue.latitude)===Oc(t.geoPointValue.latitude)&&Oc(e.geoPointValue.longitude)===Oc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Oc(e.integerValue)===Oc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Oc(e.doubleValue),r=Oc(t.doubleValue);return n===r?Wl(n)===Wl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xl(e.arrayValue.values||[],t.arrayValue.values||[],Jc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wc(n)!==wc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jc(n[i],r[i])))return!1;return!0}(e,t);default:return Zo()}}function Zc(e,t){return void 0!==(e.values||[]).find((e=>Jc(e,t)))}function eu(e,t){if(e===t)return 0;const n=Xc(e),r=Xc(t);if(n!==r)return gl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Oc(e.integerValue||e.doubleValue),r=Oc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tu(e.timestampValue,t.timestampValue);case 4:return tu(zc(e),zc(t));case 5:return yl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Dc(e),r=Dc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=gl(n[i],r[i]);if(0!==e)return e}return gl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=gl(Oc(e.latitude),Oc(t.latitude));return 0!==n?n:gl(Oc(e.longitude),Oc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nu(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Yc])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Yc])||void 0===r?void 0:r.arrayValue,u=gl((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:nu(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Gc.mapValue&&t===Gc.mapValue)return 0;if(e===Gc.mapValue)return 1;if(t===Gc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=yl(r[a],s[a]);if(0!==e)return e;const t=eu(n[r[a]],i[s[a]]);if(0!==t)return t}return gl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Zo()}}function tu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gl(e,t);const n=Rc(e),r=Rc(t),i=gl(n.seconds,r.seconds);return 0!==i?i:gl(n.nanos,r.nanos)}function nu(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=eu(n[i],r[i]);if(e)return e}return gl(n.length,r.length)}function ru(e){return iu(e)}function iu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Rc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Dc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Il.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=iu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${iu(e.fields[i])}`;return n+"}"}(e.mapValue):Zo()}function su(e){switch(Xc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vc(e);return t?16+su(t):16;case 5:return 2*e.stringValue.length;case 6:return Dc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+su(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return kc(e.fields,((e,n)=>{t+=e.length+su(n)})),t}(e.mapValue);default:throw Zo()}}function au(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ou(e){return!!e&&"integerValue"in e}function lu(e){return!!e&&"arrayValue"in e}function cu(e){return!!e&&"nullValue"in e}function uu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function du(e){return!!e&&"mapValue"in e}function hu(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Wc])||void 0===n?void 0:n.stringValue)===Qc}function fu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return kc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=fu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Kc}class mu{constructor(e){this.value=e}static empty(){return new mu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=jl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=fu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];du(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){kc(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new mu(fu(this.value))}}function gu(e){const t=[];return kc(e.fields,((e,n)=>{const r=new jl([e]);if(du(n)){const e=gu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new jc(t)}class yu{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new yu(e,0,El.min(),El.min(),El.min(),mu.empty(),0)}static newFoundDocument(e,t,n,r){return new yu(e,1,t,El.min(),n,r,0)}static newNoDocument(e,t){return new yu(e,2,t,El.min(),El.min(),mu.empty(),0)}static newUnknownDocument(e,t){return new yu(e,3,t,El.min(),El.min(),mu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(El.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=El.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vu{constructor(e,t){this.position=e,this.inclusive=t}}function bu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Il.comparator(Il.fromName(a.referenceValue),n.key):eu(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function xu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Jc(e.position[n],t.position[n]))return!1;return!0}class wu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ku(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Su{}class Eu extends Su{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Au(e,t,n):"array-contains"===t?new Mu(e,n):"in"===t?new Lu(e,n):"not-in"===t?new Fu(e,n):"array-contains-any"===t?new Uu(e,n):new Eu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ru(e,n):new Ou(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(eu(t,this.value)):null!==t&&Xc(this.value)===Xc(t)&&this.matchesComparison(eu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cu extends Su{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Cu(e,t)}matches(e){return Nu(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Nu(e){return"and"===e.op}function Tu(e){return _u(e)&&Nu(e)}function _u(e){for(const t of e.filters)if(t instanceof Cu)return!1;return!0}function ju(e){if(e instanceof Eu)return e.field.canonicalString()+e.op.toString()+ru(e.value);if(Tu(e))return e.filters.map((e=>ju(e))).join(",");{const t=e.filters.map((e=>ju(e))).join(",");return`${e.op}(${t})`}}function Iu(e,t){return e instanceof Eu?function(e,t){return t instanceof Eu&&e.op===t.op&&e.field.isEqual(t.field)&&Jc(e.value,t.value)}(e,t):e instanceof Cu?function(e,t){return t instanceof Cu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Iu(n,t.filters[r])),!0)}(e,t):void Zo()}function Pu(e){return e instanceof Eu?function(e){return`${e.field.canonicalString()} ${e.op} ${ru(e.value)}`}(e):e instanceof Cu?function(e){return e.op.toString()+" {"+e.getFilters().map(Pu).join(" ,")+"}"}(e):"Filter"}class Au extends Eu{constructor(e,t,n){super(e,t,n),this.key=Il.fromName(n.referenceValue)}matches(e){const t=Il.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ru extends Eu{constructor(e,t){super(e,"in",t),this.keys=Du("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ou extends Eu{constructor(e,t){super(e,"not-in",t),this.keys=Du("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Du(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Il.fromName(e.referenceValue)))}class Mu extends Eu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lu(t)&&Zc(t.arrayValue,this.value)}}class Lu extends Eu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zc(this.value.arrayValue,t)}}class Fu extends Eu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zc(this.value.arrayValue,t)}}class Uu extends Eu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Zc(this.value.arrayValue,e)))}}class $u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function Vu(e){return new $u(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function zu(e){const t=tl(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ju(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Hl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ru(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ru(e))).join(",")),t.le=e}return t.le}function Bu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ku(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Iu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xu(e.startAt,t.startAt)&&xu(e.endAt,t.endAt)}function qu(e){return Il.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Hu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Wu(e,t,n,r,i,s,a,o){return new Hu(e,t,n,r,i,s,a,o)}function Ku(e){return new Hu(e)}function Gu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qu(e){return null!==e.collectionGroup}function Yu(e){const t=tl(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Tc(jl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new wu(r,n))})),e.has(jl.keyField().canonicalString())||t.he.push(new wu(jl.keyField(),n))}return t.he}function Xu(e){const t=tl(e);return t.Pe||(t.Pe=Ju(t,Yu(e))),t.Pe}function Ju(e,t){if("F"===e.limitType)return Vu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new wu(e.field,t)}));const n=e.endAt?new vu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vu(e.startAt.position,e.startAt.inclusive):null;return Vu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Zu(e,t){const n=e.filters.concat([t]);return new Hu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ed(e,t,n){return new Hu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function td(e,t){return Bu(Xu(e),Xu(t))&&e.limitType===t.limitType}function nd(e){return`${zu(Xu(e))}|lt:${e.limitType}`}function rd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Pu(e))).join(", ")}]`),Hl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ru(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ru(e))).join(",")),`Target(${t})`}(Xu(e))}; limitType=${e.limitType})`}function id(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Il.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Yu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=bu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yu(e),t))&&!(e.endAt&&!function(e,t,n){const r=bu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yu(e),t))}(e,t)}function sd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ad(e){return(t,n)=>{let r=!1;for(const i of Yu(e)){const e=od(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function od(e,t,n){const r=e.field.isKeyField()?Il.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eu(r,i):Zo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zo()}}class ld{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Sc(this.inner)}size(){return this.innerSize}}const cd=new Ec(Il.comparator);function ud(){return cd}const dd=new Ec(Il.comparator);function hd(){let e=dd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function fd(e){let t=dd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function pd(){return gd()}function md(){return gd()}function gd(){return new ld((e=>e.toString()),((e,t)=>e.isEqual(t)))}const yd=new Ec(Il.comparator),vd=new Tc(Il.comparator);function bd(){let e=vd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const xd=new Tc(gl);function wd(){return xd}function kd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wl(t)?"-0":t}}function Sd(e){return{integerValue:""+e}}function Ed(e,t){return Kl(t)?Sd(t):kd(e,t)}class Cd{constructor(){this._=void 0}}function Nd(e,t,n){return e instanceof jd?function(e,t){const n={fields:{[Lc]:{stringValue:Mc},[Uc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&$c(t)&&(t=Vc(t)),t&&(n.fields[Fc]=t),{mapValue:n}}(n,t):e instanceof Id?Pd(e,t):e instanceof Ad?Rd(e,t):function(e,t){const n=_d(e,t),r=Dd(n)+Dd(e.Ie);return ou(n)&&ou(e.Ie)?Sd(r):kd(e.serializer,r)}(e,t)}function Td(e,t,n){return e instanceof Id?Pd(e,t):e instanceof Ad?Rd(e,t):n}function _d(e,t){return e instanceof Od?function(e){return ou(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class jd extends Cd{}class Id extends Cd{constructor(e){super(),this.elements=e}}function Pd(e,t){const n=Md(t);for(const r of e.elements)n.some((e=>Jc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ad extends Cd{constructor(e){super(),this.elements=e}}function Rd(e,t){let n=Md(t);for(const r of e.elements)n=n.filter((e=>!Jc(e,r)));return{arrayValue:{values:n}}}class Od extends Cd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Dd(e){return Oc(e.integerValue||e.doubleValue)}function Md(e){return lu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ld{constructor(e,t){this.version=e,this.transformResults=t}}class Fd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fd}static exists(e){return new Fd(void 0,e)}static updateTime(e){return new Fd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ud(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $d{}function Vd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xd(e.key,Fd.none()):new Wd(e.key,e.data,Fd.none());{const n=e.data,r=mu.empty();let i=new Tc(jl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Kd(e.key,r,new jc(i.toArray()),Fd.none())}}function zd(e,t,n){e instanceof Wd?function(e,t,n){const r=e.value.clone(),i=Qd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kd?function(e,t,n){if(!Ud(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Qd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bd(e,t,n,r){return e instanceof Wd?function(e,t,n,r){if(!Ud(e.precondition,t))return n;const i=e.value.clone(),s=Yd(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kd?function(e,t,n,r){if(!Ud(e.precondition,t))return n;const i=Yd(e.fieldTransforms,r,t),s=t.data;return s.setAll(Gd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ud(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=_d(r.transform,e||null);null!=i&&(null===n&&(n=mu.empty()),n.set(r.field,i))}return n||null}function Hd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Id&&t instanceof Id||e instanceof Ad&&t instanceof Ad?xl(e.elements,t.elements,Jc):e instanceof Od&&t instanceof Od?Jc(e.Ie,t.Ie):e instanceof jd&&t instanceof jd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wd extends $d{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Kd extends $d{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Gd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Qd(e,t,n){const r=new Map;el(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Td(a,o,n[i]))}return r}function Yd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Nd(e,s,t))}return r}class Xd extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jd extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&zd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=md();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Vd(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(El.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),bd())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((e,t)=>Hd(e,t)))&&xl(this.baseMutations,e.baseMutations,((e,t)=>Hd(e,t)))}}class eh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){el(e.mutations.length===n.length);let r=yd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new eh(e,t,n,r)}}class th{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nh{constructor(e,t){this.count=e,this.unchangedNames=t}}var rh,ih;function sh(e){switch(e){case nl.OK:return Zo();case nl.CANCELLED:case nl.UNKNOWN:case nl.DEADLINE_EXCEEDED:case nl.RESOURCE_EXHAUSTED:case nl.INTERNAL:case nl.UNAVAILABLE:case nl.UNAUTHENTICATED:return!1;case nl.INVALID_ARGUMENT:case nl.NOT_FOUND:case nl.ALREADY_EXISTS:case nl.PERMISSION_DENIED:case nl.FAILED_PRECONDITION:case nl.ABORTED:case nl.OUT_OF_RANGE:case nl.UNIMPLEMENTED:case nl.DATA_LOSS:return!0;default:return Zo()}}function ah(e){if(void 0===e)return Yo("GRPC error has no .code"),nl.UNKNOWN;switch(e){case rh.OK:return nl.OK;case rh.CANCELLED:return nl.CANCELLED;case rh.UNKNOWN:return nl.UNKNOWN;case rh.DEADLINE_EXCEEDED:return nl.DEADLINE_EXCEEDED;case rh.RESOURCE_EXHAUSTED:return nl.RESOURCE_EXHAUSTED;case rh.INTERNAL:return nl.INTERNAL;case rh.UNAVAILABLE:return nl.UNAVAILABLE;case rh.UNAUTHENTICATED:return nl.UNAUTHENTICATED;case rh.INVALID_ARGUMENT:return nl.INVALID_ARGUMENT;case rh.NOT_FOUND:return nl.NOT_FOUND;case rh.ALREADY_EXISTS:return nl.ALREADY_EXISTS;case rh.PERMISSION_DENIED:return nl.PERMISSION_DENIED;case rh.FAILED_PRECONDITION:return nl.FAILED_PRECONDITION;case rh.ABORTED:return nl.ABORTED;case rh.OUT_OF_RANGE:return nl.OUT_OF_RANGE;case rh.UNIMPLEMENTED:return nl.UNIMPLEMENTED;case rh.DATA_LOSS:return nl.DATA_LOSS;default:return Zo()}}(ih=rh||(rh={}))[ih.OK=0]="OK",ih[ih.CANCELLED=1]="CANCELLED",ih[ih.UNKNOWN=2]="UNKNOWN",ih[ih.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ih[ih.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ih[ih.NOT_FOUND=5]="NOT_FOUND",ih[ih.ALREADY_EXISTS=6]="ALREADY_EXISTS",ih[ih.PERMISSION_DENIED=7]="PERMISSION_DENIED",ih[ih.UNAUTHENTICATED=16]="UNAUTHENTICATED",ih[ih.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ih[ih.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ih[ih.ABORTED=10]="ABORTED",ih[ih.OUT_OF_RANGE=11]="OUT_OF_RANGE",ih[ih.UNIMPLEMENTED=12]="UNIMPLEMENTED",ih[ih.INTERNAL=13]="INTERNAL",ih[ih.UNAVAILABLE=14]="UNAVAILABLE",ih[ih.DATA_LOSS=15]="DATA_LOSS";let oh=null;const lh=new jo([4294967295,4294967295],0);function ch(e){const t=pl().encode(e),n=new Io;return n.update(t),new Uint8Array(n.digest())}function uh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new jo([n,r],0),new jo([i,s],0)]}class dh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new hh(`Invalid padding: ${t}`);if(n<0)throw new hh(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new hh(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new hh(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=jo.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(jo.fromNumber(n)));return 1===r.compare(lh)&&(r=new jo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=ch(e),[n,r]=uh(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new dh(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=ch(e),[n,r]=uh(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new fh(El.min(),r,new Ec(gl),ud(),bd())}}class ph{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ph(n,t,bd(),bd(),bd())}}class mh{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class gh{constructor(e,t){this.targetId=e,this.ge=t}}class yh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vh{constructor(){this.pe=0,this.ye=wh(),this.we=Pc.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=bd(),t=bd(),n=bd();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zo()}})),new ph(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=wh()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,el(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class bh{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ud(),this.$e=xh(),this.Ue=xh(),this.Ke=new Ec(gl)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Zo()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(qu(i))if(0===n){const e=new Il(i.path);this.ze(t,e,yu.newNoDocument(e,El.min()))}else el(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==oh||oh.rt(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Dc(n).toUint8Array()}catch(e){if(e instanceof Ic)return Xo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new dh(s,r,i)}catch(e){return Xo(e instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&qu(i.target)){const t=new Il(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,yu.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=bd();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new fh(e,t,this.Ke,this.Qe,n);return this.Qe=ud(),this.$e=xh(),this.Ue=xh(),this.Ke=new Ec(gl),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new vh,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Tc(gl),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Tc(gl),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Qo("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new vh),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function xh(){return new Ec(Il.comparator)}function wh(){return new Ec(Il.comparator)}const kh={asc:"ASCENDING",desc:"DESCENDING"},Sh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Eh={and:"AND",or:"OR"};class Ch{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nh(e,t){return e.useProto3Json||Hl(t)?t:{value:t}}function Th(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _h(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jh(e,t){return Th(e,t.toTimestamp())}function Ih(e){return el(!!e),El.fromTimestamp(function(e){const t=Rc(e);return new Sl(t.seconds,t.nanos)}(e))}function Ph(e,t){return Ah(e,t).canonicalString()}function Ah(e,t){const n=function(e){return new Tl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Rh(e){const t=Tl.fromString(e);return el(Zh(t)),t}function Oh(e,t){return Ph(e.databaseId,t.path)}function Dh(e,t){const n=Rh(t);if(n.get(1)!==e.databaseId.projectId)throw new rl(nl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rl(nl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Il(Uh(n))}function Mh(e,t){return Ph(e.databaseId,t)}function Lh(e){const t=Rh(e);return 4===t.length?Tl.emptyPath():Uh(t)}function Fh(e){return new Tl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uh(e){return el(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $h(e,t,n){return{name:Oh(e,t),fields:n.value.mapValue.fields}}function Vh(e,t){let n;if(t instanceof Wd)n={update:$h(e,t.key,t.value)};else if(t instanceof Xd)n={delete:Oh(e,t.key)};else if(t instanceof Kd)n={update:$h(e,t.key,t.data),updateMask:Jh(t.fieldMask)};else{if(!(t instanceof Jd))return Zo();n={verify:Oh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof jd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Id)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ad)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Od)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Zo()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zo()}(e,t.precondition)),n}function zh(e,t){return{documents:[Mh(e,t.path)]}}function Bh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Mh(e,i);const s=function(e){if(0!==e.length)return Xh(Cu.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Qh(e.field),direction:Wh(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Nh(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function qh(e){let t=Lh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){el(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Hh(e);return t instanceof Cu&&Tu(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new wu(Yh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Hl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new vu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new vu(n,t)}(n.endAt)),Wu(t,i,a,s,o,"F",l,c)}function Hh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yh(e.unaryFilter.field);return Eu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Yh(e.unaryFilter.field);return Eu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yh(e.unaryFilter.field);return Eu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yh(e.unaryFilter.field);return Eu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zo()}}(e):void 0!==e.fieldFilter?function(e){return Eu.create(Yh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zo()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Cu.create(e.compositeFilter.filters.map((e=>Hh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zo()}}(e.compositeFilter.op))}(e):Zo()}function Wh(e){return kh[e]}function Kh(e){return Sh[e]}function Gh(e){return Eh[e]}function Qh(e){return{fieldPath:e.canonicalString()}}function Yh(e){return jl.fromServerFormat(e.fieldPath)}function Xh(e){return e instanceof Eu?function(e){if("=="===e.op){if(uu(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NAN"}};if(cu(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uu(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NOT_NAN"}};if(cu(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qh(e.field),op:Kh(e.op),value:e.value}}}(e):e instanceof Cu?function(e){const t=e.getFilters().map((e=>Xh(e)));return 1===t.length?t[0]:{compositeFilter:{op:Gh(e.op),filters:t}}}(e):Zo()}function Jh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Zh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ef{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:El.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:El.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new ef(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tf{constructor(e){this.Tt=e}}function nf(e){const t=qh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ed(t,t.limit,"L"):t}class rf{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Oc(e.integerValue));else if("doubleValue"in e){const n=Oc(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Wl(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Rc(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Dc(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?pu(e)?this.ft(t,Number.MAX_SAFE_INTEGER):hu(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Zo()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const s=Yc,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Oc(a)),this.wt(s,t),this.Rt(i[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Il.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}rf.xt=new rf;class sf{constructor(){this.Tn=new af}addToCollectionParentIndex(e,t){return this.Tn.add(t),$l.resolve()}getCollectionParents(e,t){return $l.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return $l.resolve()}deleteFieldIndex(e,t){return $l.resolve()}deleteAllFieldIndexes(e){return $l.resolve()}createTargetIndexes(e,t){return $l.resolve()}getDocumentsMatchingTarget(e,t){return $l.resolve(null)}getIndexType(e,t){return $l.resolve(0)}getFieldIndexes(e,t){return $l.resolve([])}getNextCollectionGroupToUpdate(e){return $l.resolve(null)}getMinOffset(e,t){return $l.resolve(Dl.min())}getMinOffsetFromCollectionGroup(e,t){return $l.resolve(Dl.min())}updateCollectionGroup(e,t,n){return $l.resolve()}updateIndexEntries(e,t){return $l.resolve()}}class af{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tc(Tl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Tc(Tl.comparator)).toArray()}}new Uint8Array(0);const of={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lf=41943040;class cf{static withCacheSize(e){return new cf(e,cf.DEFAULT_COLLECTION_PERCENTILE,cf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}cf.DEFAULT_COLLECTION_PERCENTILE=10,cf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cf.DEFAULT=new cf(lf,cf.DEFAULT_COLLECTION_PERCENTILE,cf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cf.DISABLED=new cf(-1,0,0);class uf{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new uf(0)}static Kn(){return new uf(-1)}}const df="LruGarbageCollector",hf=1048576;function ff(e,t){let[n,r]=e,[i,s]=t;const a=gl(n,i);return 0===a?gl(r,s):a}class pf{constructor(e){this.Hn=e,this.buffer=new Tc(ff),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ff(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Qo(df,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){zl(e)?Qo(df,"Ignoring IndexedDB error during garbage collection: ",e):await Ul(e)}await this.er(3e5)}))}}class gf{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return $l.resolve(Bl.ae);const n=new pf(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qo("LruGarbageCollector","Garbage collection skipped; disabled"),$l.resolve(of)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Qo("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),of):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Qo("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Go()<=Fn.DEBUG&&Qo("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),$l.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function yf(e,t){return new gf(e,t)}class vf{constructor(){this.changes=new ld((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$l.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Bd(n.mutation,e,jc.empty(),Sl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,bd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bd();const r=pd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=hd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=pd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,bd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ud();const s=gd(),a=gd();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Kd)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Bd(a.mutation,t,a.mutation.getFieldMask(),Sl.now())):s.set(t.key,jc.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new bf(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=gd();let r=new Ec(((e,t)=>e-t)),i=bd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||jc.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||bd()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=md();l.forEach((e=>{if(!i.has(e)){const r=Vd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return $l.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Il.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):$l.resolve(pd());let a=Pl,o=i;return s.next((t=>$l.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?$l.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,bd()))).next((e=>({batchId:a,changes:fd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Il(t)).next((e=>{let t=hd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=hd();return this.indexManager.getCollectionParents(e,i).next((a=>$l.forEach(a,(a=>{const o=function(e,t){return new Hu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,yu.newInvalidDocument(r)))}));let n=hd();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Bd(s.mutation,r,jc.empty(),Sl.now()),id(t,r)&&(n=n.insert(e,r))})),n}))}}class wf{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return $l.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ih(e.createTime)}}(t)),$l.resolve()}getNamedQuery(e,t){return $l.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:nf(e.bundledQuery),readTime:Ih(e.readTime)}}(t)),$l.resolve()}}class kf{constructor(){this.overlays=new Ec(Il.comparator),this.Rr=new Map}getOverlay(e,t){return $l.resolve(this.overlays.get(t))}getOverlays(e,t){const n=pd();return $l.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),$l.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),$l.resolve()}getOverlaysForCollection(e,t,n){const r=pd(),i=t.length+1,s=new Il(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $l.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ec(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=pd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=pd(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return $l.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new th(t,n));let i=this.Rr.get(t);void 0===i&&(i=bd(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Sf{constructor(){this.sessionToken=Pc.EMPTY_BYTE_STRING}getSessionToken(e){return $l.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$l.resolve()}}class Ef{constructor(){this.Vr=new Tc(Cf.mr),this.gr=new Tc(Cf.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Cf(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Cf(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new Il(new Tl([])),n=new Cf(t,e),r=new Cf(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Il(new Tl([])),n=new Cf(t,e),r=new Cf(t,e+1);let i=bd();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Cf(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Cf{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Il.comparator(e.key,t.key)||gl(e.Cr,t.Cr)}static pr(e,t){return gl(e.Cr,t.Cr)||Il.comparator(e.key,t.key)}}class Nf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Tc(Cf.mr)}checkEmpty(e){return $l.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Zd(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Mr=this.Mr.add(new Cf(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $l.resolve(s)}lookupMutationBatch(e,t){return $l.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return $l.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $l.resolve(0===this.mutationQueue.length?ql:this.Fr-1)}getAllMutationBatches(e){return $l.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Cf(t,0),r=new Cf(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),$l.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Tc(gl);return t.forEach((e=>{const t=new Cf(e,0),r=new Cf(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),$l.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Il.isDocumentKey(i)||(i=i.child(""));const s=new Cf(new Il(i),0);let a=new Tc(gl);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),s),$l.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){el(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return $l.forEach(t.mutations,(r=>{const i=new Cf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Cf(t,0),r=this.Mr.firstAfterOrEqual(n);return $l.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$l.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Tf{constructor(e){this.kr=e,this.docs=new Ec(Il.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $l.resolve(n?n.document.mutableCopy():yu.newInvalidDocument(t))}getEntries(e,t){let n=ud();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():yu.newInvalidDocument(e))})),$l.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ud();const s=t.path,a=new Il(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ml(Ol(a),n)<=0||(r.has(a.key)||id(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return $l.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Zo()}qr(e,t){return $l.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new _f(this)}getSize(e){return $l.resolve(this.size)}}class _f extends vf{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),$l.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class jf{constructor(e){this.persistence=e,this.Qr=new ld((e=>zu(e)),Bu),this.lastRemoteSnapshotVersion=El.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ef,this.targetCount=0,this.Kr=uf.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),$l.resolve()}getLastRemoteSnapshotVersion(e){return $l.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $l.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$l.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),$l.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new uf(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,$l.resolve()}updateTargetData(e,t){return this.zn(t),$l.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,$l.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),$l.waitFor(i).next((()=>r))}getTargetCount(e){return $l.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return $l.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),$l.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),$l.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),$l.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return $l.resolve(n)}containsKey(e,t){return $l.resolve(this.Ur.containsKey(t))}}class If{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Bl(0),this.zr=!1,this.zr=!0,this.jr=new Sf,this.referenceDelegate=e(this),this.Hr=new jf(this),this.indexManager=new sf,this.remoteDocumentCache=function(e){return new Tf(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new tf(t),this.Yr=new wf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Nf(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Qo("MemoryPersistence","Starting transaction:",e);const r=new Pf(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return $l.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Pf extends Fl{constructor(e){super(),this.currentSequenceNumber=e}}class Af{constructor(e){this.persistence=e,this.ti=new Ef,this.ni=null}static ri(e){return new Af(e)}get ii(){if(this.ni)return this.ni;throw Zo()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),$l.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),$l.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),$l.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $l.forEach(this.ii,(n=>{const r=Il.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,El.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return $l.or([()=>$l.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Rf{constructor(e,t){this.persistence=e,this.oi=new ld((e=>Ql(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=yf(this,t)}static ri(e,t){return new Rf(e,t)}Zr(){}Xr(e){return $l.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return $l.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?$l.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,El.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),$l.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),$l.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),$l.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),$l.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=su(e.data.value)),t}ar(e,t,n){return $l.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return $l.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Of{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=bd(),r=bd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Of(e,t.fromCache,n,r)}}class Df{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mf{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=bn()?8:Vl(vn())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Df;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Go()<=Fn.DEBUG&&Qo("QueryEngine","SDK will not create cache indexes for query:",rd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$l.resolve()):(Go()<=Fn.DEBUG&&Qo("QueryEngine","Query:",rd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Go()<=Fn.DEBUG&&Qo("QueryEngine","The SDK decides to create cache indexes for query:",rd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xu(t))):$l.resolve())}rs(e,t){if(Gu(t))return $l.resolve(null);let n=Xu(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ed(t,null,"F"),n=Xu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=bd(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,i,n.readTime)?this.rs(e,ed(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return Gu(t)||r.isEqual(El.min())?$l.resolve(null):this.ns.getDocuments(e,n).next((i=>{const s=this.cs(t,i);return this.ls(t,s,n,r)?$l.resolve(null):(Go()<=Fn.DEBUG&&Qo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rd(t)),this.hs(e,s,t,Rl(r,Pl)).next((e=>e)))}))}cs(e,t){let n=new Tc(ad(e));return t.forEach(((t,r)=>{id(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Go()<=Fn.DEBUG&&Qo("QueryEngine","Using full collection scan to execute query:",rd(t)),this.ns.getDocumentsMatchingQuery(e,t,Dl.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Lf="LocalStore";class Ff{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Ec(gl),this.Is=new ld((e=>zu(e)),Bu),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xf(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Uf(e,t,n,r){return new Ff(e,t,n,r)}async function $f(e,t){const n=tl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=bd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Vf(e){const t=tl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function zf(e,t,n){let r=bd(),i=bd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ud();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(El.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Qo(Lf,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Vs:r,fs:i}}))}function Bf(e,t){const n=tl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ql),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function qf(e,t){const n=tl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,$l.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new ef(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Hf(e,t,n){const r=tl(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!zl(e))throw e;Qo(Lf,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Wf(e,t,n){const r=tl(e);let i=El.min(),s=bd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=tl(e),i=r.Is.get(n);return void 0!==i?$l.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Xu(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:El.min(),n?s:bd()))).next((e=>(Kf(r,sd(t),e),{documents:e,gs:s})))))}function Kf(e,t,n){let r=e.Es.get(t)||El.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Gf{constructor(){this.activeTargetIds=wd()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qf{constructor(){this.ho=new Gf,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Gf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yf{To(e){}shutdown(){}}const Xf="ConnectivityMonitor";class Jf{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Qo(Xf,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Qo(Xf,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zf=null;function ep(){return null===Zf?Zf=268435456+Math.round(2147483648*Math.random()):Zf++,"0x"+Zf.toString(16)}const tp="RestConnection",np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rp{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===qc?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const s=ep(),a=this.bo(e,t.toUriEncodedString());Qo(tp,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,a,o,n).then((t=>(Qo(tp,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Xo(tp,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=np[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class ip{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const sp="WebChannelConnection";class ap extends rp{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=ep();return new Promise(((s,a)=>{const o=new Ro;o.setWithCredentials(!0),o.listenOnce(Do.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Mo.NO_ERROR:const t=o.getResponseJson();Qo(sp,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Mo.TIMEOUT:Qo(sp,`RPC '${e}' ${i} timed out`),a(new rl(nl.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const n=o.getStatus();if(Qo(sp,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(nl).indexOf(t)>=0?t:nl.UNKNOWN}(t.status);a(new rl(e,t.message))}else a(new rl(nl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new rl(nl.UNAVAILABLE,"Connection failed."));break;default:Zo()}}finally{Qo(sp,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Qo(sp,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=ep(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$o(),a=Uo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Qo(sp,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new ip({Fo:t=>{h?Qo(sp,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Qo(sp,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Qo(sp,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Oo.EventType.OPEN,(()=>{h||(Qo(sp,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,Oo.EventType.CLOSE,(()=>{h||(h=!0,Qo(sp,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),p(u,Oo.EventType.ERROR,(t=>{h||(h=!0,Xo(sp,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new rl(nl.UNAVAILABLE,"The operation could not be completed")))})),p(u,Oo.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];el(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Qo(sp,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=rh[e];if(void 0!==t)return ah(t)}(t),i=a.message;void 0===n&&(n=nl.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Uo(new rl(n,i)),u.close()}else Qo(sp,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),p(a,Fo.STAT_EVENT,(t=>{t.stat===Lo.PROXY?Qo(sp,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Lo.NOPROXY&&Qo(sp,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function op(){return"undefined"!=typeof document?document:null}function lp(e){return new Ch(e,!0)}class cp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Qo("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const up="PersistentStream";class dp{constructor(e,t,n,r,i,s,a,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cp(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===nl.RESOURCE_EXHAUSTED?(Yo(t.toString()),Yo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===nl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new rl(nl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Qo(up,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Qo(up,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hp extends dp{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(el(void 0===t||"string"==typeof t),Pc.fromBase64String(t||"")):(el(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Pc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?nl.UNKNOWN:ah(e.code);return new rl(t,e.message||"")}(a);n=new yh(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dh(e,r.document.name),s=Ih(r.document.updateTime),a=r.document.createTime?Ih(r.document.createTime):El.min(),o=new mu({mapValue:{fields:r.document.fields}}),l=yu.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new mh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Dh(e,r.document),s=r.readTime?Ih(r.readTime):El.min(),a=yu.newNoDocument(i,s),o=r.removedTargetIds||[];n=new mh([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Dh(e,r.document),s=r.removedTargetIds||[];n=new mh([],s,i,null)}else{if(!("filter"in t))return Zo();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new nh(r,i),a=e.targetId;n=new gh(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return El.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?El.min():t.readTime?Ih(t.readTime):El.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Fh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=qu(r)?{documents:zh(e,r)}:{query:Bh(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=_h(e,t.resumeToken);const r=Nh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(El.min())>0){n.readTime=Th(e,t.snapshotVersion.toTimestamp());const r=Nh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zo()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Fh(this.serializer),t.removeTarget=e,this.I_(t)}}class fp extends dp{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return el(!!e.streamToken),this.lastStreamToken=e.streamToken,el(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){el(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(el(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ih(e.updateTime):Ih(t);return n.isEqual(El.min())&&(n=Ih(t)),new Ld(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ih(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Fh(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Vh(this.serializer,e)))};this.I_(t)}}class pp{}class mp extends pp{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new rl(nl.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,Ah(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rl(nl.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Co(e,Ah(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rl(nl.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class gp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yo(t),this.N_=!1):Qo("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const yp="RemoteStore";class vp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Tp(this)&&(Qo(yp,"Restarting streams for network reachability change."),await async function(e){const t=tl(e);t.W_.add(4),await xp(t),t.j_.set("Unknown"),t.W_.delete(4),await bp(t)}(this))}))})),this.j_=new gp(n,r)}}async function bp(e){if(Tp(e))for(const t of e.G_)await t(!0)}async function xp(e){for(const t of e.G_)await t(!1)}function wp(e,t){const n=tl(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Np(n)?Cp(n):Wp(n).c_()&&Sp(n,t))}function kp(e,t){const n=tl(e),r=Wp(n);n.K_.delete(t),r.c_()&&Ep(n,t),0===n.K_.size&&(r.c_()?r.P_():Tp(n)&&n.j_.set("Unknown"))}function Sp(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(El.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wp(e).y_(t)}function Ep(e,t){e.H_.Ne(t),Wp(e).w_(t)}function Cp(e){e.H_=new bh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Wp(e).start(),e.j_.B_()}function Np(e){return Tp(e)&&!Wp(e).u_()&&e.K_.size>0}function Tp(e){return 0===tl(e).W_.size}function _p(e){e.H_=void 0}async function jp(e){e.j_.set("Online")}async function Ip(e){e.K_.forEach(((t,n)=>{Sp(e,t)}))}async function Pp(e,t){_p(e),Np(e)?(e.j_.q_(t),Cp(e)):e.j_.set("Unknown")}async function Ap(e,t,n){if(e.j_.set("Online"),t instanceof yh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Qo(yp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Rp(e,n)}else if(t instanceof mh?e.H_.We(t):t instanceof gh?e.H_.Ze(t):e.H_.je(t),!n.isEqual(El.min()))try{const t=await Vf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Pc.EMPTY_BYTE_STRING,r.snapshotVersion)),Ep(e,t);const i=new ef(r.target,t,n,r.sequenceNumber);Sp(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Qo(yp,"Failed to raise snapshot:",t),await Rp(e,t)}}async function Rp(e,t,n){if(!zl(t))throw t;e.W_.add(1),await xp(e),e.j_.set("Offline"),n||(n=()=>Vf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Qo(yp,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await bp(e)}))}function Op(e,t){return t().catch((n=>Rp(e,n,t)))}async function Dp(e){const t=tl(e),n=Kp(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:ql;for(;Mp(t);)try{const e=await Bf(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,Lp(t,e)}catch(e){await Rp(t,e)}Fp(t)&&Up(t)}function Mp(e){return Tp(e)&&e.U_.length<10}function Lp(e,t){e.U_.push(t);const n=Kp(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Fp(e){return Tp(e)&&!Kp(e).u_()&&e.U_.length>0}function Up(e){Kp(e).start()}async function $p(e){Kp(e).C_()}async function Vp(e){const t=Kp(e);for(const n of e.U_)t.b_(n.mutations)}async function zp(e,t,n){const r=e.U_.shift(),i=eh.from(r,t,n);await Op(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Dp(e)}async function Bp(e,t){t&&Kp(e).S_&&await async function(e,t){if(function(e){return sh(e)&&e!==nl.ABORTED}(t.code)){const n=e.U_.shift();Kp(e).h_(),await Op(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Dp(e)}}(e,t),Fp(e)&&Up(e)}async function qp(e,t){const n=tl(e);n.asyncQueue.verifyOperationInProgress(),Qo(yp,"RemoteStore received new credentials");const r=Tp(n);n.W_.add(3),await xp(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await bp(n)}async function Hp(e,t){const n=tl(e);t?(n.W_.delete(2),await bp(n)):t||(n.W_.add(2),await xp(n),n.j_.set("Unknown"))}function Wp(e){return e.J_||(e.J_=function(e,t,n){const r=tl(e);return r.M_(),new hp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:jp.bind(null,e),No:Ip.bind(null,e),Lo:Pp.bind(null,e),p_:Ap.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Np(e)?Cp(e):e.j_.set("Unknown")):(await e.J_.stop(),_p(e))}))),e.J_}function Kp(e){return e.Y_||(e.Y_=function(e,t,n){const r=tl(e);return r.M_(),new fp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:$p.bind(null,e),Lo:Bp.bind(null,e),D_:Vp.bind(null,e),v_:zp.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Dp(e)):(await e.Y_.stop(),e.U_.length>0&&(Qo(yp,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class Gp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Gp(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rl(nl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(e,t){if(Yo("AsyncQueue",`${t}: ${e}`),zl(e))return new rl(nl.UNAVAILABLE,`${t}: ${e}`);throw e}class Yp{static emptySet(e){return new Yp(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Il.comparator(t.key,n.key):(e,t)=>Il.comparator(e.key,t.key),this.keyedMap=hd(),this.sortedSet=new Ec(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Yp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xp{constructor(){this.Z_=new Ec(Il.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Zo():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Jp{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Jp(e,t,Yp.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Zp{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class em{constructor(){this.queries=tm(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=tl(e),r=n.queries;n.queries=tm(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new rl(nl.ABORTED,"Firestore shutting down"))}}function tm(){return new ld((e=>nd(e)),td)}async function nm(e,t){const n=tl(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new Zp,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Qp(e,`Initialization of query '${rd(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&am(n)}async function rm(e,t){const n=tl(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function im(e,t){const n=tl(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&am(n)}function sm(e,t,n){const r=tl(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function am(e){e.ia.forEach((e=>{e.next()}))}var om,lm;(lm=om||(om={}))._a="default",lm.Cache="cache";class cm{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Jp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Jp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==om.Cache}}class um{constructor(e){this.key=e}}class dm{constructor(e){this.key=e}}class hm{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=bd(),this.mutatedKeys=bd(),this.ya=ad(e),this.wa=new Yp(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Xp,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=id(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zo()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new Jp(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Xp,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=bd(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new dm(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new um(n))})),t}Oa(e){this.fa=e.gs,this.pa=bd();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Jp.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const fm="SyncEngine";class pm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mm{constructor(e){this.key=e,this.Ba=!1}}class gm{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new ld((e=>nd(e)),td),this.qa=new Map,this.Qa=new Set,this.$a=new Ec(Il.comparator),this.Ua=new Map,this.Ka=new Ef,this.Wa={},this.Ga=new Map,this.za=uf.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function ym(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Fm(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await bm(r,t,n,!0),i}async function vm(e,t){const n=Fm(e);await bm(n,t,!0,!1)}async function bm(e,t,n,r){const i=await qf(e.localStore,Xu(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await xm(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&wp(e.remoteStore,i),o}async function xm(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await Wf(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Am(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await Wf(e.localStore,t,!0),a=new hm(t,s.gs),o=a.ba(s.documents),l=ph.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Am(e,n,c.Ma);const u=new pm(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function wm(e,t,n){const r=tl(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter((e=>!td(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kp(r.remoteStore,i.targetId),Im(r,i.targetId)})).catch(Ul)):(Im(r,i.targetId),await Hf(r.localStore,i.targetId,!0))}async function km(e,t){const n=tl(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kp(n.remoteStore,r.targetId))}async function Sm(e,t){const n=tl(e);try{const e=await function(e,t){const n=tl(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Pc.EMPTY_BYTE_STRING,El.min()).withLastLimboFreeSnapshotVersion(El.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Hr.updateTargetData(e,c))}));let o=ud(),l=bd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(zf(e,s,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(El.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return $l.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(el(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?el(r.Ba):e.removedDocuments.size>0&&(el(r.Ba),r.Ba=!1))})),await Dm(n,e,t)}catch(e){await Ul(e)}}function Em(e,t,n){const r=tl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=tl(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&am(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Cm(e,t,n){const r=tl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),s=i&&i.key;if(s){let e=new Ec(Il.comparator);e=e.insert(s,yu.newNoDocument(s,El.min()));const n=bd().add(s),i=new fh(El.min(),new Map,new Ec(gl),e,n);await Sm(r,i),r.$a=r.$a.remove(s),r.Ua.delete(t),Om(r)}else await Hf(r.localStore,t,!1).then((()=>Im(r,t,n))).catch(Ul)}async function Nm(e,t){const n=tl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=tl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=$l.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);el(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=bd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);jm(n,r,null),_m(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dm(n,e)}catch(e){await Ul(e)}}async function Tm(e,t,n){const r=tl(e);try{const e=await function(e,t){const n=tl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(el(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);jm(r,t,n),_m(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dm(r,e)}catch(n){await Ul(n)}}function _m(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function jm(e,t,n){const r=tl(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Im(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||Pm(e,t)}))}function Pm(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(kp(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),Om(e))}function Am(e,t,n){for(const r of n)r instanceof um?(e.Ka.addReference(r.key,t),Rm(e,r)):r instanceof dm?(Qo(fm,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||Pm(e,r.key)):Zo()}function Rm(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Qo(fm,"New document in limbo: "+n),e.Qa.add(r),Om(e))}function Om(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Il(Tl.fromString(t)),r=e.za.next();e.Ua.set(r,new mm(n)),e.$a=e.$a.insert(n,r),wp(e.remoteStore,new ef(Xu(Ku(n.path)),r,"TargetPurposeLimboResolution",Bl.ae))}}async function Dm(e,t,n){const r=tl(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{a.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Of.Yi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=tl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$l.forEach(t,(t=>$l.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$l.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!zl(e))throw e;Qo(Lf,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,s))}async function Mm(e,t){const n=tl(e);if(!n.currentUser.isEqual(t)){Qo(fm,"User change. New user:",t.toKey());const e=await $f(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new rl(nl.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Dm(n,e.Rs)}}function Lm(e,t){const n=tl(e),r=n.Ua.get(t);if(r&&r.Ba)return bd().add(r.key);{let e=bd();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function Fm(e){const t=tl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cm.bind(null,t),t.La.p_=im.bind(null,t.eventManager),t.La.Ja=sm.bind(null,t.eventManager),t}function Um(e){const t=tl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tm.bind(null,t),t}class $m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Uf(this.persistence,new Mf,e.initialUser,this.serializer)}Xa(e){return new If(Af.ri,this.serializer)}Za(e){return new Qf}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$m.provider={build:()=>new $m};class Vm extends $m{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){el(this.persistence.referenceDelegate instanceof Rf);const n=this.persistence.referenceDelegate.garbageCollector;return new mf(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?cf.withCacheSize(this.cacheSizeBytes):cf.DEFAULT;return new If((e=>Rf.ri(e,t)),this.serializer)}}class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Em(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mm.bind(null,this.syncEngine),await Hp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new em}createDatastore(e){const t=lp(e.databaseInfo.databaseId),n=function(e){return new ap(e)}(e.databaseInfo);return function(e,t,n,r){return new mp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new vp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Em(this.syncEngine,e,0)),Jf.D()?new Jf:new Yf)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new gm(e,t,n,r,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=tl(e);Qo(yp,"RemoteStore shutting down."),t.W_.add(5),await xp(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}zm.provider={build:()=>new zm};class Bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const qm="FirestoreClient";class Hm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ho.UNAUTHENTICATED,this.clientId=ml.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Qo(qm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Qo(qm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Qp(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Wm(e,t){e.asyncQueue.verifyOperationInProgress(),Qo(qm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await $f(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Km(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Gm(e);Qo(qm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>qp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>qp(t.remoteStore,n))),e._onlineComponents=t}async function Gm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qo(qm,"Using user provided OfflineComponentProvider");try{await Wm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===nl.FAILED_PRECONDITION||e.code===nl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await Wm(e,new $m)}}else Qo(qm,"Using default OfflineComponentProvider"),await Wm(e,new Vm(void 0));return e._offlineComponents}async function Qm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qo(qm,"Using user provided OnlineComponentProvider"),await Km(e,e._uninitializedComponentsProvider._online)):(Qo(qm,"Using default OnlineComponentProvider"),await Km(e,new zm))),e._onlineComponents}function Ym(e){return Qm(e).then((e=>e.syncEngine))}async function Xm(e){const t=await Qm(e),n=t.eventManager;return n.onListen=ym.bind(null,t.syncEngine),n.onUnlisten=wm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=vm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=km.bind(null,t.syncEngine),n}function Jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new il;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Bm({next:o=>{s.su(),t.enqueueAndForget((()=>rm(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new rl(nl.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new rl(nl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new cm(Ku(n.path),s,{includeMetadataChanges:!0,Ta:!0});return nm(e,a)}(await Xm(e),e.asyncQueue,t,n,r))),r.promise}function Zm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new il;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Bm({next:n=>{s.su(),t.enqueueAndForget((()=>rm(e,a))),n.fromCache&&"server"===r.source?i.reject(new rl(nl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new cm(n,s,{includeMetadataChanges:!0,Ta:!0});return nm(e,a)}(await Xm(e),e.asyncQueue,t,n,r))),r.promise}function eg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const tg=new Map;function ng(e,t,n){if(!n)throw new rl(nl.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rg(e){if(!Il.isDocumentKey(e))throw new rl(nl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ig(e){if(Il.isDocumentKey(e))throw new rl(nl.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function sg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Zo()}function ag(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rl(nl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(e);throw new rl(nl.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function og(e,t){if(t<=0)throw new rl(nl.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const lg="firestore.googleapis.com",cg=!0;class ug{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new rl(nl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lg,this.ssl=cg}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:cg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=lf;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<hf)throw new rl(nl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new rl(nl.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rl(nl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new rl(nl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new rl(nl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rl(nl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rl(nl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new al;switch(e.type){case"firstParty":return new ul(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rl(nl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tg.get(e);t&&(Qo("ComponentProvider","Removing Datastore"),tg.delete(e),t.terminate())}(this),Promise.resolve()}}class hg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hg(this.firestore,e,this._query)}}class fg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fg(this.firestore,e,this._key)}}class pg extends hg{constructor(e,t,n){super(e,t,Ku(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fg(this.firestore,null,new Il(e))}withConverter(e){return new pg(this.firestore,e,this._path)}}function mg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pn(e),ng("collection","path",t),e instanceof dg){const n=Tl.fromString(t,...r);return ig(n),new pg(e,null,n)}{if(!(e instanceof fg||e instanceof pg))throw new rl(nl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Tl.fromString(t,...r));return ig(n),new pg(e.firestore,null,n)}}function gg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pn(e),1===arguments.length&&(t=ml.newId()),ng("doc","path",t),e instanceof dg){const n=Tl.fromString(t,...r);return rg(n),new fg(e,null,new Il(n))}{if(!(e instanceof fg||e instanceof pg))throw new rl(nl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Tl.fromString(t,...r));return rg(n),new fg(e.firestore,e instanceof pg?e.converter:null,new Il(n))}}const yg="AsyncQueue";class vg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cp(this,"async_queue_retry"),this.Su=()=>{const e=op();e&&Qo(yg,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=op();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=op();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new il;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(NL){if(!zl(NL))throw NL;Qo(yg,"Operation failed with retryable error: "+NL)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Yo("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Gp.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Zo()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class bg extends dg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new vg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vg(e),this._firestoreClient=void 0,await e}}}function xg(e){if(e._terminated)throw new rl(nl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wg(e),e._firestoreClient}function wg(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Bc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,eg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Hm(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class kg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kg(Pc.fromBase64String(e))}catch(e){throw new rl(nl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new kg(Pc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new rl(nl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eg{constructor(e){this._methodName=e}}class Cg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rl(nl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rl(nl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gl(this._lat,e._lat)||gl(this._long,e._long)}}class Ng{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Tg=/^__.*__$/;class _g{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Kd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wd(e,this.data,t,this.fieldTransforms)}}class jg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Kd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ig(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zo()}}class Pg{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Ig(this.Lu)&&Tg.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ag{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||lp(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Pg({Lu:e,methodName:t,zu:n,path:jl.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(e){const t=e._freezeSettings(),n=lp(e._databaseId);return new Ag(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Og(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(s.merge||s.mergeFields?2:0,t,n,i);zg("Data must be an object, but it was:",a,r);const o=$g(r,a);let l,c;if(s.merge)l=new jc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Bg(t,r,n);if(!a.contains(i))throw new rl(nl.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Kg(e,i)||e.push(i)}l=new jc(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new _g(new mu(o),l,c)}class Dg extends Eg{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dg}}function Mg(e,t,n,r){const i=e.ju(1,t,n);zg("Data must be an object, but it was:",i,r);const s=[],a=mu.empty();kc(r,((e,r)=>{const o=Hg(t,e,n);r=Pn(r);const l=i.Uu(o);if(r instanceof Dg)s.push(o);else{const e=Ug(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new jc(s);return new jg(a,o,i.fieldTransforms)}function Lg(e,t,n,r,i,s){const a=e.ju(1,t,n),o=[Bg(t,r,n)],l=[i];if(s.length%2!=0)throw new rl(nl.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Bg(t,s[h])),l.push(s[h+1]);const c=[],u=mu.empty();for(let h=o.length-1;h>=0;--h)if(!Kg(c,o[h])){const e=o[h];let t=l[h];t=Pn(t);const n=a.Uu(e);if(t instanceof Dg)c.push(e);else{const r=Ug(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new jc(c);return new jg(u,d,a.fieldTransforms)}function Fg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ug(n,e.ju(r?4:3,t))}function Ug(e,t){if(Vg(e=Pn(e)))return zg("Unsupported field value:",t,e),$g(e,t);if(e instanceof Eg)return function(e,t){if(!Ig(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ug(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Pn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ed(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Sl.fromDate(e);return{timestampValue:Th(t.serializer,n)}}if(e instanceof Sl){const n=new Sl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Th(t.serializer,n)}}if(e instanceof Cg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kg)return{bytesValue:_h(t.serializer,e._byteString)};if(e instanceof fg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ph(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ng)return function(e,t){return{mapValue:{fields:{[Wc]:{stringValue:Qc},[Yc]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return kd(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${sg(e)}`)}(e,t)}function $g(e,t){const n={};return Sc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kc(e,((e,r)=>{const i=Ug(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sl||e instanceof Cg||e instanceof kg||e instanceof fg||e instanceof Eg||e instanceof Ng)}function zg(e,t,n){if(!Vg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=sg(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Bg(e,t,n){if((t=Pn(t))instanceof Sg)return t._internalPath;if("string"==typeof t)return Hg(e,t);throw Wg("Field path arguments must be of type string or ",e,!1,void 0,n)}const qg=new RegExp("[~\\*/\\[\\]]");function Hg(e,t,n){if(t.search(qg)>=0)throw Wg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Sg(...t.split("."))._internalPath}catch(Pj){throw Wg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wg(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new rl(nl.INVALID_ARGUMENT,o+e+l)}function Kg(e,t){return e.some((e=>e.isEqual(t)))}class Gg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qg extends Gg{data(){return super.data()}}function Yg(e,t){return"string"==typeof t?Hg(e,t):t instanceof Sg?t._internalPath:t._delegate._internalPath}function Xg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rl(nl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class Zg extends Jg{}function ey(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Jg&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof ry)).length,n=e.filter((e=>e instanceof ty)).length;if(t>1||t>0&&n>0)throw new rl(nl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class ty extends Zg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ty(e,t,n)}_apply(e){const t=this._parse(e);return uy(e._query,t),new hg(e.firestore,e.converter,Zu(e._query,t))}_parse(e){const t=Rg(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new rl(nl.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){cy(a,s);const t=[];for(const n of a)t.push(ly(r,e,n));o={arrayValue:{values:t}}}else o=ly(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||cy(a,s),o=Fg(n,t,a,"in"===s||"not-in"===s);return Eu.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function ny(e,t,n){const r=t,i=Yg("where",e);return ty._create(i,r,n)}class ry extends Jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ry(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Cu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)uy(n,i),n=Zu(n,i)}(e._query,t),new hg(e.firestore,e.converter,Zu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class iy extends Zg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new iy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new rl(nl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rl(nl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(t,n)}(e._query,this._field,this._direction);return new hg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Hu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function sy(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Yg("orderBy",e);return iy._create(n,t)}class ay extends Zg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ay(e,t,n)}_apply(e){return new hg(e.firestore,e.converter,ed(e._query,this._limit,this._limitType))}}function oy(e){return og("limit",e),ay._create("limit",e,"F")}function ly(e,t,n){if("string"==typeof(n=Pn(n))){if(""===n)throw new rl(nl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qu(t)&&-1!==n.indexOf("/"))throw new rl(nl.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Tl.fromString(n));if(!Il.isDocumentKey(r))throw new rl(nl.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return au(e,new Il(r))}if(n instanceof fg)return au(e,n._key);throw new rl(nl.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sg(n)}.`)}function cy(e,t){if(!Array.isArray(e)||0===e.length)throw new rl(nl.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uy(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rl(nl.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rl(nl.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Zo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return kc(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Yc].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Oc(e.doubleValue)));return new Ng(i)}convertGeoPoint(e){return new Cg(Oc(e.latitude),Oc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Vc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const t=Rc(e);return new Sl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Tl.fromString(e);el(Zh(n));const r=new Hc(n.get(1),n.get(3)),i=new Il(n.popFirst(5));return r.isEqual(t)||Yo(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function hy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class fy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class py extends Gg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new my(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Yg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class my extends py{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new my(this._firestore,this._userDataWriter,n.key,n,new fy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rl(nl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new my(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new my(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:yy(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zo()}}function vy(e){e=ag(e,fg);const t=ag(e.firestore,bg);return Jm(xg(t),e._key).then((n=>Ny(t,e,n)))}class by extends dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new kg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fg(this.firestore,null,t)}}function xy(e){e=ag(e,hg);const t=ag(e.firestore,bg),n=xg(t),r=new by(t);return Xg(e._query),Zm(n,e._query).then((n=>new gy(t,r,e,n)))}function wy(e,t,n){e=ag(e,fg);const r=ag(e.firestore,bg),i=hy(e.converter,t,n);return Cy(r,[Og(Rg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Fd.none())])}function ky(e,t,n){e=ag(e,fg);const r=ag(e.firestore,bg),i=Rg(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=Pn(t))||t instanceof Sg?Lg(i,"updateDoc",e._key,t,n,o):Mg(i,"updateDoc",e._key,t),Cy(r,[s.toMutation(e._key,Fd.exists(!0))])}function Sy(e){return Cy(ag(e.firestore,bg),[new Xd(e._key,Fd.none())])}function Ey(e,t){const n=ag(e.firestore,bg),r=gg(e),i=hy(e.converter,t);return Cy(n,[Og(Rg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Fd.exists(!1))]).then((()=>r))}function Cy(e,t){return function(e,t){const n=new il;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Um(e);try{const e=await function(e,t){const n=tl(e),r=Sl.now(),i=t.reduce(((e,t)=>e.add(t.key)),bd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=ud(),l=bd();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=qd(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Kd(e.key,t,gu(t.value.mapValue),Fd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:fd(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Ec(gl)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Dm(r,e.changes),await Dp(r.remoteStore)}catch(e){const t=Qp(e,"Failed to persist write");n.reject(t)}}(await Ym(e),t,n))),n.promise}(xg(e),t)}function Ny(e,t,n){const r=n.docs.get(t._key),i=new by(e);return new py(e,i,t._key,r,new fy(n.hasPendingWrites,n.fromCache),t.converter)}class Ty{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rg(e)}set(e,t,n){this._verifyNotCommitted();const r=_y(e,this._firestore),i=hy(r.converter,t,n),s=Og(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Fd.none())),this}update(e,t,n){this._verifyNotCommitted();const r=_y(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=Pn(t))||t instanceof Sg?Lg(this._dataReader,"WriteBatch.update",r._key,t,n,a):Mg(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Fd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_y(e,this._firestore);return this._mutations=this._mutations.concat(new Xd(t._key,Fd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rl(nl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _y(e,t){if((e=Pn(e)).firestore!==t)throw new rl(nl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wo=e}(Kr),zr(new An("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new bg(new ll(e.getProvider("auth-internal")),new hl(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rl(nl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Yr(Bo,qo,e),Yr(Bo,qo,"esm2017")}();Yr("firebase","11.5.0","app");const jy="firebasestorage.googleapis.com",Iy="storageBucket";class Py extends wn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Oy(e),`Firebase Storage: ${t} (${Oy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Py.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Oy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ay,Ry;function Oy(e){return"storage/"+e}function Dy(){return new Py(Ay.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function My(){return new Py(Ay.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ly(){return new Py(Ay.CANCELED,"User canceled the upload/download.")}function Fy(){return new Py(Ay.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Uy(e){return new Py(Ay.INVALID_ARGUMENT,e)}function $y(){return new Py(Ay.APP_DELETED,"The Firebase app was deleted.")}function Vy(e,t){return new Py(Ay.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function zy(e){throw new Py(Ay.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ay||(Ay={}));class By{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=By.makeFromUrl(e,t)}catch(NL){return new By(e,"")}if(""===n.path)return n;throw r=e,new Py(Ay.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===jy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new By(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Py(Ay.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class qy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Hy(e){return"string"===typeof e||e instanceof String}function Wy(e){return Ky()&&e instanceof Blob}function Ky(){return"undefined"!==typeof Blob}function Gy(e,t,n,r){if(r<t)throw Uy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Uy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Qy(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Yy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Xy(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ry||(Ry={}));class Jy{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Zy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Ry.NO_ERROR,i=n.getStatus();if(!t||Xy(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Ry.ABORT;return void e(!1,new Zy(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Zy(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(NL){r(NL)}else if(null!==i){const e=Dy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?$y():Ly())}else{r(My())}};this.canceled_?t(0,new Zy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Zy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function ev(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function tv(){const e=ev();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ky())return new Blob(n);throw new Py(Ay.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function nv(e){if("undefined"===typeof atob)throw t="base-64",new Py(Ay.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const rv="raw",iv="base64",sv="base64url",av="data_url";class ov{constructor(e,t){this.data=e,this.contentType=t||null}}function lv(e,t){switch(e){case rv:return new ov(cv(t));case iv:case sv:return new ov(uv(e,t));case av:return new ov(function(e){const t=new dv(e);return t.base64?uv(iv,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(NL){throw Vy(av,"Malformed data URL.")}return cv(t)}(t.rest)}(t),new dv(t).contentType)}throw Dy()}function cv(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function uv(e,t){switch(e){case iv:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Vy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case sv:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Vy(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nv(t)}catch(NL){if(NL.message.includes("polyfill"))throw NL;throw Vy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class dv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Vy(av,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class hv{constructor(e,t){let n=0,r="";Wy(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wy(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new hv(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new hv(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ky()){const e=t.map((e=>e instanceof hv?e.data_:e));return new hv(tv.apply(null,e))}{const e=t.map((e=>Hy(e)?lv(rv,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new hv(r,!0)}}uploadData(){return this.data_}}function fv(e){let t;try{t=JSON.parse(e)}catch(NL){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function pv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function mv(e,t){return t}class gv{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||mv}}let yv=null;function vv(){if(yv)return yv;const e=[];e.push(new gv("bucket")),e.push(new gv("generation")),e.push(new gv("metageneration")),e.push(new gv("name","fullPath",!0));const t=new gv("name");t.xform=function(e,t){return function(e){return!Hy(e)||e.length<2?e:pv(e)}(t)},e.push(t);const n=new gv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new gv("timeCreated")),e.push(new gv("updated")),e.push(new gv("md5Hash",null,!0)),e.push(new gv("cacheControl",null,!0)),e.push(new gv("contentDisposition",null,!0)),e.push(new gv("contentEncoding",null,!0)),e.push(new gv("contentLanguage",null,!0)),e.push(new gv("contentType",null,!0)),e.push(new gv("metadata","customMetadata",!0)),yv=e,yv}function bv(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new By(n,r);return t._makeStorageReference(i)}})}(r,e),r}function xv(e,t,n){const r=fv(t);if(null===r)return null;return bv(e,r,n)}function wv(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class kv{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Sv(e){if(!e)throw Dy()}function Ev(e,t){return function(n,r){const i=xv(e,r,t);return Sv(null!==i),i}}function Cv(e,t){return function(n,r){const i=xv(e,r,t);return Sv(null!==i),function(e,t,n,r){const i=fv(t);if(null===i)return null;if(!Hy(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent,o=s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Qy("/b/"+a(i)+"/o/"+a(s),n,r)+Yy({alt:"media",token:t})}));return o[0]}(i,r,e.host,e._protocol)}}function Nv(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Py(Ay.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Py(Ay.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Py(Ay.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Py(Ay.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Tv(e){const t=Nv(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Py(Ay.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function _v(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function jv(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=_v(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wv(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=hv.getBlob(c,r,u);if(null===d)throw Fy();const h={name:l.fullPath},f=Qy(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new kv(f,"POST",Ev(e,n),p);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=Nv(t),m}class Iv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ry.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Ry.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Ry.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw zy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(NL){return-1}}getResponse(){if(!this.sent_)throw zy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Pv extends Iv{initXhr(){this.xhr_.responseType="text"}}function Av(){return new Pv}class Rv{constructor(e,t){this._service=e,this._location=t instanceof By?t:By.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Rv(e,t)}get root(){const e=new By(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new By(this._location.bucket,e);return new Rv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Py(Ay.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Ov(e,t,n){e._throwIfRoot("uploadBytes");const r=jv(e.storage,e._location,vv(),new hv(t,!0),n);return e.storage.makeRequestWithTokens(r,Av).then((t=>({metadata:t,ref:e})))}function Dv(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Qy(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new kv(r,"GET",Cv(e,n),i);return s.errorHandler=Tv(t),s}(e.storage,e._location,vv());return e.storage.makeRequestWithTokens(t,Av).then((e=>{if(null===e)throw new Py(Ay.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Mv(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Qy(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new kv(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Tv(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Av)}function Lv(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new By(e._location.bucket,n);return new Rv(e.storage,r)}function Fv(e,t){if(e instanceof Vv){const n=e;if(null==n._bucket)throw new Py(Ay.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Iy+"' property when initializing the app?");const r=new Rv(n,n._bucket);return null!=t?Fv(r,t):r}return void 0!==t?Lv(e,t):e}function Uv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Vv)return new Rv(e,t);throw Uy("To use ref(service, url), the first argument must be a Storage instance.")}return Fv(e,t)}function $v(e,t){const n=null===t||void 0===t?void 0:t[Iy];return null==n?null:By.makeFromBucketSpec(n,e)}class Vv{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=jy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?By.makeFromBucketSpec(r,this._host):$v(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=By.makeFromBucketSpec(this._url,e):this._bucket=$v(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rv(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new qy($y());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Yy(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Jy(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const zv="@firebase/storage",Bv="0.13.7",qv="storage";function Hv(e,t,n){return Ov(e=Pn(e),t,n)}function Wv(e){return Dv(e=Pn(e))}function Kv(e,t){return Uv(e=Pn(e),t)}function Gv(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Vv(r,i,s,n,Kr)}zr(new An(qv,Gv,"PUBLIC").setMultipleInstances(!0)),Yr(zv,Bv,""),Yr(zv,Bv,"esm2017");const Qv=Gr({apiKey:"AIzaSyBTLzFaecHeQyibhoR84whPQo6lgok7274",authDomain:"e-commerce-b7d85.firebaseapp.com",databaseURL:"https://e-commerce-b7d85-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"e-commerce-b7d85",storageBucket:"e-commerce-b7d85.firebasestorage.app",messagingSenderId:"765082634740",appId:"1:765082634740:web:3fa1d8999fef98e53e11a1",measurementId:"G-GQSN7E2CHR"}),Yv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();const t=Br(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Br(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(En(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;fi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ko,persistence:[Pa,pa,ga]}),r=mn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>No)return;const r=null===t||void 0===t?void 0:t.token;To!==r&&(To=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Pn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Pn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=hn("auth");return s&&Rs(n,`http://${s}`),n}(Qv),Xv=function(e,t){const n="object"==typeof e?e:Qr(),r="string"==typeof e?e:t||qc,i=Br(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=fn("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ag(e,dg))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==lg&&s.host!==o&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!En(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ho.MOCK_USER;else{t=yn(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rl(nl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ho(s)}e._authCredentials=new ol(new sl(t,n))}}(i,...e)}return i}(Qv),Jv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr(),t=arguments.length>1?arguments[1]:void 0;e=Pn(e);const n=Br(e,qv).getImmediate({identifier:t}),r=fn("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:yn(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Qv),Zv=e=>function(e,t,n,r){return Pn(e).onAuthStateChanged(t,n,r)}(Yv,e),eb={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let tb;const nb=new Uint8Array(16);const rb=[];for(let _L=0;_L<256;++_L)rb.push((_L+256).toString(16).slice(1));function ib(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(rb[e[t+0]]+rb[e[t+1]]+rb[e[t+2]]+rb[e[t+3]]+"-"+rb[e[t+4]]+rb[e[t+5]]+"-"+rb[e[t+6]]+rb[e[t+7]]+"-"+rb[e[t+8]]+rb[e[t+9]]+"-"+rb[e[t+10]]+rb[e[t+11]]+rb[e[t+12]]+rb[e[t+13]]+rb[e[t+14]]+rb[e[t+15]]).toLowerCase()}const sb=function(e,t,n){if(eb.randomUUID&&!t&&!e)return eb.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!tb){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tb=crypto.getRandomValues.bind(crypto)}return tb(nb)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return ib(r)},ab=(0,H.createContext)();function ob(){return(0,H.useContext)(ab)}function lb(e){let{children:t}=e;const[n,r]=(0,H.useState)(null),[i,s]=(0,H.useState)(null),[a,o]=(0,H.useState)(!0),[l,c]=(0,H.useState)(null),[u,d]=(0,H.useState)(!1);(0,H.useEffect)((()=>{(()=>{let e=localStorage.getItem("guestId");e||(e=`guest-${sb()}`,localStorage.setItem("guestId",e)),c(e)})()}),[]),(0,H.useEffect)((()=>{const e=Zv((async e=>{if(e){try{const t=(await vy(gg(Xv,"users",e.uid))).data();s((null===t||void 0===t?void 0:t.role)||"user")}catch(t){console.error("Error fetching user data:",t),s("user")}r(e),d(!1)}else{r(null),s(null);const e=localStorage.getItem("guestData");if(e){"guest"===JSON.parse(e).role?d(!0):h()}else l&&h()}o(!1)}));return()=>e()}),[l]);const h=async()=>{if(l)try{try{(await vy(gg(Xv,"users",l))).exists()||await wy(gg(Xv,"users",l),{uid:l,email:null,name:"Guest User",role:"guest",createdAt:(new Date).toISOString()})}catch(e){console.log("Using local storage only for guest mode due to permission restrictions");const t={uid:l,name:"Guest User",role:"guest",createdAt:(new Date).toISOString()};localStorage.setItem("guestData",JSON.stringify(t))}return d(!0),l}catch(t){return console.error("Error enabling guest mode:",t),d(!0),l}};async function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{const i=await async function(e,t,n){if(qr(e.app))return Promise.reject(gi(e));const r=ws(e),i=Ps(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zs,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&la(e),t})),a=await ea._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(Yv,e,t),s=i.user;return await ca(s,{displayName:n}),await wy(gg(Xv,"users",s.uid),{uid:s.uid,email:e,name:n,role:r,createdAt:(new Date).toISOString()}),s}catch(i){throw i}}const p={currentUser:n,userRole:i,isAdmin:"admin"===i,isGuest:u,guestId:l,register:f,login:function(e,t){return function(e,t,n){return qr(e.app)?Promise.reject(gi(e)):oa(Pn(e),Ws.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&la(e),t}))}(Yv,e,t)},logout:async function(){await function(e){return Pn(e).signOut()}(Yv),h()},loading:a,enableGuestMode:h,getEffectiveUserId:()=>n?n.uid:l&&u?l:null,convertGuestToUser:async(e,t,n)=>{try{const c=l,u=await f(e,t,n);if(c){try{const e=await vy(gg(Xv,"carts",c));if(e.exists()){const t=e.data();await wy(gg(Xv,"carts",u.uid),{userId:u.uid,items:t.items||[],updatedAt:(new Date).toISOString(),isGuestCart:!1,migratedFromGuest:c,migratedAt:(new Date).toISOString()});try{const e=await xy(ey(mg(Xv,"orders"),ny("userId","==",c))),t=(xg(r=ag(r=Xv,bg)),new Ty(r,(e=>Cy(r,e))));e.forEach((e=>{const n=gg(Xv,"orders",e.id);t.update(n,{userId:u.uid,isGuestOrder:!1,updatedAt:(new Date).toISOString(),previousGuestId:c})})),e.size>0&&await t.commit()}catch(i){console.error("Error migrating guest orders:",i)}}}catch(s){console.error("Error during guest data migration:",s)}try{const e=localStorage.getItem(`guest-cart-${c}`);e&&(localStorage.setItem(`user-cart-${u.uid}`,e),localStorage.removeItem(`guest-cart-${c}`));const t=localStorage.getItem("cart");t&&(localStorage.setItem(`user-cart-${u.uid}`,t),localStorage.removeItem("cart"))}catch(a){console.error("Error during localStorage migration:",a)}try{localStorage.removeItem("guestData"),localStorage.removeItem("guestId")}catch(o){console.error("Error cleaning up guest data:",o)}}return u}catch(c){throw console.error("Error converting guest to user:",c),c}var r},getUserData:async e=>{if(!e)return null;try{const t=await vy(gg(Xv,"users",e));if(t.exists())return t.data()}catch(t){console.log("Firestore unavailable, falling back to local storage")}if(e===l){const e=localStorage.getItem("guestData");if(e)return JSON.parse(e);const t={uid:l,name:"Guest User",role:"guest",createdAt:(new Date).toISOString()};return localStorage.setItem("guestData",JSON.stringify(t)),t}return null}};return(0,K.jsx)(ab.Provider,{value:p,children:t})}function cb(e,t){-1===e.indexOf(t)&&e.push(t)}function ub(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const db=e=>e;let hb=db,fb=db;const pb=!1,mb=!1;function gb(e){let t;return()=>(void 0===t&&(t=e()),t)}const yb=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class vb{constructor(){this.subscriptions=[]}add(e){return cb(this.subscriptions,e),()=>ub(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bb=e=>1e3*e,xb=e=>e/1e3;function wb(e,t){return t?e*(1e3/t):0}new Set;function kb(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Sb(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Eb(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Cb(e,t,n,r){if("function"===typeof t){const[i,s]=Eb(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=Eb(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function Nb(e,t,n){const r=e.getProps();return Cb(r,t,void 0!==n?n:r.custom,e)}const Tb=gb((()=>void 0!==window.ScrollTimeline));class _b{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>Tb()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jb extends _b{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Ib(e,t){return e?e[t]||e.default||e:void 0}const Pb=2e4;function Ab(e){let t=0;let n=e.next(t);for(;!n.done&&t<Pb;)t+=50,n=e.next(t);return t>=Pb?1/0:t}function Rb(e){return"function"===typeof e}function Ob(e,t){e.timeline=t,e.onfinish=null}const Db=e=>Array.isArray(e)&&"number"===typeof e[0],Mb={linearEasing:void 0};function Lb(e,t){const n=gb(e);return()=>{var e;return null!==(e=Mb[t])&&void 0!==e?e:n()}}const Fb=Lb((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(NL){return!1}return!0}),"linearEasing"),Ub=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(yb(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function $b(e){return Boolean("function"===typeof e&&Fb()||!e||"string"===typeof e&&(e in zb||Fb())||Db(e)||Array.isArray(e)&&e.every($b))}const Vb=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},zb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vb([0,.65,.55,1]),circOut:Vb([.55,0,1,.45]),backIn:Vb([.31,.01,.66,-.59]),backOut:Vb([.33,1.53,.69,.99])};function Bb(e,t){return e?"function"===typeof e&&Fb()?Ub(e,t):Db(e)?Vb(e):Array.isArray(e)?e.map((e=>Bb(e,t)||zb.easeOut)):zb[e]:void 0}const qb=["read","resolveKeyframes","update","preRender","render","postRender"],Hb={value:null,addProjectionMetrics:null};function Wb(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=qb.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,i?s=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&Hb.value&&Hb.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(e)))}};return u}(s,t?n:void 0),e)),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,f=()=>{const s=mb?i.timestamp:performance.now();n=!1,mb||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=qb.reduce(((t,s)=>{const o=a[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),o.schedule(t,s,a)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<qb.length;t++)a[qb[t]].cancel(e)},state:i,steps:a}}const{schedule:Kb,cancel:Gb,state:Qb,steps:Yb}=Wb("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:db,!0),{schedule:Xb,cancel:Jb}=Wb(queueMicrotask,!1);let Zb;function ex(){Zb=void 0}const tx={now:()=>(void 0===Zb&&tx.set(Qb.isProcessing||mb?Qb.timestamp:performance.now()),Zb),set:e=>{Zb=e,queueMicrotask(ex)}},nx={x:!1,y:!1};function rx(){return nx.x||nx.y}function ix(e,t){const n=function(e,t,n){var r;if(e instanceof EventTarget)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function sx(e){return!("touch"===e.pointerType||rx())}const ax=(e,t)=>!!t&&(e===t||ax(e,t.parentElement)),ox=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,lx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const cx=new WeakSet;function ux(e){return t=>{"Enter"===t.key&&e(t)}}function dx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function hx(e){return ox(e)&&!rx()}function fx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=ix(e,n),a=e=>{const r=e.currentTarget;if(!hx(e)||cx.has(r))return;cx.add(r);const s=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),hx(e)&&cx.has(r)&&(cx.delete(r),"function"===typeof s&&s(e,{success:t}))},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||ax(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),e instanceof HTMLElement&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=ux((()=>{if(cx.has(n))return;dx(n,"down");const e=ux((()=>{dx(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>dx(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i))),t=e,lx.has(t.tagName)||-1!==t.tabIndex||null!==e.tabIndex||(e.tabIndex=0))})),s}const px={layout:0,mainThread:0,waapi:0};const mx={current:void 0};class gx{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=tx.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=tx.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new vb);const n=this.events[e].add(t);return"change"===e?()=>{n(),Kb.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return mx.current&&mx.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=tx.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return wb(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yx(e,t){return new gx(e,t)}const vx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bx=new Set(vx),xx=new Set(["width","height","top","left","right","bottom",...vx]),wx=e=>Array.isArray(e),kx=e=>wx(e)?e[e.length-1]||0:e;function Sx(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yx(n))}const Ex=e=>Boolean(e&&e.getVelocity);function Cx(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Ex(r)&&r.add))return n.add(t);var r}const Nx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Tx="data-"+Nx("framerAppearId");function _x(e){return e.props[Tx]}const jx=!1,Ix=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Px(e,t,n,r){if(e===t&&n===r)return db;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=Ix(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Ix(i(e),t,r)}const Ax=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Rx=e=>t=>1-e(1-t),Ox=Px(.33,1.53,.69,.99),Dx=Rx(Ox),Mx=Ax(Dx),Lx=e=>(e*=2)<1?.5*Dx(e):.5*(2-Math.pow(2,-10*(e-1))),Fx=e=>1-Math.sin(Math.acos(e)),Ux=Rx(Fx),$x=Ax(Fx),Vx=e=>/^0[^.\s]+$/u.test(e);const zx=(e,t,n)=>n>t?t:n<e?e:n,Bx={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},qx={...Bx,transform:e=>zx(0,1,e)},Hx={...Bx,default:1},Wx=e=>Math.round(1e5*e)/1e5,Kx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Gx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qx=(e,t)=>n=>Boolean("string"===typeof n&&Gx.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Yx=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,a,o]=r.match(Kx);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Xx={...Bx,transform:e=>Math.round((e=>zx(0,255,e))(e))},Jx={test:Qx("rgb","red"),parse:Yx("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Xx.transform(t)+", "+Xx.transform(n)+", "+Xx.transform(r)+", "+Wx(qx.transform(i))+")"}};const Zx={test:Qx("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Jx.transform},ew=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),tw=ew("deg"),nw=ew("%"),rw=ew("px"),iw=ew("vh"),sw=ew("vw"),aw={...nw,parse:e=>nw.parse(e)/100,transform:e=>nw.transform(100*e)},ow={test:Qx("hsl","hue"),parse:Yx("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+nw.transform(Wx(n))+", "+nw.transform(Wx(r))+", "+Wx(qx.transform(i))+")"}},lw={test:e=>Jx.test(e)||Zx.test(e)||ow.test(e),parse:e=>Jx.test(e)?Jx.parse(e):ow.test(e)?ow.parse(e):Zx.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Jx.transform(e):ow.transform(e)},cw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const uw="number",dw="color",hw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fw(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(hw,(e=>(lw.test(e)?(r.color.push(s),i.push(dw),n.push(lw.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(uw),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:i}}function pw(e){return fw(e).values}function mw(e){const{split:t,types:n}=fw(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===uw?Wx(e[s]):t===dw?lw.transform(e[s]):e[s]}return i}}const gw=e=>"number"===typeof e?0:e;const yw={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Kx))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(cw))||void 0===n?void 0:n.length)||0)>0},parse:pw,createTransformer:mw,getAnimatableNone:function(e){const t=pw(e);return mw(e)(t.map(gw))}},vw=new Set(["brightness","contrast","saturate","opacity"]);function bw(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Kx)||[];if(!r)return e;const i=n.replace(r,"");let s=vw.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const xw=/\b([a-z-]*)\(.*?\)/gu,ww={...yw,getAnimatableNone:e=>{const t=e.match(xw);return t?t.map(bw).join(" "):e}},kw={borderWidth:rw,borderTopWidth:rw,borderRightWidth:rw,borderBottomWidth:rw,borderLeftWidth:rw,borderRadius:rw,radius:rw,borderTopLeftRadius:rw,borderTopRightRadius:rw,borderBottomRightRadius:rw,borderBottomLeftRadius:rw,width:rw,maxWidth:rw,height:rw,maxHeight:rw,top:rw,right:rw,bottom:rw,left:rw,padding:rw,paddingTop:rw,paddingRight:rw,paddingBottom:rw,paddingLeft:rw,margin:rw,marginTop:rw,marginRight:rw,marginBottom:rw,marginLeft:rw,backgroundPositionX:rw,backgroundPositionY:rw},Sw={rotate:tw,rotateX:tw,rotateY:tw,rotateZ:tw,scale:Hx,scaleX:Hx,scaleY:Hx,scaleZ:Hx,skew:tw,skewX:tw,skewY:tw,distance:rw,translateX:rw,translateY:rw,translateZ:rw,x:rw,y:rw,z:rw,perspective:rw,transformPerspective:rw,opacity:qx,originX:aw,originY:aw,originZ:rw},Ew={...Bx,transform:Math.round},Cw={...kw,...Sw,zIndex:Ew,size:rw,fillOpacity:qx,strokeOpacity:qx,numOctaves:Ew},Nw={...Cw,color:lw,backgroundColor:lw,outlineColor:lw,fill:lw,stroke:lw,borderColor:lw,borderTopColor:lw,borderRightColor:lw,borderBottomColor:lw,borderLeftColor:lw,filter:ww,WebkitFilter:ww},Tw=e=>Nw[e];function _w(e,t){let n=Tw(e);return n!==ww&&(n=yw),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const jw=new Set(["auto","none","0"]);const Iw=e=>180*e/Math.PI,Pw=e=>{const t=Iw(Math.atan2(e[1],e[0]));return Rw(t)},Aw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Pw,rotateZ:Pw,skewX:e=>Iw(Math.atan(e[1])),skewY:e=>Iw(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Rw=e=>((e%=360)<0&&(e+=360),e),Ow=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Dw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Mw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ow,scaleY:Dw,scale:e=>(Ow(e)+Dw(e))/2,rotateX:e=>Rw(Iw(Math.atan2(e[6],e[5]))),rotateY:e=>Rw(Iw(Math.atan2(-e[2],e[0]))),rotateZ:Pw,rotate:Pw,skewX:e=>Iw(Math.atan(e[4])),skewY:e=>Iw(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Lw(e){return e.includes("scale")?1:0}function Fw(e,t){if(!e||"none"===e)return Lw(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Mw,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Aw,i=t}if(!i)return Lw(t);const s=r[t],a=i[1].split(",").map(Uw);return"function"===typeof s?s(a):a[s]}function Uw(e){return parseFloat(e.trim())}const $w=e=>e===Bx||e===rw,Vw=new Set(["x","y","z"]),zw=vx.filter((e=>!Vw.has(e)));const Bw={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Fw(n,"x")},y:(e,t)=>{let{transform:n}=t;return Fw(n,"y")}};Bw.translateX=Bw.x,Bw.translateY=Bw.y;const qw=new Set;let Hw=!1,Ww=!1;function Kw(){if(Ww){const e=Array.from(qw).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return zw.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Ww=!1,Hw=!1,qw.forEach((e=>e.complete())),qw.clear()}function Gw(){qw.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Ww=!0)}))}class Qw{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qw.add(this),Hw||(Hw=!0,Kb.read(Gw),Kb.resolveKeyframes(Kw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qw.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qw.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Yw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Xw=e=>t=>"string"===typeof t&&t.startsWith(e),Jw=Xw("--"),Zw=Xw("var(--"),ek=e=>!!Zw(e)&&tk.test(e.split("/*")[0].trim()),tk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;fb(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=nk.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!==n&&void 0!==n?n:r}`,i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Yw(e)?parseFloat(e):e}return ek(i)?rk(i,t,n+1):i}const ik=e=>t=>t.test(e),sk=[Bx,rw,nw,tw,sw,iw,{test:e=>"auto"===e,parse:e=>e}],ak=e=>sk.find(ik(e));class ok extends Qw{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),ek(n))){const r=rk(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!xx.has(n)||2!==e.length)return;const[r,i]=e,s=ak(r),a=ak(i);if(s!==a)if($w(s)&&$w(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||Vx(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!jw.has(t)&&fw(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=_w(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bw[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Bw[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const lk=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!yw.test(e)&&"0"!==e||e.startsWith("url(")));function ck(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=lk(i,t),o=lk(s,t);return hb(a===o,`You are trying to animate ${t} from "${i}" to "${s}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${s} via the \`style\` property.`),!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Rb(n))&&r)}const uk=e=>null!==e;function dk(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(uk),a=r&&"loop"!==i&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}class hk{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tx.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Gw(),Kw()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=tx.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:s,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!ck(e,n,r,i)){if(jx||!s)return o&&o(dk(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const fk=(e,t,n)=>e+(t-e)*n;function pk(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mk(e,t){return n=>n>0?t:e}const gk=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},yk=[Zx,Jx,ow];function vk(e){const t=(e=>yk.find((t=>t.test(e))))(e);if(hb(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===ow&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=pk(i,e,t+1/3),a=pk(i,e,t),o=pk(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const bk=(e,t)=>{const n=vk(e),r=vk(t);if(!n||!r)return mk(e,t);const i={...n};return e=>(i.red=gk(n.red,r.red,e),i.green=gk(n.green,r.green,e),i.blue=gk(n.blue,r.blue,e),i.alpha=fk(n.alpha,r.alpha,e),Jx.transform(i))},xk=(e,t)=>n=>t(e(n)),wk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(xk)},kk=new Set(["none","hidden"]);function Sk(e,t){return n=>fk(e,t,n)}function Ek(e){return"number"===typeof e?Sk:"string"===typeof e?ek(e)?mk:lw.test(e)?bk:Tk:Array.isArray(e)?Ck:"object"===typeof e?lw.test(e)?bk:Nk:mk}function Ck(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>Ek(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Nk(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Ek(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Tk=(e,t)=>{const n=yw.createTransformer(t),r=fw(e),i=fw(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?kk.has(e)&&!i.values.length||kk.has(t)&&!r.values.length?function(e,t){return kk.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):wk(Ck(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][i[a]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[s]=l,i[a]++}return r}(r,i),i.values),n):(hb(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),mk(e,t))};function _k(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return fk(e,t,n);return Ek(e)(e,t)}function jk(e,t,n){const r=Math.max(t-5,0);return wb(n-e(r),t-r)}const Ik={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pk=.001;function Ak(e){let t,n,{duration:r=Ik.duration,bounce:i=Ik.bounce,velocity:s=Ik.velocity,mass:a=Ik.mass}=e;hb(r<=bb(Ik.maxDuration),"Spring duration must be 10 seconds or less");let o=1-i;o=zx(Ik.minDamping,Ik.maxDamping,o),r=zx(Ik.minDuration,Ik.maxDuration,xb(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=Ok(e,o),l=Math.exp(-n);return Pk-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Ok(Math.pow(e,2),o);return(-t(e)+Pk>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Rk;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=bb(r),isNaN(l))return{stiffness:Ik.stiffness,damping:Ik.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const Rk=12;function Ok(e,t){return e*Math.sqrt(1-t*t)}const Dk=["duration","bounce"],Mk=["stiffness","damping","mass"];function Lk(e,t){return t.some((t=>void 0!==e[t]))}function Fk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ik.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ik.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:Ik.velocity,stiffness:Ik.stiffness,damping:Ik.damping,mass:Ik.mass,isResolvedFromDuration:!1,...e};if(!Lk(e,Mk)&&Lk(e,Dk))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*zx(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ik.mass,stiffness:i,damping:s}}else{const n=Ak(e);t={...t,...n,mass:Ik.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-xb(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-s,y=xb(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?Ik.restSpeed.granular:Ik.restSpeed.default),i||(i=v?Ik.restDelta.granular:Ik.restDelta.default),m<1){const e=Ok(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)o.done=e>=d;else{let n=0;m<1&&(n=0===e?bb(p):jk(b,e,t));const s=Math.abs(n)<=r,l=Math.abs(a-t)<=i;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(Ab(x),Pb),t=Ub((t=>x.next(e*t).value),e,30);return e+"ms "+t}};return x}function Uk(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===o?g:o(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,k;const S=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,k=Fk({keyframes:[f.value,p(f.value)],velocity:jk(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&x(e),f)}}}const $k=Px(.42,0,1,1),Vk=Px(0,0,.58,1),zk=Px(.42,0,.58,1),Bk={linear:db,easeIn:$k,easeInOut:zk,easeOut:Vk,circIn:Fx,circInOut:$x,circOut:Ux,backIn:Dx,backInOut:Mx,backOut:Ox,anticipate:Lx},qk=e=>{if(Db(e)){fb(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Px(t,n,r,i)}return"string"===typeof e?(fb(void 0!==Bk[e],`Invalid easing type '${e}'`),Bk[e]):e};function Hk(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(fb(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||_k,s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||db:t;n=wk(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=yb(e[r],e[r+1],n);return o[r](i)};return n?t=>c(zx(e[0],e[s-1],t)):c}function Wk(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=yb(0,t,r);e.push(fk(n,1,i))}}(t,e.length-1),t}function Kk(e,t){return e.map((()=>t||zk)).splice(0,e.length-1)}function Gk(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(qk):qk(i),a={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Wk(n),t),l=Hk(o,n,{ease:Array.isArray(s)?s:Kk(n,s)});return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const Qk=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Kb.update(t,!0),stop:()=>Gb(t),now:()=>Qb.isProcessing?Qb.timestamp:tx.now()}},Yk={decay:Uk,inertia:Uk,tween:Gk,keyframes:Gk,spring:Fk},Xk=e=>e/100;class Jk extends hk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||Qw;this.resolver=new s(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=this.options,a=Rb(t)?t:Yk[t]||Gk;let o,l;a!==Gk&&"number"!==typeof e[0]&&(o=wk(Xk,_k(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});"mirror"===i&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),null===c.calculatedDuration&&(c.calculatedDuration=Ab(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;px.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=i;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),v=zx(0,1,n)*u}const x=y?{done:!1,value:o[0]}:b.next(v);a&&(x.value=a(x.value));let{done:w}=x;y||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&void 0!==r&&(x.value=dk(o,this.options,r)),m&&m(x.value),k&&this.finish(),x}get duration(){const{resolved:e}=this;return e?xb(e.calculatedDuration):0}get time(){return xb(this.currentTime)}set time(e){e=bb(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xb(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Qk,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),px.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Zk=new Set(["opacity","clipPath","filter","transform"]);const eS=gb((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const tS={anticipate:Lx,backInOut:Mx,circInOut:$x};class nS extends hk{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new ok(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:s,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;var c;if("string"===typeof i&&Fb()&&i in tS&&(i=tS[i]),Rb((c=this.options).type)||"spring"===c.type||!$b(c.ease)){const{onComplete:t,onUpdate:a,motionValue:o,element:l,...c}=this.options,u=function(e,t){const n=new Jk({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),i.push(r.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),n=u.duration,r=u.times,i=u.ease,s="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=Bb(o,i);Array.isArray(u)&&(c.easing=u),Hb.value&&px.waapi++;const d=e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"});return Hb.value&&d.finished.finally((()=>{px.waapi--})),d}(a.owner.current,o,e,{...this.options,duration:n,times:r,ease:i});return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(Ob(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(dk(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:s,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return xb(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return xb(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=bb(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return db;const{animation:n}=t;Ob(n,e)}else this.pendingTimeline=e;return db}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:s,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,u=new Jk({...c,keyframes:n,duration:r,type:i,ease:s,times:a,isGenerator:!0}),d=bb(this.time);e.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return eS()&&n&&Zk.has(n)&&("transform"!==n||!l)&&!o&&!r&&"mirror"!==i&&0!==s&&"inertia"!==a}}const rS={type:"spring",stiffness:500,damping:25,restSpeed:10},iS={type:"keyframes",duration:.8},sS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aS=(e,t)=>{let{keyframes:n}=t;return n.length>2?iS:bx.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:rS:sS};const oS=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{const o=Ib(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=bb(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length})(o)||(u={...u,...aS(e,u)}),u.duration&&(u.duration=bb(u.duration)),u.repeatDelay&&(u.repeatDelay=bb(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(jx||pb)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!s&&void 0!==t.get()){const e=dk(u.keyframes,o);if(void 0!==e)return Kb.update((()=>{u.onUpdate(e),u.onComplete()})),new jb([])}return!s&&nS.supports(u)?new nS(u):new Jk(u)}};function lS(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function cS(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(s=e.latestValues[d])&&void 0!==s?s:null),r=l[d];if(void 0===r||u&&lS(u,d))continue;const i={delay:n,...Ib(a||{},d)};let o=!1;if(window.MotionHandoffAnimation){const t=_x(e);if(t){const e=window.MotionHandoffAnimation(t,d,Kb);null!==e&&(i.startTime=e,o=!0)}}Cx(e,d),t.start(oS(d,t,r,e.shouldReduceMotion&&xx.has(d)?{type:!1}:i,e,o));const h=t.animation;h&&c.push(h)}return o&&Promise.all(c).then((()=>{Kb.update((()=>{o&&function(e,t){const n=Nb(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s)Sx(e,a,kx(s[a]))}(e,o)}))})),c}function uS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=Nb(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(cS(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(dS).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(uS(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,i+r,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then((()=>t()))}return Promise.all([a(),o(n.delay)])}function dS(e,t){return e.sortNodePosition(t)}function hS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function fS(e){return"string"===typeof e||Array.isArray(e)}const pS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mS=["initial",...pS],gS=mS.length;function yS(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&yS(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<gS;n++){const r=mS[n],i=e.props[r];(fS(i)||!1===i)&&(t[r]=i)}return t}const vS=[...pS].reverse(),bS=pS.length;function xS(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>uS(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=uS(e,t,r);else{const i="function"===typeof t?Nb(e,t,r.custom):t;n=Promise.all(cS(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function wS(e){let t=xS(e),n=ES(),r=!0;const i=t=>(n,r)=>{var i;const s=Nb(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function s(s){const{props:a}=e,o=yS(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<bS;t++){const h=vS[t],f=n[h],p=void 0!==a[h]?a[h]:o[h],m=fS(p),g=h===s?f.isActive:null;!1===g&&(d=t);let y=p===o[h]&&p!==a[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||Sb(p)||"boolean"===typeof p)continue;const v=kS(f.prevProp,p);let b=v||h===s&&f.isActive&&!y&&m||t>d&&m,x=!1;const w=Array.isArray(p)?p:[p];let k=w.reduce(i(h),{});!1===g&&(k={});const{prevResolvedValues:S={}}=f,E={...S,...k},C=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in E){const t=k[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=wx(t)&&wx(n)?!hS(t,n):t!==n,r?void 0!==t&&null!==t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=k,f.isActive&&(u={...u,...k}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&l.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=Nb(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=ES(),r=!0}}}function kS(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!hS(t,e)}function SS(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ES(){return{animate:SS(!0),whileInView:SS(),whileHover:SS(),whileTap:SS(),whileDrag:SS(),whileFocus:SS(),exit:SS()}}class CS{constructor(e){this.isMounted=!1,this.node=e}update(){}}let NS=0;const TS={animation:{Feature:class extends CS{constructor(e){super(e),e.animationState||(e.animationState=wS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends CS{constructor(){super(...arguments),this.id=NS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function _S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function jS(e){return{point:{x:e.pageX,y:e.pageY}}}function IS(e,t,n,r){return _S(e,t,(e=>t=>ox(t)&&e(t,jS(t)))(n),r)}function PS(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function AS(e){return e.max-e.min}function RS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=fk(t.min,t.max,e.origin),e.scale=AS(n)/AS(t),e.translate=fk(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function OS(e,t,n,r){RS(e.x,t.x,n.x,r?r.originX:void 0),RS(e.y,t.y,n.y,r?r.originY:void 0)}function DS(e,t,n){e.min=n.min+t.min,e.max=e.min+AS(t)}function MS(e,t,n){e.min=t.min-n.min,e.max=e.min+AS(t)}function LS(e,t,n){MS(e.x,t.x,n.x),MS(e.y,t.y,n.y)}const FS=()=>({x:{min:0,max:0},y:{min:0,max:0}});function US(e){return[e("x"),e("y")]}function $S(e){return void 0===e||1===e}function VS(e){let{scale:t,scaleX:n,scaleY:r}=e;return!$S(t)||!$S(n)||!$S(r)}function zS(e){return VS(e)||BS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function BS(e){return qS(e.x)||qS(e.y)}function qS(e){return e&&"0%"!==e}function HS(e,t,n){return n+t*(e-n)}function WS(e,t,n,r,i){return void 0!==i&&(e=HS(e,i,r)),HS(e,n,r)+t}function KS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=WS(e.min,t,n,r,i),e.max=WS(e.max,t,n,r,i)}function GS(e,t){let{x:n,y:r}=t;KS(e.x,n.translate,n.scale,n.originPoint),KS(e.y,r.translate,r.scale,r.originPoint)}const QS=.999999999999,YS=1.0000000000001;function XS(e,t){e.min=e.min+t,e.max=e.max+t}function JS(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;KS(e,t,n,fk(e.min,e.max,i),r)}function ZS(e,t){JS(e.x,t.x,t.scaleX,t.scale,t.originX),JS(e.y,t.y,t.scaleY,t.scale,t.originY)}function eE(e,t){return PS(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const tE=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function nE(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const rE=(e,t)=>Math.abs(e-t);class iE{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=oE(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=rE(e.x,t.x),r=rE(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Qb;this.history.push({...r,timestamp:i});const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=sE(t,this.transformPagePoint),Kb.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=oE("pointercancel"===e.type?this.lastMoveEventInfo:sE(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!ox(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=sE(jS(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=Qb;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,oE(s,this.history)),this.removeListeners=wk(IS(this.contextWindow,"pointermove",this.handlePointerMove),IS(this.contextWindow,"pointerup",this.handlePointerUp),IS(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gb(this.updatePoint)}}function sE(e,t){return t?{point:t(e.point)}:e}function aE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oE(e,t){let{point:n}=e;return{point:n,delta:aE(n,cE(t)),offset:aE(n,lE(t)),velocity:uE(t,.1)}}function lE(e){return e[0]}function cE(e){return e[e.length-1]}function uE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=cE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>bb(t)));)n--;if(!r)return{x:0,y:0};const s=xb(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function dE(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function hE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const fE=.35;function pE(e,t,n){return{min:mE(e,t),max:mE(e,n)}}function mE(e,t){return"number"===typeof e?e:e[t]||0}const gE=new WeakMap;class yE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new iE(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(jS(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?nx[s]?null:(nx[s]=!0,()=>{nx[s]=!1}):nx.x||nx.y?null:(nx.x=nx.y=!0,()=>{nx.x=nx.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),US((e=>{let t=this.getAxisMotionValue(e).get()||0;if(nw.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=AS(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Kb.postRender((()=>i(e,t))),Cx(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>US((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:tE(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Kb.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!vE(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?fk(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?fk(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&nE(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:dE(e.x,r,s),y:dE(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fE;return!1===e?e=0:!0===e&&(e=fE),{x:pE(e,"left","right"),y:pE(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&US((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!nE(e))return!1;const n=e.current;fb(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=eE(e,n),{scroll:i}=t;return i&&(XS(r.x,i.offset.x),XS(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:hE(e.x,t.x),y:hE(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=PS(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=US((a=>{if(!vE(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Cx(this.visualElement,e),n.start(oS(e,n,0,t,this.visualElement,!1))}stopAnimation(){US((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){US((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){US((t=>{const{drag:n}=this.getProps();if(!vE(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-fk(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!nE(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};US((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=AS(e),i=AS(t);return i>r?n=yb(t.min,t.max-r,e.min):r>i&&(n=yb(e.min,e.max-i,t.min)),zx(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),US((t=>{if(!vE(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(fk(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;gE.set(this.visualElement,this);const e=IS(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();nE(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Kb.read(t);const i=_S(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(US((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=fE,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function vE(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const bE=e=>(t,n)=>{e&&Kb.postRender((()=>e(t,n)))};const xE=(0,H.createContext)(null);function wE(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,H.useContext)(xE);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=(0,H.useId)();(0,H.useEffect)((()=>{if(e)return i(s)}),[e]);const a=(0,H.useCallback)((()=>e&&r&&r(s)),[s,r,e]);return!n&&r?[!1,a]:[!0]}const kE=(0,H.createContext)({}),SE=(0,H.createContext)({}),EE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const NE={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!rw.test(e))return e;e=parseFloat(e)}return`${CE(e,t.target.x)}% ${CE(e,t.target.y)}%`}},TE={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=yw.parse(e);if(s.length>5)return i;const a=yw.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=fk(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}},_E={};class jE extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)_E[t]=e[t],Jw(t)&&(_E[t].isCSSVariable=!0)}(PE),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),EE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Kb.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xb.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IE(e){const[t,n]=wE(),r=(0,H.useContext)(kE);return(0,K.jsx)(jE,{...e,layoutGroup:r,switchLayoutGroup:(0,H.useContext)(SE),isPresent:t,safeToRemove:n})}const PE={borderRadius:{...NE,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:NE,borderTopRightRadius:NE,borderBottomLeftRadius:NE,borderBottomRightRadius:NE,boxShadow:TE};const AE=(e,t)=>e.depth-t.depth;class RE{constructor(){this.children=[],this.isDirty=!1}add(e){cb(this.children,e),this.isDirty=!0}remove(e){ub(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(AE),this.isDirty=!1,this.children.forEach(e)}}function OE(e,t){const n=tx.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(Gb(r),e(a-t))};return Kb.read(r,!0),()=>Gb(r)}function DE(e){const t=Ex(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const ME=["TopLeft","TopRight","BottomLeft","BottomRight"],LE=ME.length,FE=e=>"string"===typeof e?parseFloat(e):e,UE=e=>"number"===typeof e||rw.test(e);function $E(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const VE=BE(0,.5,Ux),zE=BE(.5,.95,db);function BE(e,t,n){return r=>r<e?0:r>t?1:n(yb(e,t,r))}function qE(e,t){e.min=t.min,e.max=t.max}function HE(e,t){qE(e.x,t.x),qE(e.y,t.y)}function WE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function KE(e,t,n,r,i){return e=HS(e-=t,1/n,r),void 0!==i&&(e=HS(e,1/i,r)),e}function GE(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;nw.test(t)&&(t=parseFloat(t),t=fk(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=fk(s.min,s.max,r);e===s&&(o-=t),e.min=KE(e.min,t,n,o,i),e.max=KE(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const QE=["x","scaleX","originX"],YE=["y","scaleY","originY"];function XE(e,t,n,r){GE(e.x,t,QE,n?n.x:void 0,r?r.x:void 0),GE(e.y,t,YE,n?n.y:void 0,r?r.y:void 0)}function JE(e){return 0===e.translate&&1===e.scale}function ZE(e){return JE(e.x)&&JE(e.y)}function eC(e,t){return e.min===t.min&&e.max===t.max}function tC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nC(e,t){return tC(e.x,t.x)&&tC(e.y,t.y)}function rC(e){return AS(e.x)/AS(e.y)}function iC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sC{constructor(){this.members=[]}add(e){cb(this.members,e),e.scheduleRender()}remove(e){if(ub(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const aC={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},oC=["","X","Y","Z"],lC={visibility:"hidden"};let cC=0;function uC(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function dC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=_x(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Kb,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&dC(r)}function hC(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=cC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hb.value&&(aC.nodes=aC.calculatedTargetDeltas=aC.calculatedProjections=0),this.nodes.forEach(mC),this.nodes.forEach(kC),this.nodes.forEach(SC),this.nodes.forEach(gC),Hb.addProjectionMetrics&&Hb.addProjectionMetrics(aC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new RE)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new vb),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=OE(r,250),EE.hasAnimatedSinceResize&&(EE.hasAnimatedSinceResize=!1,this.nodes.forEach(wC))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||jC,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!nC(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...Ib(s,"layout"),onPlay:o,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||wC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gb(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EC),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(vC);this.isUpdating||this.nodes.forEach(bC),this.isUpdating=!1,this.nodes.forEach(xC),this.nodes.forEach(fC),this.nodes.forEach(pC),this.clearAllSnapshots();const e=tx.now();Qb.delta=zx(0,1e3/60,e-Qb.timestamp),Qb.timestamp=e,Qb.isProcessing=!0,Yb.update.process(Qb),Yb.preRender.process(Qb),Yb.render.process(Qb),Qb.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yC),this.sharedNodes.forEach(CC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kb.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kb.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||AS(this.snapshot.measuredBox.x)||AS(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ZE(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||zS(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),AC((r=n).x),AC(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(OC))){const{scroll:e}=this.root;e&&(XS(n.x,e.offset.x),XS(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(HE(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&HE(n,e),XS(n.x,i.offset.x),XS(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};HE(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ZS(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),zS(e.latestValues)&&ZS(n,e.latestValues)}return zS(this.latestValues)&&ZS(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};HE(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!zS(e.latestValues))continue;VS(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};HE(r,e.measurePageBox()),XE(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return zS(this.latestValues)&&XE(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qb.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=Qb.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},LS(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),HE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,DS(a.x,o.x,l.x),DS(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):HE(this.target,this.layout.layoutBox),GS(this.target,this.targetDelta)):HE(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},LS(this.relativeTargetOrigin,this.target,e.target),HE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hb.value&&aC.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!VS(this.parent.latestValues)&&!BS(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Qb.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;HE(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ZS(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,GS(e,a)),r&&zS(s.latestValues)&&ZS(e,s.latestValues))}t.x<YS&&t.x>QS&&(t.x=1),t.y<YS&&t.y>QS&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(WE(this.prevProjectionDelta.x,this.projectionDelta.x),WE(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),OS(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&iC(this.projectionDelta.x,this.prevProjectionDelta.x)&&iC(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Hb.value&&aC.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(_C));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;NC(s.x,e.x,n),NC(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(LS(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){TC(e.x,t.x,n.x,r),TC(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return eC(e.x,t.x)&&eC(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),HE(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=fk(0,void 0!==n.opacity?n.opacity:1,VE(r)),e.opacityExit=fk(void 0!==t.opacity?t.opacity:1,0,zE(r))):s&&(e.opacity=fk(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<LE;a++){const i=`border${ME[a]}Radius`;let s=$E(t,i),o=$E(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||UE(s)===UE(o)?(e[i]=Math.max(fk(FE(s),FE(o),r),0),(nw.test(o)||nw.test(s))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=fk(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gb(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kb.update((()=>{EE.hasAnimatedSinceResize=!0,px.layout++,this.currentAnimation=function(e,t,n){const r=Ex(e)?e:yx(e);return r.start(oS("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{px.layout--},onComplete:()=>{px.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&RC(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=AS(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=AS(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}HE(t,n),ZS(t,i),OS(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new sC);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&uC("z",e,r,this.animationValues);for(let i=0;i<oC.length;i++)uC(`rotate${oC[i]}`,e,r,this.animationValues),uC(`skew${oC[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lC;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=DE(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=DE(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!zS(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),s&&(r+=`rotateY(${s}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in _E){if(void 0===a[c])continue;const{correct:e,applyTo:t,isCSSVariable:n}=_E[c],i="none"===r.transform?a[c]:e(a[c],s);if(t){const e=t.length;for(let n=0;n<e;n++)r[t[n]]=i}else n?this.options.visualElement.renderState.vars[c]=i:r[c]=i}return this.options.layoutId&&(r.pointerEvents=s===this?DE(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(vC),this.root.sharedNodes.clear()}}}function fC(e){e.updateLayout()}function pC(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?US((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=AS(r);r.min=t[e].min,r.max=r.min+i})):RC(i,n.layoutBox,t)&&US((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=AS(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};OS(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?OS(o,e.applyTransform(r,!0),n.measuredBox):OS(o,t,n.layoutBox);const l=!ZE(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};LS(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};LS(o,t,s.layoutBox),nC(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function mC(e){Hb.value&&aC.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yC(e){e.clearSnapshot()}function vC(e){e.clearMeasurements()}function bC(e){e.isLayoutDirty=!1}function xC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kC(e){e.resolveTargetDelta()}function SC(e){e.calcProjection()}function EC(e){e.resetSkewAndRotation()}function CC(e){e.removeLeadSnapshot()}function NC(e,t,n){e.translate=fk(t.translate,0,n),e.scale=fk(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function TC(e,t,n,r){e.min=fk(t.min,n.min,r),e.max=fk(t.max,n.max,r)}function _C(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const jC={duration:.45,ease:[.4,0,.1,1]},IC=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),PC=IC("applewebkit/")&&!IC("chrome/")?Math.round:db;function AC(e){e.min=PC(e.min),e.max=PC(e.max)}function RC(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=rC(t),i=rC(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function OC(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const DC=hC({attachResizeListener:(e,t)=>_S(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),MC={current:void 0},LC=hC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!MC.current){const e=new DC({});e.mount(window),e.setOptions({layoutScroll:!0}),MC.current=e}return MC.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),FC={pan:{Feature:class extends CS{constructor(){super(...arguments),this.removePointerDownListener=db}onPointerDown(e){this.session=new iE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:bE(e),onStart:bE(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Kb.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=IS(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends CS{constructor(e){super(e),this.removeGroupControls=db,this.removeListeners=db,this.controls=new yE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||db}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:LC,MeasureLayout:IE}};function UC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Kb.postRender((()=>i(t,jS(t))))}function $C(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Kb.postRender((()=>i(t,jS(t))))}const VC=new WeakMap,zC=new WeakMap,BC=e=>{const t=VC.get(e.target);t&&t(e)},qC=e=>{e.forEach(BC)};function HC(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;zC.has(r)||zC.set(r,{});const i=zC.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(qC,{root:t,...n})),i[s]}(t);return VC.set(e,n),r.observe(e),()=>{VC.delete(e),r.unobserve(e)}}const WC={some:0,all:1};const KC={inView:{Feature:class extends CS{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:WC[r]};return HC(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends CS{mount(){const{current:e}=this.node;e&&(this.unmount=fx(e,((e,t)=>($C(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return $C(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends CS{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(NL){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wk(_S(this.node.current,"focus",(()=>this.onFocus())),_S(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends CS{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=ix(e,n),a=e=>{if(!sx(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const s=e=>{sx(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach((e=>{e.addEventListener("pointerenter",a,i)})),s}(e,((e,t)=>(UC(this.node,t,"Start"),e=>UC(this.node,e,"End")))))}unmount(){}}}},GC={layout:{ProjectionNode:LC,MeasureLayout:IE}},QC=(0,H.createContext)({strict:!1}),YC=(0,H.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),XC=(0,H.createContext)({});function JC(e){return Sb(e.animate)||mS.some((t=>fS(e[t])))}function ZC(e){return Boolean(JC(e)||e.variants)}function eN(e){const{initial:t,animate:n}=function(e,t){if(JC(e)){const{initial:t,animate:n}=e;return{initial:!1===t||fS(t)?t:void 0,animate:fS(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,H.useContext)(XC));return(0,H.useMemo)((()=>({initial:t,animate:n})),[tN(t),tN(n)])}function tN(e){return Array.isArray(e)?e.join(" "):e}const nN="undefined"!==typeof window,rN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},iN={};for(const _L in rN)iN[_L]={isEnabled:e=>rN[_L].some((t=>!!e[t]))};const sN=Symbol.for("motionComponentSymbol");function aN(e,t,n){return(0,H.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):nE(n)&&(n.current=r))}),[t])}const oN=nN?H.useLayoutEffect:H.useEffect;function lN(e,t,n,r,i){var s,a;const{visualElement:o}=(0,H.useContext)(XC),l=(0,H.useContext)(QC),c=(0,H.useContext)(xE),u=(0,H.useContext)(YC).reducedMotion,d=(0,H.useRef)(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:u}));const h=d.current,f=(0,H.useContext)(SE);!h||h.projection||!i||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:cN(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(a)||o&&nE(o),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,n,i,f);const p=(0,H.useRef)(!1);(0,H.useInsertionEffect)((()=>{h&&p.current&&h.update(n,c)}));const m=n[Tx],g=(0,H.useRef)(Boolean(m)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,m))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,m)));return oN((()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Xb.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())})),(0,H.useEffect)((()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)})),g.current=!1))})),h}function cN(e){if(e)return!1!==e.options.allowProjection?e.projection:cN(e.parent)}function uN(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:s}=e;var a,o;function l(e,t){let a;const o={...(0,H.useContext)(YC),...e,layoutId:dN(e)},{isStatic:l}=o,c=eN(e),u=i(e,l);if(!l&&nN){!function(){(0,H.useContext)(QC).strict;0}();const e=function(e){const{drag:t,layout:n}=iN;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);a=e.MeasureLayout,c.visualElement=lN(s,u,o,n,e.ProjectionNode)}return(0,K.jsxs)(XC.Provider,{value:c,children:[a&&c.visualElement?(0,K.jsx)(a,{visualElement:c.visualElement,...o}):null,r(s,e,aN(u,c.visualElement,t),u,l,c.visualElement)]})}t&&function(e){for(const t in e)iN[t]={...iN[t],...e[t]}}(t),l.displayName=`motion.${"string"===typeof s?s:`create(${null!==(o=null!==(a=s.displayName)&&void 0!==a?a:s.name)&&void 0!==o?o:""})`}`;const c=(0,H.forwardRef)(l);return c[sN]=s,c}function dN(e){let{layoutId:t}=e;const n=(0,H.useContext)(kE).id;return n&&void 0!==t?n+"-"+t:t}function hN(e,t){let{layout:n,layoutId:r}=t;return bx.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!_E[e]||"opacity"===e)}const fN=(e,t)=>t&&"number"===typeof e?t.transform(e):e,pN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mN=vx.length;function gN(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(bx.has(l))a=!0;else if(Jw(l))i[l]=e;else{const t=fN(e,Cw[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<mN;s++){const a=vx[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=fN(o,Cw[a]);l||(i=!1,r+=`${pN[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}const yN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vN(e,t,n){for(const r in t)Ex(t[r])||hN(r,n)||(e[r]=t[r])}function bN(e,t){const n={};return vN(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,H.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return gN(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function xN(e,t){const n={},r=bN(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const wN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kN(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wN.has(e)}let SN=e=>!kN(e);try{(EN=require("@emotion/is-prop-valid").default)&&(SN=e=>e.startsWith("on")?!kN(e):EN(e))}catch(TL){}var EN;const CN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NN(e){return"string"===typeof e&&!e.includes("-")&&!!(CN.indexOf(e)>-1||/[A-Z]/u.test(e))}const TN={offset:"stroke-dashoffset",array:"stroke-dasharray"},_N={offset:"strokeDashoffset",array:"strokeDasharray"};function jN(e,t,n){return"string"===typeof e?e:rw.transform(t+n*e)}function IN(e,t,n,r){let{attrX:i,attrY:s,attrScale:a,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...h}=t;if(gN(e,h,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==o||void 0!==l||p.transform)&&(p.transformOrigin=function(e,t,n){return`${jN(t,e.x,e.width)} ${jN(n,e.y,e.height)}`}(m,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==i&&(f.x=i),void 0!==s&&(f.y=s),void 0!==a&&(f.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?TN:_N;e[s.offset]=rw.transform(-r);const a=rw.transform(t),o=rw.transform(n);e[s.array]=`${a} ${o}`}(f,c,u,d,!1)}const PN=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),AN=e=>"string"===typeof e&&"svg"===e.toLowerCase();function RN(e,t,n,r){const i=(0,H.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return IN(n,t,AN(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};vN(t,e.style,e),i.style={...t,...i.style}}return i}function ON(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,i,s)=>{let{latestValues:a}=i;const o=(NN(t)?RN:xN)(n,a,s,t),l=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(SN(i)||!0===n&&kN(i)||!t&&!kN(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),c=t!==H.Fragment?{...l,...o,ref:r}:{},{children:u}=n,d=(0,H.useMemo)((()=>Ex(u)?u.get():u),[u]);return(0,H.createElement)(t,{...c,children:d})}}function DN(e){const t=(0,H.useRef)(null);return null===t.current&&(t.current=e()),t.current}const MN=e=>(t,n)=>{const r=(0,H.useContext)(XC),i=(0,H.useContext)(xE),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onUpdate:a}=e;const o={latestValues:LN(t,n,r,i),renderState:s()};return a&&(o.onMount=e=>a({props:t,current:e,...o}),o.onUpdate=e=>a(e)),o}(e,t,r,i);return n?s():DN(s)};function LN(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=DE(s[h]);let{initial:a,animate:o}=e;const l=JC(e),c=ZC(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!Sb(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=Cb(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}function FN(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(Ex(i[a])||t.style&&Ex(t.style[a])||hN(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(s[a]=i[a]);return s}const UN={useVisualState:MN({scrapeMotionValuesFromProps:FN,createRenderState:yN})};function $N(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(NL){t.dimensions={x:0,y:0,width:0,height:0}}}function VN(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const zN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BN(e,t,n,r){VN(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(zN.has(i)?i:Nx(i),t.attrs[i])}function qN(e,t,n){const r=FN(e,t,n);for(const i in e)if(Ex(e[i])||Ex(t[i])){r[-1!==vx.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const HN=["x","y","width","height","cx","cy","r"],WN={useVisualState:MN({scrapeMotionValuesFromProps:qN,createRenderState:PN,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:s}=e;if(!r)return;let a=!!t.drag;if(!a)for(const l in s)if(bx.has(l)){a=!0;break}if(!a)return;let o=!n;if(n)for(let l=0;l<HN.length;l++){const e=HN[l];t[e]!==n[e]&&(o=!0)}o&&Kb.read((()=>{$N(r,i),Kb.render((()=>{IN(i,s,AN(r.tagName),t.transformTemplate),BN(r,i)}))}))}})};function KN(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return uN({...NN(n)?WN:UN,preloadedFeatures:e,useRender:ON(r),createVisualElement:t,Component:n})}}const GN={current:null},QN={current:!1};const YN=[...sk,lw,yw],XN=new WeakMap;const JN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZN{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=tx.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Kb.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=JC(n),this.isVariantNode=ZC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const e=h[f];void 0!==l[f]&&Ex(e)&&e.set(l[f],!1)}}mount(e){this.current=e,XN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),QN.current||function(){if(QN.current=!0,nN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>GN.current=e.matches;e.addListener(t),t()}else GN.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||GN.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gb(this.notifyUpdate),Gb(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=bx.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Kb.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in iN){const t=iN[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<JN.length;n++){const t=JN[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Ex(i))e.addValue(r,i);else if(Ex(s))e.addValue(r,yx(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,yx(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=yx(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(Yw(r)||Vx(r))?r=parseFloat(r):!(e=>YN.find(ik(e)))(r)&&yw.test(t)&&(r=_w(e,t)),this.setBaseTarget(e,Ex(r)?r.get():r)),Ex(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=Cb(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Ex(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new vb),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class eT extends ZN{constructor(){super(...arguments),this.KeyframeResolver=ok}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ex(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class tT extends eT{constructor(){super(...arguments),this.type="html",this.renderInstance=VN}readValueFromInstance(e,t){if(bx.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Fw(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),i=(Jw(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return eE(e,n)}build(e,t,n){gN(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return FN(e,t,n)}}class nT extends eT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=FS,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&$N(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(bx.has(t)){const e=Tw(t);return e&&e.default||0}return t=zN.has(t)?t:Nx(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return qN(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&Kb.postRender(this.updateDimensions)}build(e,t,n){IN(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){BN(e,t,0,r)}mount(e){this.isSVGTag=AN(e.tagName),super.mount(e)}}const rT=(e,t)=>NN(e)?new nT(t):new tT(t,{allowProjection:e!==H.Fragment}),iT=kb(KN({...TS,...KC,...FC,...GC},rT)),sT=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},aT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var oT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lT=(0,H.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l,...c}=e;return(0,H.createElement)("svg",{ref:t,...oT,width:r,height:r,stroke:n,strokeWidth:s?24*Number(i)/Number(r):i,className:aT("lucide",a),...c},[...l.map((e=>{let[t,n]=e;return(0,H.createElement)(t,n)})),...Array.isArray(o)?o:[o]])})),cT=(e,t)=>{const n=(0,H.forwardRef)(((n,r)=>{let{className:i,...s}=n;return(0,H.createElement)(lT,{ref:r,iconNode:t,className:aT(`lucide-${a=sT(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...s});var a}));return n.displayName=sT(e),n},uT=cT("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),dT=cT("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),hT=cT("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),fT=cT("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),pT="49617102-296d5be52e6acd64e825328c9",mT=new Map,gT=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=`${e}-${t.orientation||"horizontal"}`;if(mT.has(n))return mT.get(n);try{0;const r=new URLSearchParams({key:pT,q:`computer ${e}`,orientation:t.orientation||"horizontal",image_type:"photo",safesearch:!0,per_page:3,category:"computer"}),i=await fetch(`https://pixabay.com/api/?${r.toString()}`);if(!i.ok)throw new Error(`Failed to fetch image from Pixabay: ${i.statusText}`);const s=(await i.json()).hits;if(!s||0===s.length)throw new Error("No image found for the query");const a=s[Math.floor(Math.random()*Math.min(s.length,3))].largeImageURL;return mT.set(n,a),a}catch(r){console.error("Error fetching Pixabay image:",r);const t=`https://via.placeholder.com/400x300/1a1a1a/ffffff?text=${encodeURIComponent(e)}`;return mT.set(n,t),t}};var yT="dot_fb1bed";const vT=e=>{let{size:t=78,color:n="black",speed:r=1.4}=e;return(0,K.jsx)("div",{className:"container_e31963",style:{"--uib-size":t+"px","--uib-color":n,"--uib-speed":r+"s"},children:(0,K.jsxs)("div",{className:"inner_5211a3",children:[(0,K.jsx)("div",{className:yT}),(0,K.jsx)("div",{className:yT}),(0,K.jsx)("div",{className:yT}),(0,K.jsx)("div",{className:yT})]})})};function bT(){const[e,t]=(0,H.useState)(""),[n,r]=(0,H.useState)(""),[i,s]=(0,H.useState)(""),[a,o]=(0,H.useState)(!1),[l,c]=(0,H.useState)(!1),[u,d]=(0,H.useState)(""),[h,f]=(0,H.useState)({}),[p,m]=(0,H.useState)(!0),{login:g,enableGuestMode:y}=ob(),v=Ke(),b=qe();(0,H.useEffect)((()=>{(async()=>{try{m(!0);const e=await gT("technology background",{orientation:"landscape"});d(e);const t=new Image;t.src=e,t.onload=()=>{m(!1)},t.onerror=()=>{setTimeout((()=>m(!1)),500)}}catch(i){console.error("Error loading background image:",i),setTimeout((()=>m(!1)),500)}})()}),[]);return p?(0,K.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-black",children:(0,K.jsxs)("div",{className:"text-center",children:[(0,K.jsx)(vT,{size:"80",speed:"1.4",color:"white"}),(0,K.jsx)("p",{className:"mt-4 text-white font-inter",children:"Loading..."})]})}):(0,K.jsxs)("div",{className:"min-h-screen bg-black text-white flex",children:[(0,K.jsxs)("div",{className:"hidden md:block md:w-1/2 relative",children:[(0,K.jsx)("img",{src:u||"/placeholder.svg",alt:"Fashion",className:"absolute inset-0 w-full h-full object-cover"}),(0,K.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,K.jsxs)("div",{className:"text-center p-8",children:[(0,K.jsxs)("h1",{className:"text-5xl font-bold mb-4 font-poppins",children:[(0,K.jsx)("span",{className:"text-gray-400",children:"SHOP"}),(0,K.jsx)("span",{className:"text-white",children:"EASE"})]}),(0,K.jsx)("p",{className:"text-xl text-gray-300 max-w-md mx-auto font-inter",children:"Your premium shopping destination with uncompromising quality."})]})})]}),(0,K.jsxs)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 h-full w-[4px] hidden md:block overflow-hidden",children:[(0,K.jsx)(iT.div,{initial:{y:"-100%"},animate:{y:"100%"},transition:{repeat:1/0,duration:3,ease:"linear"},className:"absolute top-0 w-full h-full bg-gradient-to-b from-transparent via-white to-transparent"}),(0,K.jsx)("div",{className:"absolute inset-0 bg-gray-800 opacity-20"})]}),(0,K.jsx)("div",{className:"w-full md:w-1/2 p-8 flex items-center justify-center",children:(0,K.jsxs)("div",{className:"max-w-md w-full",children:[(0,K.jsxs)(Yt,{to:"/",className:"flex items-center text-gray-400 hover:text-white transition-colors mb-8 font-inter",children:[(0,K.jsx)(uT,{className:"h-5 w-5 mr-1"}),"Back to Home"]}),(0,K.jsxs)(iT.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"bg-gray-900 p-8 rounded-[12px] border border-gray-800",children:[(0,K.jsxs)("div",{className:"text-center mb-8",children:[(0,K.jsx)("h2",{className:"text-3xl font-bold font-poppins",children:"SIGN IN"}),(0,K.jsx)("p",{className:"mt-2 text-gray-400 font-inter",children:"Welcome back to ShopEase"})]}),i&&(0,K.jsx)("div",{className:"bg-black border border-red-500 text-red-400 px-4 py-3 rounded-[12px] mb-6 font-inter",children:i}),(0,K.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(t.email="Please enter a valid email address"):t.email="Email is required",n?n.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",f(t),0===Object.keys(t).length})())try{s(""),o(!0),await g(e,n),await new Promise((e=>setTimeout(e,500)));const t=new URLSearchParams(b.search).get("redirect")||"/";v(t)}catch(i){s("Failed to sign in. Please check your credentials.")}finally{o(!1)}},className:"space-y-6",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2 font-inter",children:"Email Address"}),(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,K.jsx)(dT,{className:"h-5 w-5 text-gray-500"})}),(0,K.jsx)("input",{id:"email",type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:`w-full pl-10 px-4 py-3 bg-black border ${h.email?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white font-inter`,placeholder:"Enter your email"})]}),h.email&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500 font-inter",children:h.email})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2 font-inter",children:"Password"}),(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,K.jsx)(hT,{className:"h-5 w-5 text-gray-500"})}),(0,K.jsx)("input",{id:"password",type:"password",required:!0,value:n,onChange:e=>r(e.target.value),className:`w-full pl-10 px-4 py-3 bg-black border ${h.password?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white font-inter`,placeholder:"Enter your password"})]}),h.password&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500 font-inter",children:h.password})]}),(0,K.jsx)("div",{children:(0,K.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-white text-black px-4 py-3 rounded-[12px] hover:bg-gray-200 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed font-inter",children:a?(0,K.jsx)("span",{className:"flex items-center justify-center",children:(0,K.jsx)(vT,{size:"30",speed:"1.4",color:"black"})}):"SIGN IN"})})]}),(0,K.jsxs)("div",{className:"mt-6 text-center relative",children:[(0,K.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,K.jsx)("div",{className:"w-full border-t border-gray-800"})}),(0,K.jsx)("div",{className:"relative flex justify-center",children:(0,K.jsx)("span",{className:"px-4 bg-gray-900 text-gray-400 text-sm",children:"OR"})})]}),(0,K.jsx)("div",{className:"mt-6",children:(0,K.jsx)("button",{onClick:async()=>{try{s(""),c(!0);if(await y()){await new Promise((e=>setTimeout(e,500)));const e=new URLSearchParams(b.search).get("redirect")||"/";v(e)}else{const e=new URLSearchParams(b.search).get("redirect")||"/";v(e)}}catch(i){console.error("Guest mode error:",i),s("Failed to enable guest mode. Please try again.")}finally{c(!1)}},disabled:l,className:"w-full bg-transparent border border-gray-600 text-gray-300 px-4 py-3 rounded-[12px] hover:bg-gray-800 hover:border-gray-500 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed font-inter flex items-center justify-center gap-2",children:l?(0,K.jsx)("span",{className:"flex items-center justify-center",children:(0,K.jsx)(vT,{size:"30",speed:"1.4",color:"white"})}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(fT,{className:"h-5 w-5"}),"CONTINUE AS GUEST"]})})}),(0,K.jsx)("div",{className:"mt-6 text-center",children:(0,K.jsxs)("p",{className:"text-gray-400 font-inter",children:["Don't have an account?"," ",(0,K.jsx)(Yt,{to:`/register${b.search}`,className:"text-white hover:text-gray-300 font-medium",children:"Sign up"})]})})]})]})})]})}function xT(){const[e,t]=(0,H.useState)(""),[n,r]=(0,H.useState)(""),[i,s]=(0,H.useState)(""),[a,o]=(0,H.useState)(""),[l,c]=(0,H.useState)(""),[u,d]=(0,H.useState)(!1),[h,f]=(0,H.useState)(!1),[p,m]=(0,H.useState)(""),[g,y]=(0,H.useState)({}),[v,b]=(0,H.useState)(!0),{register:x,enableGuestMode:w}=ob(),k=Ke(),S=qe();(0,H.useEffect)((()=>{(async()=>{try{b(!0);const e=await gT("technology background",{orientation:"landscape"});m(e);const t=new Image;t.src=e,t.onload=()=>{b(!1)},t.onerror=()=>{setTimeout((()=>b(!1)),500)}}catch(l){console.error("Error loading background image:",l),setTimeout((()=>b(!1)),500)}})()}),[]);return v?(0,K.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-black",children:(0,K.jsxs)("div",{className:"text-center",children:[(0,K.jsx)(vT,{size:"80",speed:"1.4",color:"white"}),(0,K.jsx)("p",{className:"mt-4 text-white font-inter",children:"Loading..."})]})}):(0,K.jsxs)("div",{className:"min-h-screen bg-black text-white flex",children:[(0,K.jsxs)("div",{className:"hidden md:block md:w-1/2 relative",children:[(0,K.jsx)("img",{src:p||"/placeholder.svg",alt:"Fashion",className:"absolute inset-0 w-full h-full object-cover"}),(0,K.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,K.jsxs)("div",{className:"text-center p-8",children:[(0,K.jsxs)("h1",{className:"text-5xl font-bold mb-4 font-poppins",children:[(0,K.jsx)("span",{className:"text-gray-400",children:"SHOP"}),(0,K.jsx)("span",{className:"text-white",children:"EASE"})]}),(0,K.jsx)("p",{className:"text-xl text-gray-300 max-w-md mx-auto font-inter",children:"Join our community of premium shoppers today."})]})})]}),(0,K.jsxs)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 h-full w-[4px] hidden md:block overflow-hidden",children:[(0,K.jsx)(iT.div,{initial:{y:"-100%"},animate:{y:"100%"},transition:{repeat:1/0,duration:3,ease:"linear"},className:"absolute top-0 w-full h-full bg-gradient-to-b from-transparent via-white to-transparent"}),(0,K.jsx)("div",{className:"absolute inset-0 bg-gray-800 opacity-20"})]}),(0,K.jsx)("div",{className:"w-full md:w-1/2 p-8 flex items-center justify-center",children:(0,K.jsxs)("div",{className:"max-w-md w-full",children:[(0,K.jsxs)(Yt,{to:"/",className:"flex items-center text-gray-400 hover:text-white transition-colors mb-8 font-inter",children:[(0,K.jsx)(uT,{className:"h-5 w-5 mr-1"}),"Back to Home"]}),(0,K.jsxs)(iT.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"bg-gray-900 p-8 rounded-[12px] border border-gray-800",children:[(0,K.jsxs)("div",{className:"text-center mb-8",children:[(0,K.jsx)("h2",{className:"text-3xl font-bold font-poppins",children:"CREATE ACCOUNT"}),(0,K.jsx)("p",{className:"mt-2 text-gray-400 font-inter",children:"Join ShopEase today"})]}),l&&(0,K.jsx)("div",{className:"bg-black border border-red-500 text-red-400 px-4 py-3 rounded-[12px] mb-6 font-inter",children:l}),(0,K.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),c(""),(()=>{const t={};return e?/^[a-zA-Z\s]{2,50}$/.test(e)||(t.name="Name should only contain letters and spaces (2-50 characters)"):t.name="Name is required",n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(t.email="Please enter a valid email address"):t.email="Email is required",i?i.length<6?t.password="Password must be at least 6 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(i)||(t.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):t.password="Password is required",a?i!==a&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Please confirm your password",y(t),0===Object.keys(t).length})()){d(!0);try{await x(n,i,e),await new Promise((e=>setTimeout(e,500)));const t=new URLSearchParams(S.search).get("redirect")||"/";k(t)}catch(l){c("auth/email-already-in-use"===l.code?"Email already in use":l.message)}finally{d(!1)}}},className:"space-y-6",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2 font-inter",children:"Full Name"}),(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,K.jsx)(fT,{className:"h-5 w-5 text-gray-500"})}),(0,K.jsx)("input",{id:"name",type:"text",required:!0,value:e,onChange:e=>t(e.target.value),className:`w-full pl-10 px-4 py-3 bg-black border ${g.name?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white font-inter`,placeholder:"Enter your full name"})]}),g.name&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500 font-inter",children:g.name})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-300 mb-2 font-inter",children:"Email Address"}),(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,K.jsx)(dT,{className:"h-5 w-5 text-gray-500"})}),(0,K.jsx)("input",{id:"email-address",type:"email",required:!0,value:n,onChange:e=>r(e.target.value),className:`w-full pl-10 px-4 py-3 bg-black border ${g.email?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white font-inter`,placeholder:"Enter your email"})]}),g.email&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500 font-inter",children:g.email})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2 font-inter",children:"Password"}),(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,K.jsx)(hT,{className:"h-5 w-5 text-gray-500"})}),(0,K.jsx)("input",{id:"password",type:"password",required:!0,value:i,onChange:e=>s(e.target.value),className:`w-full pl-10 px-4 py-3 bg-black border ${g.password?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white font-inter`,placeholder:"Create a password"})]}),g.password&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500 font-inter",children:g.password})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-300 mb-2 font-inter",children:"Confirm Password"}),(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,K.jsx)(hT,{className:"h-5 w-5 text-gray-500"})}),(0,K.jsx)("input",{id:"confirm-password",type:"password",required:!0,value:a,onChange:e=>o(e.target.value),className:`w-full pl-10 px-4 py-3 bg-black border ${g.confirmPassword?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white font-inter`,placeholder:"Confirm your password"})]}),g.confirmPassword&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500 font-inter",children:g.confirmPassword})]}),(0,K.jsx)("div",{children:(0,K.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-white text-black px-4 py-3 rounded-[12px] hover:bg-gray-200 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed font-inter",children:u?(0,K.jsx)("span",{className:"flex items-center justify-center",children:(0,K.jsx)(vT,{size:"30",speed:"1.4",color:"black"})}):"CREATE ACCOUNT"})})]}),(0,K.jsxs)("div",{className:"mt-6 text-center relative",children:[(0,K.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,K.jsx)("div",{className:"w-full border-t border-gray-800"})}),(0,K.jsx)("div",{className:"relative flex justify-center",children:(0,K.jsx)("span",{className:"px-4 bg-gray-900 text-gray-400 text-sm",children:"OR"})})]}),(0,K.jsx)("div",{className:"mt-6",children:(0,K.jsx)("button",{onClick:async()=>{try{c(""),f(!0);if(await w()){await new Promise((e=>setTimeout(e,500)));const e=new URLSearchParams(S.search).get("redirect")||"/";k(e)}else{const e=new URLSearchParams(S.search).get("redirect")||"/";k(e)}}catch(l){console.error("Guest mode error:",l),c("Failed to enable guest mode. Please try again.")}finally{f(!1)}},disabled:h,className:"w-full bg-transparent border border-gray-600 text-gray-300 px-4 py-3 rounded-[12px] hover:bg-gray-800 hover:border-gray-500 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed font-inter flex items-center justify-center gap-2",children:h?(0,K.jsx)("span",{className:"flex items-center justify-center",children:(0,K.jsx)(vT,{size:"30",speed:"1.4",color:"white"})}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(fT,{className:"h-5 w-5"}),"CONTINUE AS GUEST"]})})}),(0,K.jsx)("div",{className:"mt-6 text-center",children:(0,K.jsxs)("p",{className:"text-gray-400 font-inter",children:["Already have an account?"," ",(0,K.jsx)(Yt,{to:`/login${S.search}`,className:"text-white hover:text-gray-300 font-medium",children:"Sign in"})]})})]})]})})]})}const wT=(0,H.createContext)();function kT(){return(0,H.useContext)(wT)}function ST(e){let{children:t}=e;const[n,r]=(0,H.useState)("dark");(0,H.useEffect)((()=>{const e=localStorage.getItem("theme");e?r(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&r("light"),document.documentElement.classList.toggle("dark","dark"===n)}),[n]);const i={theme:n,toggleTheme:()=>{const e="dark"===n?"light":"dark";r(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark","dark"===e)}};return(0,K.jsx)(wT.Provider,{value:i,children:t})}const ET=cT("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),CT=cT("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);function NT(){const{theme:e,toggleTheme:t}=kT();return(0,K.jsx)("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none","aria-label":`Switch to ${"dark"===e?"light":"dark"} mode`,title:`Switch to ${"dark"===e?"light":"dark"} mode`,children:"dark"===e?(0,K.jsx)(ET,{size:20,className:"text-white"}):(0,K.jsx)(CT,{size:20,className:"text-gray-800"})})}function TT(){var e;const t=qe(),n=Ke(),{logout:r,currentUser:i}=ob(),{theme:s}=kT(),a=e=>t.pathname===e||t.pathname.startsWith(`${e}/`);return(0,K.jsxs)("div",{className:`flex h-screen ${"dark"===s?"bg-gray-900":"bg-gray-50"} theme-transition`,children:[(0,K.jsxs)("div",{className:`w-64 ${"dark"===s?"bg-gray-800":"bg-white"} shadow-md theme-transition`,children:[(0,K.jsxs)("div",{className:"flex h-16 items-center justify-between px-6 border-b "+("dark"===s?"border-gray-700":"border-gray-200"),children:[(0,K.jsx)(Yt,{to:"/admin",className:"text-xl font-bold "+("dark"===s?"text-blue-400":"text-blue-600"),children:"ShopEase Admin"}),(0,K.jsx)(NT,{})]}),(0,K.jsxs)("nav",{className:"mt-6",children:[(0,K.jsx)("div",{className:`px-4 py-2 text-xs font-semibold ${"dark"===s?"text-gray-400":"text-gray-500"} uppercase`,children:"Dashboard"}),(0,K.jsxs)(Yt,{to:"/admin",className:"flex items-center px-4 py-3 "+(!a("/admin")||a("/admin/products")||a("/admin/categories")||a("/admin/orders")?"dark"===s?"text-gray-300 hover:bg-gray-700 hover:rounded-lg ml-2 mr-2":"text-gray-600 hover:bg-gray-50 hover:rounded-lg ml-2 mr-2":"dark"===s?"bg-gray-700 text-blue-400 rounded-lg ml-2 mr-2":"bg-blue-50 text-blue-600 rounded-lg ml-2 mr-2"),children:[(0,K.jsx)("svg",{className:"h-5 w-5 mr-3 "+("dark"===s?"text-current":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h8m-8 6h16"})}),"Overview"]}),(0,K.jsx)("div",{className:"mt-4 px-4 py-2 text-xs font-semibold text-gray-400 uppercase",children:"Products"}),(0,K.jsxs)(Yt,{to:"/admin/products",className:"flex items-center px-4 py-3 "+(a("/admin/products")?"bg-blue-50 text-blue-600 rounded-[12px] ml-2 mr-2":"text-gray-600 hover:bg-gray-50 hover:rounded-[12px] ml-2 mr-2"),children:[(0,K.jsx)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10"})}),"Products"]}),(0,K.jsxs)(Yt,{to:"/admin/products/add",className:"flex items-center px-4 py-3 "+("/admin/products/add"===t.pathname?"bg-blue-50 text-blue-600 rounded-[12px] ml-2 mr-2":"text-gray-600 hover:bg-gray-50 hover:rounded-[12px] ml-2 mr-2"),children:[(0,K.jsx)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Product"]}),(0,K.jsx)("div",{className:"mt-4 px-4 py-2 text-xs font-semibold text-gray-400 uppercase",children:"Categories"}),(0,K.jsxs)(Yt,{to:"/admin/categories",className:"flex items-center px-4 py-3 "+(a("/admin/categories")?"bg-blue-50 text-blue-600 rounded-[12px] ml-2 mr-2":"text-gray-600 hover:bg-gray-50 hover:rounded-[12px] ml-2 mr-2"),children:[(0,K.jsx)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Categories"]}),(0,K.jsxs)(Yt,{to:"/admin/categories/add",className:"flex items-center px-4 py-3 "+("/admin/categories/add"===t.pathname?"bg-blue-50 text-blue-600 rounded-[12px] ml-2 mr-2":"text-gray-600 hover:bg-gray-50 hover:rounded-[12px] ml-2 mr-2"),children:[(0,K.jsx)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Category"]}),(0,K.jsx)("div",{className:"mt-4 px-4 py-2 text-xs font-semibold text-gray-400 uppercase",children:"Orders"}),(0,K.jsxs)(Yt,{to:"/admin/orders",className:"flex items-center px-4 py-3 "+(a("/admin/orders")?"bg-blue-50 text-blue-600 rounded-[12px] ml-2 mr-2":"text-gray-600 hover:bg-gray-50 hover:rounded-[12px] ml-2 mr-2"),children:[(0,K.jsx)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Manage Orders"]}),(0,K.jsx)("div",{className:"mt-4 px-4 py-2 text-xs font-semibold text-gray-400 uppercase",children:"User Interface"}),(0,K.jsxs)(Yt,{to:"/",className:"flex items-center px-4 py-3 text-gray-600 hover:bg-gray-50 hover:rounded-[12px] ml-2 mr-2",children:[(0,K.jsx)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Back to Shop"]})]}),(0,K.jsx)("div",{className:`absolute bottom-0 w-64 border-t ${"dark"===s?"border-gray-700":"border-gray-200"} p-4`,children:(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("div",{className:"flex-shrink-0",children:(0,K.jsx)("div",{className:`h-10 w-10 rounded-full ${"dark"===s?"bg-gray-600":"bg-gray-200"} flex items-center justify-center ${"dark"===s?"text-gray-300":"text-gray-700"} font-bold`,children:(null===i||void 0===i||null===(e=i.displayName)||void 0===e?void 0:e.charAt(0))||"A"})}),(0,K.jsxs)("div",{className:"ml-3",children:[(0,K.jsx)("p",{className:"text-sm font-medium "+("dark"===s?"text-gray-300":"text-gray-700"),children:(null===i||void 0===i?void 0:i.displayName)||"Admin User"}),(0,K.jsx)("button",{onClick:async()=>{try{await r(),n("/login")}catch(e){console.error("Failed to log out",e)}},className:`text-xs font-medium ${"dark"===s?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"} transition-colors`,children:"Sign out"})]})]})})]}),(0,K.jsx)("div",{className:"flex-1 overflow-auto",children:(0,K.jsx)("div",{className:"p-6 "+("dark"===s?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"),children:(0,K.jsx)(dt,{})})})]})}function _T(){const[e,t]=(0,H.useState)({products:0,categories:0,users:0}),[n,r]=(0,H.useState)([]),[i,s]=(0,H.useState)(!0);return(0,H.useEffect)((()=>{(async()=>{try{const e=await xy(mg(Xv,"products")),n=await xy(mg(Xv,"categories")),i=await xy(mg(Xv,"users"));t({products:e.size,categories:n.size,users:i.size});const s=ey(mg(Xv,"products"),sy("createdAt","desc"),oy(5)),a=(await xy(s)).docs.map((e=>({id:e.id,...e.data()})));r(a)}catch(e){console.error("Error fetching dashboard data:",e)}finally{s(!1)}})()}),[]),i?(0,K.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,K.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):(0,K.jsxs)("div",{children:[(0,K.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard"}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow p-6",children:[(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:(0,K.jsx)("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10"})})}),(0,K.jsxs)("div",{className:"ml-4",children:[(0,K.jsx)("h2",{className:"text-gray-600 text-sm",children:"Total Products"}),(0,K.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:e.products})]})]}),(0,K.jsx)("div",{className:"mt-4",children:(0,K.jsx)(Yt,{to:"/admin/products",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View all products \u2192"})})]}),(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow p-6",children:[(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:(0,K.jsx)("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,K.jsxs)("div",{className:"ml-4",children:[(0,K.jsx)("h2",{className:"text-gray-600 text-sm",children:"Total Categories"}),(0,K.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:e.categories})]})]}),(0,K.jsx)("div",{className:"mt-4",children:(0,K.jsx)(Yt,{to:"/admin/categories",className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"View all categories \u2192"})})]}),(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow p-6",children:[(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600",children:(0,K.jsx)("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,K.jsxs)("div",{className:"ml-4",children:[(0,K.jsx)("h2",{className:"text-gray-600 text-sm",children:"Total Users"}),(0,K.jsx)("p",{className:"text-2xl font-semibold text-gray-800",children:e.users})]})]}),(0,K.jsx)("div",{className:"mt-4",children:(0,K.jsx)("span",{className:"text-purple-600 text-sm font-medium",children:"Registered users"})})]})]}),(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow overflow-hidden",children:[(0,K.jsx)("div",{className:"px-6 py-4 border-b",children:(0,K.jsx)("h2",{className:"font-semibold text-gray-800",children:"Recent Products"})}),(0,K.jsx)("div",{className:"divide-y divide-gray-200",children:0===n.length?(0,K.jsx)("div",{className:"px-6 py-4 text-gray-500",children:"No products found"}):n.map((e=>{var t;return(0,K.jsx)("div",{className:"px-6 py-4",children:(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:e.name}),(0,K.jsxs)("p",{className:"text-sm text-gray-500",children:["$",(null===(t=e.price)||void 0===t?void 0:t.toFixed(2))||"0.00"]})]}),(0,K.jsx)(Yt,{to:`/admin/products/edit/${e.id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"})]})},e.id)}))}),(0,K.jsx)("div",{className:"px-6 py-4 bg-gray-50",children:(0,K.jsx)(Yt,{to:"/admin/products",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View all products"})})]})]})}function jT(){const[e,t]=(0,H.useState)([]),[n,r]=(0,H.useState)(!0),[i,s]=(0,H.useState)(!1),[a,o]=(0,H.useState)(null);(0,H.useEffect)((()=>{l()}),[]);const l=async()=>{try{r(!0);const e=(await xy(mg(Xv,"products"))).docs.map((e=>({id:e.id,...e.data()})));t(e)}catch(e){console.error("Error fetching products:",e)}finally{r(!1)}};return n?(0,K.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,K.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,K.jsx)("h1",{className:"text-2xl font-bold",children:"Products"}),(0,K.jsx)(Yt,{to:"/admin/products/add",className:"bg-blue-600 text-white px-4 py-2 rounded-[12px] hover:bg-blue-700",children:"Add Product"})]}),0===e.length?(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow p-6 text-center",children:[(0,K.jsx)("p",{className:"text-gray-500 mb-4",children:"No products found"}),(0,K.jsx)(Yt,{to:"/admin/products/add",className:"bg-blue-600 text-white px-4 py-2 rounded-[12px] hover:bg-blue-700",children:"Add your first product"})]}):(0,K.jsx)("div",{className:"bg-white rounded-[12px] shadow overflow-hidden",children:(0,K.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,K.jsx)("thead",{className:"bg-gray-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,K.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>{var t;return(0,K.jsxs)("tr",{children:[(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:e.imageUrl?(0,K.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.imageUrl||"/placeholder.svg",alt:e.name}):(0,K.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:(0,K.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,K.jsxs)("div",{className:"ml-4",children:[(0,K.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,K.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description})]})]})}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,K.jsxs)("div",{className:"text-sm text-gray-900",children:["$",(null===(t=e.price)||void 0===t?void 0:t.toFixed(2))||"0.00"]})}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,K.jsx)("div",{className:"text-sm text-gray-900",children:e.category})}),(0,K.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,K.jsx)(Yt,{to:`/admin/products/edit/${e.id}`,className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,K.jsx)("button",{onClick:()=>(e=>{o(e),s(!0)})(e),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)}))})]})}),i&&(0,K.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,K.jsxs)("div",{className:"bg-white rounded-[12px] p-6 max-w-md mx-auto",children:[(0,K.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Delete"}),(0,K.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:['Are you sure you want to delete "',null===a||void 0===a?void 0:a.name,'"? This action cannot be undone.']}),(0,K.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,K.jsx)("button",{onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 rounded-[12px] text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,K.jsx)("button",{onClick:async()=>{if(a)try{await Sy(gg(Xv,"products",a.id)),t(e.filter((e=>e.id!==a.id))),s(!1),o(null)}catch(n){console.error("Error deleting product:",n)}},className:"px-4 py-2 bg-red-600 border border-transparent rounded-[12px] text-sm font-medium text-white hover:bg-red-700",children:"Delete"})]})]})})]})}class IT extends H.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PT(e){let{children:t,isPresent:n,anchorX:r}=e;const i=(0,H.useId)(),s=(0,H.useRef)(null),a=(0,H.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,H.useContext)(YC);return(0,H.useInsertionEffect)((()=>{const{width:e,height:t,top:l,left:c,right:u}=a.current;if(n||!s.current||!e||!t)return;const d="left"===r?`left: ${c}`:`right: ${u}`;s.current.dataset.motionPopId=i;const h=document.createElement("style");return o&&(h.nonce=o),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${d}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(h)}}),[n]),(0,K.jsx)(IT,{isPresent:n,childRef:s,sizeRef:a,children:H.cloneElement(t,{ref:s})})}const AT=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:o,anchorX:l}=e;const c=DN(RT),u=(0,H.useId)(),d=(0,H.useCallback)((e=>{c.set(e,!0);for(const t of c.values())if(!t)return;i&&i()}),[c,i]),h=(0,H.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:s,onExitComplete:d,register:e=>(c.set(e,!1),()=>c.delete(e))})),a?[Math.random(),d]:[r,d]);return(0,H.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[r]),H.useEffect((()=>{!r&&!c.size&&i&&i()}),[r]),"popLayout"===o&&(t=(0,K.jsx)(PT,{isPresent:r,anchorX:l,children:t})),(0,K.jsx)(xE.Provider,{value:h,children:t})};function RT(){return new Map}const OT=e=>e.key||"";function DT(e){const t=[];return H.Children.forEach(e,(e=>{(0,H.isValidElement)(e)&&t.push(e)})),t}const MT=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:l="left"}=e;const[c,u]=wE(o),d=(0,H.useMemo)((()=>DT(t)),[t]),h=o&&!c?[]:d.map(OT),f=(0,H.useRef)(!0),p=(0,H.useRef)(d),m=DN((()=>new Map)),[g,y]=(0,H.useState)(d),[v,b]=(0,H.useState)(d);oN((()=>{f.current=!1,p.current=d;for(let e=0;e<v.length;e++){const t=OT(v[e]);h.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}}),[v,h.length,h.join("-")]);const x=[];if(d!==g){let e=[...d];for(let t=0;t<v.length;t++){const n=v[t],r=OT(n);h.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===a&&x.length&&(e=x),b(DT(e)),y(d),null}const{forceRender:w}=(0,H.useContext)(kE);return(0,K.jsx)(K.Fragment,{children:v.map((e=>{const t=OT(e),g=!(o&&!c)&&(d===v||h.includes(t));return(0,K.jsx)(AT,{isPresent:g,initial:!(f.current&&!r)&&void 0,custom:n,presenceAffectsLayout:s,mode:a,onExitComplete:g?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach((t=>{t||(e=!1)})),e&&(null===w||void 0===w||w(),b(p.current),o&&(null===u||void 0===u||u()),i&&i())},anchorX:l,children:e},t)}))})},LT=cT("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),FT=cT("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),UT=cT("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function $T(e){let{message:t,isVisible:n,onClose:r,type:i="success"}=e;return(0,K.jsx)(MT,{children:n&&(0,K.jsxs)(iT.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-50 px-4 backdrop-blur-sm",children:[(0,K.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-70",onClick:r}),(0,K.jsxs)(iT.div,{className:"bg-black border-2 border-white rounded-lg p-8 shadow-2xl relative z-10 max-w-md w-full",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},children:[(0,K.jsxs)("div",{className:"flex justify-between items-start",children:[(0,K.jsxs)("div",{className:"flex items-center gap-4",children:["success"===i?(0,K.jsx)(LT,{className:"h-8 w-8 text-green-500"}):(0,K.jsx)(FT,{className:"h-8 w-8 text-red-500"}),(0,K.jsx)("h3",{className:"text-2xl font-bold text-white font-poppins tracking-tight",children:"success"===i?"Success!":"Error"})]}),(0,K.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors p-1 hover:bg-white/10 rounded-lg",children:(0,K.jsx)(UT,{size:24})})]}),(0,K.jsx)("div",{className:"mt-4",children:"string"===typeof t?(0,K.jsx)("p",{className:"text-gray-300 text-lg font-inter leading-relaxed",children:t}):(0,K.jsx)("div",{className:"text-gray-300",children:t})}),"success"===i&&(0,K.jsx)(iT.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-6",children:(0,K.jsx)("button",{onClick:r,className:"bg-white text-black px-6 py-2 rounded-lg hover:bg-gray-200 transition-colors font-inter font-medium",children:"Continue"})})]})]})})}function VT(){const[e,t]=(0,H.useState)(""),[n,r]=(0,H.useState)(""),[i,s]=(0,H.useState)(""),[a,o]=(0,H.useState)(""),[l,c]=(0,H.useState)(""),[u,d]=(0,H.useState)([]),[h,f]=(0,H.useState)(null),[p,m]=(0,H.useState)(""),[g,y]=(0,H.useState)(!1),[v,b]=(0,H.useState)(0),[x,w]=(0,H.useState)(""),[k,S]=(0,H.useState)({visible:!1,message:"",type:"success"}),[E,C]=(0,H.useState)(!1),[N,T]=(0,H.useState)({}),_=Ke();(0,H.useEffect)((()=>{j()}),[]);const j=async()=>{try{const e=(await xy(mg(Xv,"categories"))).docs.map((e=>({id:e.id,...e.data()})));d(e)}catch(x){console.error("Error fetching categories:",x),w("Failed to load categories. Please try again.")}};return(0,K.jsxs)("div",{className:"bg-white text-black min-h-screen",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Add Product"}),(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow p-6",children:[x&&(0,K.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-[12px]",children:x}),(0,K.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),w(""),(()=>{const t={};return e.trim()||(t.name="Product name is required"),i.trim()?(isNaN(i)||parseFloat(i)<=0)&&(t.price="Price must be a positive number"):t.price="Price is required",a.trim()?(isNaN(a)||parseInt(a)<0)&&(t.stock="Stock must be a non-negative number"):t.stock="Stock is required",l||(t.categoryId="Category is required"),T(t),0===Object.keys(t).length})()){y(!0),b(0);try{let t="";if(h){const e=`${Date.now()}_${h.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,n=Kv(Jv,`products/${e}`);try{const e=await Hv(n,h);t=await Wv(e.ref)}catch(r){throw console.error("Error uploading image:",r),new Error("Failed to upload image. Please try again.")}}const s=u.find((e=>e.id===l));await Ey(mg(Xv,"products"),{name:e,description:n,price:Number.parseFloat(i),stock:a?Number.parseInt(a):0,categoryId:l,category:(null===s||void 0===s?void 0:s.name)||"",imageUrl:t,createdAt:(new Date).toISOString()}),C(!0),S({visible:!0,message:"Product added successfully!",type:"success"})}catch(x){console.error("Error adding product:",x),S({visible:!0,message:"Error adding product. Please try again.",type:"error"})}finally{y(!1),b(0)}}},children:[(0,K.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,K.jsxs)("div",{className:"md:col-span-2",children:[(0,K.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name *"}),(0,K.jsx)("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value),className:`mt-1 block w-full border ${N.name?"border-red-500":"border-gray-300"} rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,required:!0}),N.name&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.name})]}),(0,K.jsxs)("div",{className:"md:col-span-2",children:[(0,K.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,K.jsx)("textarea",{id:"description",value:n,onChange:e=>r(e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price ($) *"}),(0,K.jsx)("input",{type:"number",id:"price",value:i,onChange:e=>s(e.target.value),min:"0",step:"0.01",className:`mt-1 block w-full border ${N.price?"border-red-500":"border-gray-300"} rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,required:!0}),N.price&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.price})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock *"}),(0,K.jsx)("input",{type:"number",id:"stock",value:a,onChange:e=>o(e.target.value),min:"0",step:"1",className:`mt-1 block w-full border ${N.stock?"border-red-500":"border-gray-300"} rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,required:!0}),N.stock&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.stock})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category *"}),(0,K.jsxs)("select",{id:"category",value:l,onChange:e=>c(e.target.value),className:`mt-1 block w-full border ${N.categoryId?"border-red-500":"border-gray-300"} rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,required:!0,children:[(0,K.jsx)("option",{value:"",children:"Select a category"}),u.map((e=>(0,K.jsx)("option",{value:e.id,children:e.name},e.id)))]}),N.categoryId&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.categoryId})]}),(0,K.jsxs)("div",{className:"md:col-span-2",children:[(0,K.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product Image"}),(0,K.jsxs)("div",{className:"mt-1 flex items-center",children:[p?(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("img",{src:p||"/placeholder.svg",alt:"Preview",className:"h-32 w-32 object-cover rounded-[12px]"}),(0,K.jsx)("button",{type:"button",onClick:()=>{f(null),m("")},className:"absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full p-1",children:(0,K.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,K.jsx)("div",{className:"h-32 w-32 border-2 border-gray-300 border-dashed rounded-[12px] flex items-center justify-center",children:(0,K.jsx)("svg",{className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,K.jsxs)("div",{className:"ml-4 flex-1",children:[(0,K.jsxs)("div",{className:"relative bg-white py-2 px-3 border border-gray-300 rounded-[12px] shadow-sm flex items-center cursor-pointer hover:bg-gray-50",children:[(0,K.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{if(w(""),e.target.files[0]){const t=e.target.files[0];(e=>["image/jpeg","image/png","image/gif","image/webp"].includes(e.type)?!(e.size>5242880)||(w("Image size should be less than 5MB"),!1):(w("Please select a valid image file (JPEG, PNG, GIF, or WEBP)"),!1))(t)?(f(t),m(URL.createObjectURL(t))):e.target.value=null}},accept:"image/*"}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-700",children:p?"Change image":"Upload image"})]}),(0,K.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG, GIF or WEBP up to 5MB"}),v>0&&(0,K.jsxs)("div",{className:"mt-2",children:[(0,K.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,K.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${v}%`}})}),(0,K.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading: ",v,"%"]})]})]})]})]})]}),(0,K.jsxs)("div",{className:"mt-6 flex justify-end",children:[(0,K.jsx)("button",{type:"button",onClick:()=>_("/admin/products"),className:"bg-white py-2 px-4 border border-gray-300 rounded-[12px] shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mr-3",children:"Cancel"}),(0,K.jsx)("button",{type:"submit",disabled:g,className:"bg-blue-600 py-2 px-4 border border-transparent rounded-[12px] shadow-sm text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Adding...":"Add Product"})]})]})]})]}),(0,K.jsx)($T,{isVisible:k.visible,message:k.message,type:k.type,onClose:()=>{S({...k,visible:!1}),E&&_("/admin/products")}})]})}function zT(){const{id:e}=Qe(),t=Ke(),[n,r]=(0,H.useState)(""),[i,s]=(0,H.useState)(""),[a,o]=(0,H.useState)(""),[l,c]=(0,H.useState)(""),[u,d]=(0,H.useState)(""),[h,f]=(0,H.useState)([]),[p,m]=(0,H.useState)(null),[g,y]=(0,H.useState)(""),[v,b]=(0,H.useState)(""),[x,w]=(0,H.useState)(!0),[k,S]=(0,H.useState)(!1),[E,C]=(0,H.useState)(0),[N,T]=(0,H.useState)(""),[_,j]=(0,H.useState)({});(0,H.useEffect)((()=>{I(),P()}),[e]);const I=async()=>{try{const a=await vy(gg(Xv,"products",e));if(a.exists()){var n,i;const e=a.data();r(e.name||""),s(e.description||""),o((null===(n=e.price)||void 0===n?void 0:n.toString())||""),c((null===(i=e.stock)||void 0===i?void 0:i.toString())||"0"),d(e.categoryId||""),y(e.imageUrl||""),b(e.imageUrl||"")}else T("Product not found"),t("/admin/products")}catch(N){console.error("Error fetching product:",N),T("Error loading product")}finally{w(!1)}},P=async()=>{try{const e=(await xy(mg(Xv,"categories"))).docs.map((e=>({id:e.id,...e.data()})));f(e)}catch(N){console.error("Error fetching categories:",N),T("Failed to load categories")}};return x?(0,K.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,K.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):(0,K.jsx)("div",{className:"bg-white text-black min-h-screen",children:(0,K.jsxs)("div",{children:[(0,K.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Product"}),(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow p-6",children:[N&&(0,K.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-[12px]",children:N}),(0,K.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),T(""),(()=>{const e={};return n.trim()||(e.name="Product name is required"),a.trim()?(isNaN(a)||parseFloat(a)<=0)&&(e.price="Price must be a positive number"):e.price="Price is required",l.trim()?(isNaN(l)||parseInt(l)<=0)&&(e.stock="Stock must be greater than 0"):e.stock="Stock is required",u||(e.categoryId="Category is required"),j(e),0===Object.keys(e).length})()){S(!0),C(0);try{let r=g;if(p){const e=`${Date.now()}_${p.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,t=Kv(Jv,`products/${e}`),n=()=>{let e=0;const t=setInterval((()=>{e+=10*Math.random(),e>90&&(clearInterval(t),e=90),C(Math.min(Math.round(e),90))}),300);return t},i=n();if(await Hv(t,p),clearInterval(i),C(100),r=await Wv(t),g&&g!==r)try{const e=g.split("products%2F")[1].split("?")[0];if(e){const t=Kv(Jv,`products/${decodeURIComponent(e)}`);await function(e){return Mv(e=Pn(e))}(t)}}catch(s){console.error("Error deleting old image:",s)}}const o=h.find((e=>e.id===u));await ky(gg(Xv,"products",e),{name:n,description:i,price:Number.parseFloat(a),stock:l?Number.parseInt(l):0,categoryId:u,category:(null===o||void 0===o?void 0:o.name)||"",imageUrl:r,updatedAt:(new Date).toISOString()}),alert("Product updated successfully"),t("/admin/products")}catch(N){console.error("Error updating product:",N),T("Failed to update product. Please try again.")}finally{S(!1),C(0)}}},children:[(0,K.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,K.jsxs)("div",{className:"md:col-span-2",children:[(0,K.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name *"}),(0,K.jsx)("input",{type:"text",id:"name",value:n,onChange:e=>r(e.target.value),className:`mt-1 block w-full border ${_.name?"border-red-500":"border-gray-300"} rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,required:!0}),_.name&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.name})]}),(0,K.jsxs)("div",{className:"md:col-span-2",children:[(0,K.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,K.jsx)("textarea",{id:"description",value:i,onChange:e=>s(e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price ($) *"}),(0,K.jsx)("input",{type:"number",id:"price",value:a,onChange:e=>o(e.target.value),min:"0",step:"0.01",className:`mt-1 block w-full border ${_.price?"border-red-500":"border-gray-300"} rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,required:!0}),_.price&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.price})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock *"}),(0,K.jsx)("input",{type:"number",id:"stock",value:l,onChange:e=>c(e.target.value),min:"1",step:"1",className:`mt-1 block w-full border ${_.stock?"border-red-500":"border-gray-300"} rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,required:!0}),_.stock&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.stock})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category *"}),(0,K.jsxs)("select",{id:"category",value:u,onChange:e=>d(e.target.value),className:`mt-1 block w-full border ${_.categoryId?"border-red-500":"border-gray-300"} rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,required:!0,children:[(0,K.jsx)("option",{value:"",children:"Select a category"}),h.map((e=>(0,K.jsx)("option",{value:e.id,children:e.name},e.id)))]}),_.categoryId&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-600",children:_.categoryId})]}),(0,K.jsxs)("div",{className:"md:col-span-2",children:[(0,K.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product Image"}),(0,K.jsxs)("div",{className:"mt-1 flex items-center",children:[v?(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("img",{src:v||"/placeholder.svg",alt:"Preview",className:"h-32 w-32 object-cover rounded-[12px]"}),(0,K.jsx)("button",{type:"button",onClick:()=>{m(null),b(""),y("")},className:"absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full p-1",children:(0,K.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,K.jsx)("div",{className:"h-32 w-32 border-2 border-gray-300 border-dashed rounded-[12px] flex items-center justify-center",children:(0,K.jsx)("svg",{className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,K.jsxs)("div",{className:"ml-4 flex-1",children:[(0,K.jsxs)("div",{className:"relative bg-white py-2 px-3 border border-gray-300 rounded-[12px] shadow-sm flex items-center cursor-pointer hover:bg-gray-50",children:[(0,K.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{if(T(""),e.target.files[0]){const t=e.target.files[0];(e=>["image/jpeg","image/png","image/gif","image/webp"].includes(e.type)?!(e.size>5242880)||(T("Image size should be less than 5MB"),!1):(T("Please select a valid image file (JPEG, PNG, GIF, or WEBP)"),!1))(t)?(m(t),b(URL.createObjectURL(t))):e.target.value=null}},accept:"image/*"}),(0,K.jsx)("span",{className:"text-sm font-medium text-gray-700",children:v?"Change image":"Upload image"})]}),(0,K.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG, GIF or WEBP up to 5MB"}),E>0&&(0,K.jsxs)("div",{className:"mt-2",children:[(0,K.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,K.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${E}%`}})}),(0,K.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading: ",E,"%"]})]})]})]})]})]}),(0,K.jsxs)("div",{className:"mt-6 flex justify-end",children:[(0,K.jsx)("button",{type:"button",onClick:()=>t("/admin/products"),className:"bg-white py-2 px-4 border border-gray-300 rounded-[12px] shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mr-3",children:"Cancel"}),(0,K.jsx)("button",{type:"submit",disabled:k,className:"bg-blue-600 py-2 px-4 border border-transparent rounded-[12px] shadow-sm text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Saving...":"Save Changes"})]})]})]})]})})}function BT(){const[e,t]=(0,H.useState)([]),[n,r]=(0,H.useState)(!0),[i,s]=(0,H.useState)(!1),[a,o]=(0,H.useState)(null);(0,H.useEffect)((()=>{l()}),[]);const l=async()=>{try{r(!0);const e=(await xy(mg(Xv,"categories"))).docs.map((e=>({id:e.id,...e.data()})));t(e)}catch(e){console.error("Error fetching categories:",e)}finally{r(!1)}};return n?(0,K.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,K.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):(0,K.jsxs)("div",{children:[(0,K.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,K.jsx)("h1",{className:"text-2xl font-bold",children:"Categories"}),(0,K.jsx)(Yt,{to:"/admin/categories/add",className:"bg-blue-600 text-white px-4 py-2 rounded-[12px] hover:bg-blue-700",children:"Add Category"})]}),0===e.length?(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow p-6 text-center",children:[(0,K.jsx)("p",{className:"text-gray-500 mb-4",children:"No categories found"}),(0,K.jsx)(Yt,{to:"/admin/categories/add",className:"bg-blue-600 text-white px-4 py-2 rounded-[12px] hover:bg-blue-700",children:"Add your first category"})]}):(0,K.jsx)("div",{className:"bg-white rounded-[12px] shadow overflow-hidden",children:(0,K.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,K.jsx)("thead",{className:"bg-gray-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,K.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,K.jsxs)("tr",{children:[(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,K.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,K.jsx)("td",{className:"px-6 py-4",children:(0,K.jsx)("div",{className:"text-sm text-gray-500",children:e.description})}),(0,K.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,K.jsx)(Yt,{to:`/admin/categories/edit/${e.id}`,className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,K.jsx)("button",{onClick:()=>(e=>{o(e),s(!0)})(e),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id)))})]})}),i&&(0,K.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,K.jsxs)("div",{className:"bg-white rounded-[12px] p-6 max-w-md mx-auto",children:[(0,K.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Delete"}),(0,K.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:['Are you sure you want to delete "',null===a||void 0===a?void 0:a.name,'"? This action cannot be undone.']}),(0,K.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,K.jsx)("button",{onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 rounded-[12px] text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,K.jsx)("button",{onClick:async()=>{if(a)try{await Sy(gg(Xv,"categories",a.id)),t(e.filter((e=>e.id!==a.id))),s(!1),o(null)}catch(n){console.error("Error deleting category:",n)}},className:"px-4 py-2 bg-red-600 border border-transparent rounded-[12px] text-sm font-medium text-white hover:bg-red-700",children:"Delete"})]})]})})]})}function qT(){const[e,t]=(0,H.useState)(""),[n,r]=(0,H.useState)(""),[i,s]=(0,H.useState)(!1),[a,o]=(0,H.useState)(""),l=Ke(),[c,u]=(0,H.useState)({visible:!1,message:"",type:"success"}),[d,h]=(0,H.useState)(!1);return(0,K.jsxs)("div",{className:"bg-white text-black min-h-screen",children:[(0,K.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Add Category"}),(0,K.jsx)("div",{className:"bg-white rounded-[12px] shadow p-6",children:(0,K.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e){s(!0),o("");try{await Ey(mg(Xv,"categories"),{name:e,description:n,createdAt:(new Date).toISOString()}),h(!0),u({visible:!0,message:"Category added successfully!",type:"success"})}catch(a){console.error("Error adding category:",a),u({visible:!0,message:"Error adding category. Please try again.",type:"error"})}finally{s(!1)}}else alert("Category name is required")},children:[(0,K.jsxs)("div",{className:"space-y-6",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Category Name *"}),(0,K.jsx)("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,K.jsx)("textarea",{id:"description",value:n,onChange:e=>r(e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,K.jsxs)("div",{className:"mt-6 flex justify-end",children:[(0,K.jsx)("button",{type:"button",onClick:()=>l("/admin/categories"),className:"bg-white py-2 px-4 border border-gray-300 rounded-[12px] shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mr-3",children:"Cancel"}),(0,K.jsx)("button",{type:"submit",disabled:i,className:"bg-blue-600 py-2 px-4 border border-transparent rounded-[12px] shadow-sm text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:i?"Adding...":"Add Category"})]})]})}),(0,K.jsx)($T,{isVisible:c.visible,message:c.message,type:c.type,onClose:()=>{u({...c,visible:!1}),d&&l("/admin/categories")}})]})}function HT(){const{id:e}=Qe(),t=Ke(),[n,r]=(0,H.useState)(""),[i,s]=(0,H.useState)(""),[a,o]=(0,H.useState)(!0),[l,c]=(0,H.useState)(!1);(0,H.useEffect)((()=>{u()}),[e]);const u=async()=>{try{const n=await vy(gg(Xv,"categories",e));if(n.exists()){const e=n.data();r(e.name||""),s(e.description||"")}else alert("Category not found"),t("/admin/categories")}catch(n){console.error("Error fetching category:",n),alert("Error loading category")}finally{o(!1)}};return a?(0,K.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,K.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):(0,K.jsxs)("div",{children:[(0,K.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Category"}),(0,K.jsx)("div",{className:"bg-white rounded-[12px] shadow p-6",children:(0,K.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),n){c(!0);try{await ky(gg(Xv,"categories",e),{name:n,description:i,updatedAt:(new Date).toISOString()}),alert("Category updated successfully"),t("/admin/categories")}catch(s){console.error("Error updating category:",s),alert("Failed to update category")}finally{c(!1)}}else alert("Category name is required")},children:[(0,K.jsxs)("div",{className:"space-y-6",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Category Name *"}),(0,K.jsx)("input",{type:"text",id:"name",value:n,onChange:e=>r(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,K.jsx)("textarea",{id:"description",value:i,onChange:e=>s(e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,K.jsxs)("div",{className:"mt-6 flex justify-end",children:[(0,K.jsx)("button",{type:"button",onClick:()=>t("/admin/categories"),className:"bg-white py-2 px-4 border border-gray-300 rounded-[12px] shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mr-3",children:"Cancel"}),(0,K.jsx)("button",{type:"submit",disabled:l,className:"bg-blue-600 py-2 px-4 border border-transparent rounded-[12px] shadow-sm text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:l?"Saving...":"Save Changes"})]})]})})]})}const WT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function KT(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const GT={date:KT({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:KT({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:KT({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},QT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function YT(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const XT={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:YT({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:YT({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:YT({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:YT({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:YT({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function JT(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(a)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(a.length)}}}var ZT;const e_={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=WT[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:GT,formatRelative:(e,t,n,r)=>QT[e],localize:XT,match:{ordinalNumber:(ZT={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(ZT.matchPattern);if(!n)return null;const r=n[0],i=e.match(ZT.parsePattern);if(!i)return null;let s=ZT.valueCallback?ZT.valueCallback(i[0]):i[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:JT({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:JT({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:JT({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:JT({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:JT({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let t_={};function n_(){return t_}Math.pow(10,8);const r_=6048e5,i_=Symbol.for("constructDateFrom");function s_(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&i_ in e?e[i_](t):e instanceof Date?new e.constructor(t):new Date(t)}function a_(e,t){return s_(t||e,e)}function o_(e){const t=a_(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function l_(e,t){const n=a_(e,t?.in);return n.setHours(0,0,0,0),n}function c_(e,t,n){const[r,i]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=s_.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}(n?.in,e,t),s=l_(r),a=l_(i),o=+s-o_(s),l=+a-o_(a);return Math.round((o-l)/864e5)}function u_(e,t){const n=a_(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function d_(e,t){const n=a_(e,t?.in);return c_(n,u_(n))+1}function h_(e,t){const n=n_(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=a_(e,t?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function f_(e,t){return h_(e,{...t,weekStartsOn:1})}function p_(e,t){const n=a_(e,t?.in),r=n.getFullYear(),i=s_(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=f_(i),a=s_(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=f_(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function m_(e,t){const n=p_(e,t),r=s_(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),f_(r)}function g_(e,t){const n=a_(e,t?.in),r=+f_(n)-+m_(n);return Math.round(r/r_)+1}function y_(e,t){const n=a_(e,t?.in),r=n.getFullYear(),i=n_(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=s_(t?.in||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=h_(a,t),l=s_(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=h_(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function v_(e,t){const n=n_(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=y_(e,t),s=s_(t?.in||e,0);s.setFullYear(i,0,r),s.setHours(0,0,0,0);return h_(s,t)}function b_(e,t){const n=a_(e,t?.in),r=+h_(n,t)-+v_(n,t);return Math.round(r/r_)+1}function x_(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const w_={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return x_("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):x_(n+1,2)},d:(e,t)=>x_(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>x_(e.getHours()%12||12,t.length),H:(e,t)=>x_(e.getHours(),t.length),m:(e,t)=>x_(e.getMinutes(),t.length),s:(e,t)=>x_(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return x_(Math.trunc(r*Math.pow(10,n-3)),t.length)}},k_="midnight",S_="noon",E_="morning",C_="afternoon",N_="evening",T_="night",__={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return w_.y(e,t)},Y:function(e,t,n,r){const i=y_(e,r),s=i>0?i:1-i;if("YY"===t){return x_(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):x_(s,t.length)},R:function(e,t){return x_(p_(e),t.length)},u:function(e,t){return x_(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return x_(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return x_(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return w_.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return x_(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=b_(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):x_(i,t.length)},I:function(e,t,n){const r=g_(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):x_(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):w_.d(e,t)},D:function(e,t,n){const r=d_(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):x_(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return x_(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return x_(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return x_(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?S_:0===r?k_:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?N_:r>=12?C_:r>=4?E_:T_,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return w_.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):w_.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):x_(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):x_(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):w_.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):w_.s(e,t)},S:function(e,t){return w_.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return I_(r);case"XXXX":case"XX":return P_(r);default:return P_(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return I_(r);case"xxxx":case"xx":return P_(r);default:return P_(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+j_(r,":");default:return"GMT"+P_(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+j_(r,":");default:return"GMT"+P_(r,":")}},t:function(e,t,n){return x_(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return x_(+e,t.length)}};function j_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+x_(s,2)}function I_(e,t){if(e%60===0){return(e>0?"-":"+")+x_(Math.abs(e)/60,2)}return P_(e,t)}function P_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+x_(Math.trunc(r/60),2)+t+x_(r%60,2)}const A_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},R_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},O_={p:R_,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return A_(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",A_(r,t)).replace("{{time}}",R_(i,t))}},D_=/^D+$/,M_=/^Y+$/,L_=["D","DD","YY","YYYY"];function F_(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function U_(e){return!(!F_(e)&&"number"!==typeof e||isNaN(+a_(e)))}const $_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z_=/^'([^]*?)'?$/,B_=/''/g,q_=/[a-zA-Z]/;function H_(e,t,n){const r=n_(),i=n?.locale??r.locale??e_,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=a_(e,n?.in);if(!U_(o))throw new RangeError("Invalid time value");let l=t.match(V_).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,O_[t])(e,i.formatLong)}return e})).join("").match($_).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:W_(e)};if(__[t])return{isToken:!0,value:e};if(t.match(q_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const s=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return M_.test(e)}(s)||!n?.useAdditionalDayOfYearTokens&&function(e){return D_.test(e)}(s))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),L_.includes(e))throw new RangeError(r)}(s,t,String(e));return(0,__[s[0]])(o,s,i.localize,c)})).join("")}function W_(e){const t=e.match(z_);return t?t[1].replace(B_,"'"):e}function K_(){const[e,t]=(0,H.useState)([]),[n,r]=(0,H.useState)(!0),[i,s]=(0,H.useState)("all"),[a,o]=(0,H.useState)({start:"",end:""}),[l,c]=(0,H.useState)(null),u=[{value:"pending",label:"Pending",color:"bg-yellow-500"},{value:"processing",label:"Processing",color:"bg-blue-500"},{value:"shipped",label:"Shipped",color:"bg-purple-500"},{value:"delivered",label:"Delivered",color:"bg-green-500"},{value:"cancelled",label:"Cancelled",color:"bg-red-500"}];(0,H.useEffect)((()=>{d()}),[i,a]);const d=async()=>{try{r(!0);const e=mg(Xv,"orders"),n=[];if("all"!==i&&n.push(ny("status","==",i)),a.start&&a.end){const e=new Date(a.start);e.setHours(0,0,0,0);const t=new Date(a.end);t.setHours(23,59,59,999),n.push(ny("createdAt",">=",e.toISOString())),n.push(ny("createdAt","<=",t.toISOString()))}let s;n.push(sy("createdAt","desc")),s=n.length>0?ey(e,...n):ey(e,sy("createdAt","desc"));const o=(await xy(s)).docs.map((e=>({id:e.id,...e.data()})));t(o)}catch(e){console.error("Error fetching orders:",e)}finally{r(!1)}},h=e=>{try{return H_(new Date(e),"MMM dd, yyyy h:mm a")}catch(t){return"Invalid date"}},f=e=>{const t=e.reduce(((e,t)=>e+t.price*t.quantity),0);return(t+(t>100?0:10)+.08*t).toFixed(2)},p=e=>{const t=u.find((t=>t.value===e))||{color:"bg-gray-500",label:"Unknown"};return(0,K.jsx)("span",{className:`${t.color} text-white text-xs px-2 py-1 rounded-full`,children:t.label})};return(0,K.jsxs)("div",{children:[(0,K.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Order Management"}),(0,K.jsxs)("div",{className:"bg-white rounded-[12px] shadow p-6 mb-6",children:[(0,K.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Status"}),(0,K.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,K.jsx)("option",{value:"all",children:"All Statuses"}),u.map((e=>(0,K.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,K.jsx)("input",{type:"date",value:a.start,onChange:e=>o({...a,start:e.target.value}),className:"block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,K.jsx)("input",{type:"date",value:a.end,onChange:e=>o({...a,end:e.target.value}),className:"block w-full border border-gray-300 rounded-[12px] shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,K.jsx)("div",{className:"mt-4 flex justify-end",children:(0,K.jsx)("button",{onClick:()=>{s("all"),o({start:"",end:""})},className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-[12px] hover:bg-gray-300 transition-colors",children:"Clear Filters"})})]}),(0,K.jsx)("div",{className:"bg-white rounded-[12px] shadow overflow-hidden",children:n?(0,K.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,K.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):0===e.length?(0,K.jsx)("div",{className:"p-6 text-center",children:(0,K.jsx)("p",{className:"text-gray-500",children:"No orders found matching your filters."})}):(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,K.jsx)("thead",{className:"bg-gray-50",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,K.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,K.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,K.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,K.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,K.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,K.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((n=>(0,K.jsxs)(H.Fragment,{children:[(0,K.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>{return e=n.id,void c(l===e?null:e);var e},children:[(0,K.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",n.id.slice(0,8)]}),(0,K.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[n.customer.firstName," ",n.customer.lastName]}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(n.createdAt)}),(0,K.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",f(n.items)]}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p(n.status)}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,K.jsx)("select",{value:n.status,onChange:r=>{r.stopPropagation(),(async(n,r)=>{try{await ky(gg(Xv,"orders",n),{status:r,updatedAt:(new Date).toISOString()}),t(e.map((e=>e.id===n?{...e,status:r,updatedAt:(new Date).toISOString()}:e)))}catch(i){console.error("Error updating order status:",i)}})(n.id,r.target.value)},className:"border border-gray-300 rounded-[12px] shadow-sm py-1 px-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",onClick:e=>e.stopPropagation(),children:u.map((e=>(0,K.jsx)("option",{value:e.value,children:e.label},e.value)))})})]}),l===n.id&&(0,K.jsx)("tr",{children:(0,K.jsx)("td",{colSpan:"6",className:"px-6 py-4 bg-gray-50",children:(0,K.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,K.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Order Details"}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Shipping Information"}),(0,K.jsxs)("p",{className:"text-sm text-gray-600",children:[n.customer.firstName," ",n.customer.lastName,(0,K.jsx)("br",{}),n.customer.address,(0,K.jsx)("br",{}),n.customer.city,", ",n.customer.state," ",n.customer.zipCode,(0,K.jsx)("br",{}),n.customer.country]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Contact Information"}),(0,K.jsxs)("p",{className:"text-sm text-gray-600",children:["Email: ",n.customer.email,(0,K.jsx)("br",{})]})]})]}),(0,K.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Items"}),(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,K.jsx)("thead",{className:"bg-gray-100",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),(0,K.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),(0,K.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),(0,K.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),(0,K.jsx)("tbody",{className:"divide-y divide-gray-200",children:n.items.map(((e,t)=>(0,K.jsxs)("tr",{children:[(0,K.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.name}),(0,K.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-500",children:["$",e.price.toFixed(2)]}),(0,K.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.quantity}),(0,K.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-900 text-right",children:["$",(e.price*e.quantity).toFixed(2)]})]},t)))}),(0,K.jsxs)("tfoot",{className:"bg-gray-50",children:[(0,K.jsxs)("tr",{children:[(0,K.jsx)("td",{colSpan:"3",className:"px-4 py-2 text-sm font-medium text-gray-900 text-right",children:"Subtotal:"}),(0,K.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-900 text-right",children:["$",n.items.reduce(((e,t)=>e+t.price*t.quantity),0).toFixed(2)]})]}),(0,K.jsxs)("tr",{children:[(0,K.jsx)("td",{colSpan:"3",className:"px-4 py-2 text-sm font-medium text-gray-900 text-right",children:"Shipping:"}),(0,K.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-900 text-right",children:["$",n.items.reduce(((e,t)=>e+t.price*t.quantity),0)>100?"0.00":"10.00"]})]}),(0,K.jsxs)("tr",{children:[(0,K.jsx)("td",{colSpan:"3",className:"px-4 py-2 text-sm font-medium text-gray-900 text-right",children:"Tax:"}),(0,K.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-900 text-right",children:["$",(.08*n.items.reduce(((e,t)=>e+t.price*t.quantity),0)).toFixed(2)]})]}),(0,K.jsxs)("tr",{children:[(0,K.jsx)("td",{colSpan:"3",className:"px-4 py-2 text-sm font-bold text-gray-900 text-right",children:"Total:"}),(0,K.jsxs)("td",{className:"px-4 py-2 text-sm font-bold text-gray-900 text-right",children:["$",f(n.items)]})]})]})]})})]})})})]},n.id)))})]})})})]})}var G_=class extends N{constructor(e,t){super(),this.options=t,this.#l=e,this.#b=null,this.#x=j(),this.options.experimental_prefetchInRender||this.#x.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#l;#w=void 0;#k=void 0;#S=void 0;#E;#C;#x;#b;#N;#T;#_;#j;#I;#P;#A=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#w.addObserver(this),Q_(this.#w,this.options)?this.#R():this.updateResult(),this.#O())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Y_(this.#w,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Y_(this.#w,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#D(),this.#M(),this.#w.removeObserver(this)}setOptions(e){const t=this.options,n=this.#w;if(this.options=this.#l.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof l(this.options.enabled,this.#w))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#L(),this.#w.setOptions(this.options),t._defaulted&&!m(this.options,t)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#w,observer:this});const r=this.hasListeners();r&&X_(this.#w,n,this.options,t)&&this.#R(),this.updateResult(),!r||this.#w===n&&l(this.options.enabled,this.#w)===l(t.enabled,this.#w)&&o(this.options.staleTime,this.#w)===o(t.staleTime,this.#w)||this.#F();const i=this.#U();!r||this.#w===n&&l(this.options.enabled,this.#w)===l(t.enabled,this.#w)&&i===this.#P||this.#$(i)}getOptimisticResult(e){const t=this.#l.getQueryCache().build(this.#l,e),n=this.createResult(t,e);return function(e,t){if(!m(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#S=n,this.#C=this.options,this.#E=this.#w.state),n}getCurrentResult(){return this.#S}trackResult(e,t){const n={};return Object.keys(e).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})})),n}trackProp(e){this.#A.add(e)}getCurrentQuery(){return this.#w}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#l.defaultQueryOptions(e),n=this.#l.getQueryCache().build(this.#l,t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#R({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#S)))}#R(e){this.#L();let t=this.#w.fetch(this.options,e);return e?.throwOnError||(t=t.catch(i)),t}#F(){this.#D();const e=o(this.options.staleTime,this.#w);if(r||this.#S.isStale||!s(e))return;const t=a(this.#S.dataUpdatedAt,e)+1;this.#j=setTimeout((()=>{this.#S.isStale||this.updateResult()}),t)}#U(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#w):this.options.refetchInterval)??!1}#$(e){this.#M(),this.#P=e,!r&&!1!==l(this.options.enabled,this.#w)&&s(this.#P)&&0!==this.#P&&(this.#I=setInterval((()=>{(this.options.refetchIntervalInBackground||T.isFocused())&&this.#R()}),this.#P))}#O(){this.#F(),this.#$(this.#U())}#D(){this.#j&&(clearTimeout(this.#j),this.#j=void 0)}#M(){this.#I&&(clearInterval(this.#I),this.#I=void 0)}createResult(e,t){const n=this.#w,r=this.options,i=this.#S,s=this.#E,a=this.#C,o=e!==n?e.state:this.#k,{state:l}=e;let c,u={...l},d=!1;if(t._optimisticResults){const i=this.hasListeners(),s=!i&&Q_(e,t),a=i&&X_(e,n,t,r);(s||a)&&(u={...u,...L(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:f,status:p}=u;if(t.select&&void 0!==u.data)if(i&&u.data===s?.data&&t.select===this.#N)c=this.#T;else try{this.#N=t.select,c=t.select(u.data),c=b(i?.data,c,t),this.#T=c,this.#b=null}catch(k){this.#b=k}else c=u.data;if(void 0!==t.placeholderData&&void 0===c&&"pending"===p){let e;if(i?.isPlaceholderData&&t.placeholderData===a?.placeholderData)e=i.data;else if(e="function"===typeof t.placeholderData?t.placeholderData(this.#_?.state.data,this.#_):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#b=null}catch(k){this.#b=k}void 0!==e&&(p="success",c=b(i?.data,e,t),d=!0)}this.#b&&(h=this.#b,c=this.#T,f=Date.now(),p="error");const m="fetching"===u.fetchStatus,g="pending"===p,y="error"===p,v=g&&m,x=void 0!==c,w={status:p,fetchStatus:u.fetchStatus,isPending:g,isSuccess:"success"===p,isError:y,isInitialLoading:v,isLoading:v,data:c,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:m,isRefetching:m&&!g,isLoadingError:y&&!x,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:y&&x,isStale:J_(e,t),refetch:this.refetch,promise:this.#x};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===w.status?e.reject(w.error):void 0!==w.data&&e.resolve(w.data)},r=()=>{const e=this.#x=w.promise=j();t(e)},i=this.#x;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":"error"!==w.status&&w.data===i.value||r();break;case"rejected":"error"===w.status&&w.error===i.reason||r()}}return w}updateResult(){const e=this.#S,t=this.createResult(this.#w,this.options);if(this.#E=this.#w.state,this.#C=this.options,void 0!==this.#E.data&&(this.#_=this.#w),m(t,e))return;this.#S=t;this.#V({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!this.#A.size)return!0;const r=new Set(n??this.#A);return this.options.throwOnError&&r.add("error"),Object.keys(this.#S).some((t=>{const n=t;return this.#S[n]!==e[n]&&r.has(n)}))})()})}#L(){const e=this.#l.getQueryCache().build(this.#l,this.options);if(e===this.#w)return;const t=this.#w;this.#w=e,this.#k=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#O()}#V(e){C.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#S)})),this.#l.getQueryCache().notify({query:this.#w,type:"observerResultsUpdated"})}))}};function Q_(e,t){return function(e,t){return!1!==l(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Y_(e,t,t.refetchOnMount)}function Y_(e,t,n){if(!1!==l(t.enabled,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&J_(e,t)}return!1}function X_(e,t,n,r){return(e!==t||!1===l(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&J_(e,n)}function J_(e,t){return!1!==l(t.enabled,e)&&e.isStaleByTime(o(t.staleTime,e))}function Z_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ej=H.createContext(Z_());function tj(e,t){return"function"===typeof e?e(...t):!!e}function nj(){}var rj=H.createContext(!1),ij=(rj.Provider,(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()})));function sj(e,t,n){const i=Q(n),s=H.useContext(rj),a=H.useContext(ej),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"===typeof t?function(){return Math.max(t(...arguments),1e3)}:Math.max(t??1e3,1e3),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(o),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(o,a),(e=>{H.useEffect((()=>{e.clearReset()}),[e])})(a);const l=!i.getQueryCache().get(o.queryHash),[c]=H.useState((()=>new t(i,o))),u=c.getOptimisticResult(o),d=!s&&!1!==e.subscribed;if(H.useSyncExternalStore(H.useCallback((e=>{const t=d?c.subscribe(C.batchCalls(e)):nj;return c.updateResult(),t}),[c,d]),(()=>c.getCurrentResult()),(()=>c.getCurrentResult())),H.useEffect((()=>{c.setOptions(o)}),[o,c]),((e,t)=>e?.suspense&&t.isPending)(o,u))throw ij(o,c,a);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:i,suspense:s}=e;return t.isError&&!n.isReset()&&!t.isFetching&&i&&(s&&void 0===t.data||tj(r,[t.error,i]))})({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!r&&((e,t)=>e.isLoading&&e.isFetching&&!t)(u,s)){const e=l?ij(o,c,a):i.getQueryCache().get(o.queryHash)?.promise;e?.catch(nj).finally((()=>{c.updateResult()}))}return o.notifyOnChangeProps?u:c.trackResult(u)}function aj(e,t){return sj(e,G_,t)}var oj=class extends N{#l;#S=void 0;#z;#B;constructor(e,t){super(),this.#l=e,this.setOptions(t),this.bindMethods(),this.#q()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#l.defaultMutationOptions(e),m(this.options,t)||this.#l.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#z,observer:this}),t?.mutationKey&&this.options.mutationKey&&h(t.mutationKey)!==h(this.options.mutationKey)?this.reset():"pending"===this.#z?.state.status&&this.#z.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#z?.removeObserver(this)}onMutationUpdate(e){this.#q(),this.#V(e)}getCurrentResult(){return this.#S}reset(){this.#z?.removeObserver(this),this.#z=void 0,this.#q(),this.#V()}mutate(e,t){return this.#B=t,this.#z?.removeObserver(this),this.#z=this.#l.getMutationCache().build(this.#l,this.options),this.#z.addObserver(this),this.#z.execute(e)}#q(){const e=this.#z?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#S={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#V(e){C.batch((()=>{if(this.#B&&this.hasListeners()){const t=this.#S.variables,n=this.#S.context;"success"===e?.type?(this.#B.onSuccess?.(e.data,t,n),this.#B.onSettled?.(e.data,null,t,n)):"error"===e?.type&&(this.#B.onError?.(e.error,t,n),this.#B.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach((e=>{e(this.#S)}))}))}};function lj(e,t){const n=Q(t),[r]=H.useState((()=>new oj(n,e)));H.useEffect((()=>{r.setOptions(e)}),[r,e]);const i=H.useSyncExternalStore(H.useCallback((e=>r.subscribe(C.batchCalls(e))),[r]),(()=>r.getCurrentResult()),(()=>r.getCurrentResult())),s=H.useCallback(((e,t)=>{r.mutate(e,t).catch(nj)}),[r]);if(i.error&&tj(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const cj=(0,H.createContext)();function uj(){return(0,H.useContext)(cj)}function dj(e){let{children:t}=e;const[n,r]=(0,H.useState)([]),{currentUser:i,guestId:s,isGuest:a,getEffectiveUserId:o}=ob(),l=Q(),c=o(),[u,d]=(0,H.useState)(a?`guest-${s}`:(null===i||void 0===i?void 0:i.uid)||"anonymous");(0,H.useEffect)((()=>{const e=a?`guest-${s}`:(null===i||void 0===i?void 0:i.uid)||"anonymous";e!==u&&("anonymous"!==u&&l.invalidateQueries(["cart",u]),d(e),r([]),"anonymous"!==e&&l.invalidateQueries(["cart",a?s:null===i||void 0===i?void 0:i.uid]))}),[a,i,s,u,l]);const{data:h,isLoading:f}=aj({queryKey:["cart",c,a],queryFn:async()=>{if(!c)return null;try{const e=await vy(gg(Xv,"carts",c));return e.exists()?e.data().items||[]:null}catch(e){return console.error("Error fetching cart:",e),null}},staleTime:3e5,cacheTime:18e5,enabled:!!c}),p=(0,H.useCallback)((async e=>{if(c)try{await wy(gg(Xv,"carts",c),{userId:c,items:e,updatedAt:(new Date).toISOString(),isGuestCart:a}),a?localStorage.setItem(`guest-cart-${s}`,JSON.stringify(e)):localStorage.setItem(`user-cart-${null===i||void 0===i?void 0:i.uid}`,JSON.stringify(e))}catch(t){console.error("Error saving cart to Firestore:",t),a?localStorage.setItem(`guest-cart-${s}`,JSON.stringify(e)):i?localStorage.setItem(`user-cart-${i.uid}`,JSON.stringify(e)):localStorage.setItem("cart",JSON.stringify(e))}}),[c,a,s,i]),m=lj({mutationFn:p});(0,H.useEffect)((()=>{(async()=>{try{if(c)if(h)r(h);else{let e;if(e=a?localStorage.getItem(`guest-cart-${s}`):i?localStorage.getItem(`user-cart-${i.uid}`):localStorage.getItem("cart"),e){const t=JSON.parse(e);r(t),p(t),a||i||localStorage.removeItem("cart")}else r([])}else{const e=localStorage.getItem("cart");r(e?JSON.parse(e):[])}}catch(e){let t;console.error("Error loading cart:",e),t=a?localStorage.getItem(`guest-cart-${s}`):i?localStorage.getItem(`user-cart-${i.uid}`):localStorage.getItem("cart"),t&&r(JSON.parse(t))}})()}),[c,h,p,a,i,s,u]);const[g,y]=(0,H.useState)(!1);(0,H.useEffect)((()=>{n.length>=0&&g&&(c?m.mutate(n):localStorage.setItem("cart",JSON.stringify(n)),y(!1))}),[n,c,m,g]);const v=n.reduce(((e,t)=>e+t.price*t.quantity),0),b=n.reduce(((e,t)=>e+t.quantity),0),x={cartItems:n,loading:f,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r((n=>{const r=n.findIndex((t=>t.id===e.id));if(r>=0){const i=[...n];return i[r]={...i[r],quantity:i[r].quantity+t,imageUrl:e.imageUrl||i[r].imageUrl},i}return[...n,{id:e.id,name:e.name,price:e.price,imageUrl:e.imageUrl,quantity:t}]})),y(!0)},removeFromCart:e=>{r((t=>t.filter((t=>t.id!==e)))),y(!0)},updateQuantity:(e,t)=>{t<1||(r((n=>n.map((n=>n.id===e?{...n,quantity:t}:n)))),y(!0))},clearCart:()=>{r([]),y(!0)},cartTotal:v,itemCount:b};return(0,K.jsx)(cj.Provider,{value:x,children:t})}const hj=cT("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),fj=cT("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),pj=cT("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),mj=cT("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gj=cT("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),yj=cT("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),vj=cT("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),bj=cT("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xj=cT("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function wj(e){var t,n;let{children:r}=e;const{currentUser:i,logout:s,userRole:a,isAdmin:o,isGuest:l,guestId:c}=ob(),{itemCount:u}=uj(),{theme:d}=kT(),h=Ke(),f=qe(),[p,m]=(0,H.useState)(!1),[g,y]=(0,H.useState)(""),[v,b]=(0,H.useState)(!1),[x,w]=(0,H.useState)(!1);(0,H.useEffect)((()=>{const e=()=>{w(!0)};return window.addEventListener("load",e),()=>window.removeEventListener("load",e)}),[]);const k=async()=>{try{b(!0),w(!1),await s(),window.location.reload()}catch(e){console.error("Failed to log out",e),b(!1),w(!0)}},S=e=>{if(e.preventDefault(),!g.trim())return void h("/shop");const t=new URLSearchParams(f.search),n=new URLSearchParams;if(n.set("search",g.trim()),"/shop"===f.pathname){const e=t.get("category"),r=t.get("minPrice"),i=t.get("maxPrice");e&&n.set("category",e),r&&n.set("minPrice",r),i&&n.set("maxPrice",i)}"/shop"===f.pathname&&t.get("search")===g.trim()?(h("/shop",{replace:!0}),setTimeout((()=>{h(`/shop?${n.toString()}`,{replace:!0})}),10)):h(`/shop?${n.toString()}`)};return(0,H.useEffect)((()=>{if("/shop"===f.pathname){const e=new URLSearchParams(f.search).get("search");y(e||"")}else y("")}),[f.pathname,f.search]),v&&!x?(0,K.jsx)("div",{className:"min-h-screen flex items-center justify-center "+("dark"===d?"bg-black":"bg-white"),children:(0,K.jsx)(vT,{size:"78",speed:"1.4",color:"dark"===d?"white":"black"})}):(0,K.jsxs)("div",{className:"min-h-screen flex flex-col theme-transition "+("dark"===d?"bg-black text-white":"bg-white text-gray-900"),children:[(0,K.jsx)("header",{className:("dark"===d?"bg-gray-800 border-b-2 border-white-800":"bg-white border-b-2 border-gray-800")+" sticky top-0 z-50 theme-transition",children:(0,K.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,K.jsxs)("div",{className:"flex items-center justify-between",children:[(0,K.jsxs)(Yt,{to:"/",onClick:e=>{"/"===f.pathname&&(e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))},className:`text-2xl font-bold ${"dark"===d?"text-white":"text-gray-900"} flex items-center font-poppins theme-transition`,children:[(0,K.jsx)(hj,{className:"h-7 w-7 mr-2 "+("dark"===d?"text-white":"text-gray-900")}),(0,K.jsxs)("span",{children:["SHOP",(0,K.jsx)("span",{className:"dark"===d?"text-gray-400":"text-gray-500",children:"EASE"})]})]}),(0,K.jsxs)("form",{onSubmit:S,className:"hidden md:flex items-center flex-1 max-w-md mx-4",children:[(0,K.jsx)("input",{type:"text",placeholder:"Search products...",className:`w-full px-4 py-2 ${"dark"===d?"bg-black border border-gray-700 text-white":"bg-gray-100 border border-gray-300 text-gray-900"} rounded-[12px] focus:outline-none focus:border-blue-500 transition-all theme-transition`,value:g,onChange:e=>y(e.target.value)}),(0,K.jsx)("button",{type:"submit",className:("dark"===d?"bg-white text-black":"bg-gray-900 text-white")+" px-4 py-2 rounded-[12px] hover:opacity-90 transition-colors ml-2",children:(0,K.jsx)(fj,{className:"h-5 w-5"})})]}),(0,K.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,K.jsx)(Yt,{to:"/",className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" transition-colors font-medium font-inter",children:"Home"}),(0,K.jsx)(Yt,{to:"/shop",className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" transition-colors font-medium font-inter",children:"Shop"}),(0,K.jsxs)(Yt,{to:"/cart",className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" py-2 font-inter flex items-center gap-2",onClick:()=>m(!1),children:[(0,K.jsx)(pj,{className:"h-5 w-5"}),(0,K.jsx)("span",{children:"Cart"}),u>0&&(0,K.jsx)("span",{className:`ml-2 ${"dark"===d?"bg-white text-black":"bg-gray-900 text-white"} text-xs rounded-full h-5 w-5 flex items-center justify-center`,children:u})]}),(0,K.jsx)(NT,{}),i||l?(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsxs)("button",{onClick:()=>m(!p),className:`flex items-center ${"dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"} focus:outline-none`,children:[(0,K.jsx)("div",{className:`h-8 w-8 rounded-full ${"dark"===d?"bg-gray-700":"bg-gray-300"} flex items-center justify-center text-sm font-medium mr-1`,children:l?(0,K.jsx)(fT,{className:"h-4 w-4"}):(null===(t=i.displayName)||void 0===t?void 0:t.charAt(0))||(0,K.jsx)(fT,{className:"h-4 w-4"})}),(0,K.jsx)("span",{className:"font-medium font-inter",children:l?"Guest":(null===(n=i.displayName)||void 0===n?void 0:n.split(" ")[0])||"Account"}),l&&(0,K.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-amber-500 text-black rounded-full",children:"Guest"}),(0,K.jsx)(mj,{className:"h-4 w-4 ml-1"})]}),p&&(0,K.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-[12px] shadow-lg py-1 z-10",children:l?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(Yt,{to:`/login?redirect=${encodeURIComponent(f.pathname+f.search)}`,className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 transition-colors font-inter flex items-center gap-2",onClick:()=>m(!1),children:[(0,K.jsx)(fT,{className:"h-4 w-4"}),"Sign in"]}),(0,K.jsxs)(Yt,{to:`/register?redirect=${encodeURIComponent(f.pathname+f.search)}`,className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 transition-colors font-inter flex items-center gap-2",onClick:()=>m(!1),children:[(0,K.jsx)(gj,{className:"h-4 w-4"}),"Create Account"]})]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(Yt,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 transition-colors font-inter",onClick:()=>m(!1),children:"Profile"}),o&&(0,K.jsx)(Yt,{to:"/admin",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 transition-colors font-inter",onClick:()=>m(!1),children:"Admin Dashboard"}),(0,K.jsx)("button",{onClick:()=>{k(),m(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 transition-colors font-inter",children:"Sign out"})]})})]}):(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(Yt,{to:`/login?redirect=${encodeURIComponent(f.pathname+f.search)}`,className:("dark"===d?"bg-white text-black hover:bg-gray-200":"bg-gray-900 text-white hover:bg-gray-800")+" px-4 py-2 rounded-[12px] transition-colors font-medium font-inter",children:"Sign in"})})]}),(0,K.jsxs)("div",{className:"md:hidden flex items-center",children:[(0,K.jsx)(NT,{}),(0,K.jsx)("button",{className:`ml-3 ${"dark"===d?"text-gray-300":"text-gray-700"} focus:outline-none`,onClick:()=>m(!p),children:p?(0,K.jsx)(UT,{className:"h-6 w-6"}):(0,K.jsx)(yj,{className:"h-6 w-6"})})]})]}),p&&(0,K.jsxs)("div",{className:"md:hidden mt-4 border-t border-gray-800 pt-4",children:[(0,K.jsx)("form",{onSubmit:S,className:"mb-4",children:(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("input",{type:"text",placeholder:"Search products...",className:`w-full px-4 py-2 ${"dark"===d?"bg-black border border-gray-700 text-white":"bg-gray-100 border border-gray-300 text-gray-900"} rounded-[12px] focus:outline-none focus:border-blue-500 transition-all theme-transition`,value:g,onChange:e=>y(e.target.value)}),(0,K.jsx)("button",{type:"submit",className:("dark"===d?"bg-white text-black":"bg-gray-900 text-white")+" px-4 py-2 rounded-[12px] hover:opacity-90 transition-colors ml-2",children:(0,K.jsx)(fj,{className:"h-5 w-5"})})]})}),(0,K.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,K.jsxs)(Yt,{to:"/",className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" py-2 font-inter flex items-center gap-2",onClick:()=>m(!1),children:[(0,K.jsx)(vj,{className:"h-5 w-5"}),"Home"]}),(0,K.jsxs)(Yt,{to:"/shop",className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" py-2 font-inter flex items-center gap-2",onClick:()=>m(!1),children:[(0,K.jsx)(hj,{className:"h-5 w-5"}),"Shop"]}),(0,K.jsxs)(Yt,{to:"/cart",className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" py-2 font-inter flex items-center gap-2",onClick:()=>m(!1),children:[(0,K.jsx)(pj,{className:"h-5 w-5"}),(0,K.jsx)("span",{children:"Cart"}),u>0&&(0,K.jsx)("span",{className:`ml-2 ${"dark"===d?"bg-white text-black":"bg-gray-900 text-white"} text-xs rounded-full h-5 w-5 flex items-center justify-center`,children:u})]}),l&&(0,K.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,K.jsx)(fT,{className:"h-5 w-5 text-amber-500"}),(0,K.jsx)("span",{className:"font-inter",children:"Guest Mode"}),(0,K.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-amber-500 text-black rounded-full font-bold",children:"Guest"})]}),i?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(Yt,{to:"/profile",className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" py-2 font-inter flex items-center gap-2",onClick:()=>m(!1),children:[(0,K.jsx)(fT,{className:"h-5 w-5"}),"Profile"]}),o&&(0,K.jsxs)(Yt,{to:"/admin",className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" py-2 font-inter flex items-center gap-2",onClick:()=>m(!1),children:[(0,K.jsx)(bj,{className:"h-5 w-5"}),"Admin Dashboard"]}),(0,K.jsxs)("button",{onClick:()=>{k(),m(!1)},className:("dark"===d?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900")+" text-left text-sm font-inter flex items-center gap-2",children:[(0,K.jsx)(xj,{className:"h-5 w-5"}),"Sign out"]})]}):!l&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(Yt,{to:`/login?redirect=${encodeURIComponent(f.pathname+f.search)}`,className:("dark"===d?"bg-white text-black hover:bg-gray-200":"bg-gray-900 text-white hover:bg-gray-800")+" px-4 py-2 rounded-[12px] transition-colors font-inter",children:"Sign in"}),(0,K.jsx)(Yt,{to:`/register?redirect=${encodeURIComponent(f.pathname+f.search)}`,className:("dark"===d?"bg-white text-black hover:bg-gray-200":"bg-gray-900 text-white hover:bg-gray-800")+" px-4 py-2 rounded-[12px] transition-colors font-inter",children:"Sign up"})]})]})]})]})}),(0,K.jsx)("main",{className:"flex-1",children:r}),(0,K.jsx)("footer",{className:("dark"===d?"bg-gray-900 border-t border-gray-800 text-white":"bg-gray-100 border-t border-gray-200 text-gray-900")+" py-12 theme-transition",children:(0,K.jsxs)("div",{className:"container mx-auto px-4",children:[(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,K.jsxs)("div",{children:[(0,K.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center font-poppins",children:[(0,K.jsx)(hj,{className:"h-6 w-6 mr-2"}),(0,K.jsxs)("span",{children:["SHOP",(0,K.jsx)("span",{className:"dark"===d?"text-gray-400":"text-gray-500",children:"EASE"})]})]}),(0,K.jsx)("p",{className:"text-gray-400 font-inter",children:"Your one-stop shop for all your needs."})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-xl font-bold mb-4 font-poppins",children:"QUICK LINKS"}),(0,K.jsxs)("ul",{className:"space-y-2",children:[(0,K.jsx)("li",{children:(0,K.jsxs)(Yt,{to:"/",className:("dark"===d?"text-gray-400 hover:text-white":"text-gray-700 hover:text-gray-900")+" transition-colors font-inter flex items-center gap-2",children:[(0,K.jsx)(vj,{className:"h-4 w-4"}),"Home"]})}),(0,K.jsx)("li",{children:(0,K.jsxs)(Yt,{to:"/shop",className:("dark"===d?"text-gray-400 hover:text-white":"text-gray-700 hover:text-gray-900")+" transition-colors font-inter flex items-center gap-2",children:[(0,K.jsx)(hj,{className:"h-4 w-4"}),"Shop"]})}),(0,K.jsx)("li",{children:(0,K.jsxs)(Yt,{to:"/cart",className:("dark"===d?"text-gray-400 hover:text-white":"text-gray-700 hover:text-gray-900")+" transition-colors font-inter flex items-center gap-2",children:[(0,K.jsx)(pj,{className:"h-4 w-4"}),"Cart"]})})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h3",{className:"text-xl font-bold mb-4 font-poppins",children:"CONTACT US"}),(0,K.jsx)("p",{className:"text-gray-400 font-inter",children:"Email: info@shopease.com"}),(0,K.jsx)("p",{className:"text-gray-400 font-inter",children:"Phone: (123) 456-7890"}),(0,K.jsxs)("div",{className:"flex mt-6 space-x-4",children:[(0,K.jsx)("a",{href:"#",className:"h-10 w-10 bg-black rounded-[12px] flex items-center justify-center text-gray-400 hover:text-white transition-colors",children:(0,K.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,K.jsx)("a",{href:"#",className:"h-10 w-10 bg-black rounded-[12px] flex items-center justify-center text-gray-400 hover:text-white transition-colors",children:(0,K.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723 10.054 10.054 0 01-3.127 1.184 4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,K.jsx)("a",{href:"#",className:"h-10 w-10 bg-black rounded-[12px] flex items-center justify-center text-gray-400 hover:text-white transition-colors",children:(0,K.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,K.jsx)("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})})]})]})]}),(0,K.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-800 text-center",children:(0,K.jsx)("p",{className:"text-gray-500 text-sm font-inter",children:"\xa9 2025 ShopEase. All rights reserved."})})]})})]})}const kj=cT("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Sj=cT("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ej=cT("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),Cj=cT("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Nj=cT("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Tj=async()=>{const e=ey(mg(Xv,"products"),ny("featured","==",!0),oy(4));let t=await xy(e);if(t.empty){const e=ey(mg(Xv,"products"),sy("createdAt","desc"),oy(4));t=await xy(e)}return await Promise.all(t.docs.map((async e=>{const t=e.data(),n=await gT(`${t.category} ${t.name}`,{orientation:"horizontal"});return{id:e.id,...t,imageUrl:n}})))},_j=async()=>{const[e,t]=await Promise.all([gT("gaming setup workspace",{orientation:"horizontal"}),gT("gaming pc build",{orientation:"horizontal"})]);return{heroImg:e,showcaseImg:t}};function jj(){const[e,t]=(0,H.useState)(null),{addToCart:n}=uj(),{currentUser:r,isGuest:i}=ob(),{theme:s}=kT(),a="dark"===s,{data:o,isLoading:l}=aj({queryKey:["heroImages"],queryFn:_j,staleTime:36e5,cacheTime:864e5}),[c,u]=(0,H.useState)(""),[d,h]=(0,H.useState)("");(0,H.useEffect)((()=>{o&&(u(o.heroImg),h(o.showcaseImg))}),[o]);const{data:f=[],isLoading:p}=aj({queryKey:["featuredProducts"],queryFn:Tj,staleTime:3e5,cacheTime:18e5}),{data:m=[],isLoading:g}=aj({queryKey:["categories"],queryFn:async()=>{const e=ey(mg(Xv,"categories"),sy("name"));return(await xy(e)).docs.map((e=>({id:e.id,...e.data()})))},staleTime:3e5,cacheTime:18e5}),y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},b=(e,t)=>a?`https://via.placeholder.com/${e}x${t}/1a1a1a/ffffff?text=ShopEase`:`https://via.placeholder.com/${e}x${t}/f5f5f5/333333?text=ShopEase`;return p||g||l?(0,K.jsx)("div",{className:"min-h-screen flex items-center justify-center "+(a?"bg-black":"bg-gray-100"),children:(0,K.jsx)(vT,{size:"100",speed:"1.4",color:a?"white":"#333333"})}):(0,K.jsxs)("div",{className:a?"bg-black text-white":"bg-white text-gray-900",children:[(0,K.jsx)("section",{className:`relative ${"dark"===s?"bg-black":"bg-white"} ${"dark"===s?"border-b-2 border-white":"border-b-2 border-gray-800"}`,children:(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 min-h-[85vh] relative",children:[(0,K.jsxs)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 h-full w-[4px] hidden md:block overflow-hidden",children:[(0,K.jsx)(iT.div,{initial:{y:"-100%"},animate:{y:"100%"},transition:{repeat:1/0,duration:3,ease:"linear"},className:"absolute top-0 w-full h-full "+("dark"===s?"bg-gradient-to-b from-transparent via-white to-transparent":"bg-gradient-to-b from-transparent via-black to-transparent")}),(0,K.jsx)("div",{className:`absolute inset-0 ${"dark"===s?"bg-gray-800":"bg-gray-200"} opacity-20`})]}),(0,K.jsxs)("div",{className:`relative flex items-center justify-center p-8 md:p-12 ${"dark"===s?"bg-black":"bg-white"} overflow-hidden`,children:[(0,K.jsxs)("div",{className:"absolute inset-0",children:[(0,K.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:1e3}).map(((e,t)=>(0,K.jsx)("div",{className:"absolute left-0 right-0 h-0.5 "+("dark"===s?"bg-gradient-to-r from-gray-900 via-gray-900 to-black":"bg-gradient-to-r from-gray-300 via-gray-300 to-white"),style:{top:.8*(t+1)+"%"}},t)))}),(0,K.jsx)(iT.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:.1},transition:{duration:1,delay:.5},className:`absolute top-1/4 left-1/4 w-64 h-64 rounded-full ${"dark"===s?"bg-white":"bg-gray-900"} blur-3xl`}),(0,K.jsx)(iT.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:.1},transition:{duration:1,delay:.7},className:`absolute bottom-1/4 right-1/4 w-64 h-64 rounded-full ${"dark"===s?"bg-white":"bg-gray-900"} blur-3xl`})]}),(0,K.jsx)(iT.div,{initial:"hidden",animate:"visible",variants:v,className:"relative max-w-lg z-20",children:(0,K.jsxs)(iT.div,{variants:y,children:[(0,K.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,K.jsx)("div",{className:"w-12 h-1 "+("dark"===s?"bg-white":"bg-black")}),(0,K.jsx)("span",{className:"text-sm font-medium tracking-widest "+("dark"===s?"text-gray-400":"text-gray-600"),children:"PREMIUM E-COMMERCE"})]}),(0,K.jsxs)("h1",{className:"text-6xl md:text-7xl font-bold mb-6 tracking-tight font-poppins "+("dark"===s?"text-white":"text-black"),children:[(0,K.jsx)("span",{className:"dark"===s?"text-gray-400":"text-gray-600",children:"SHOP"}),(0,K.jsx)("span",{className:"dark"===s?"text-white":"text-black",children:"EASE"})]}),(0,K.jsx)("p",{className:`text-xl mb-8 ${"dark"===s?"text-gray-400":"text-gray-600"} font-inter leading-relaxed`,children:"Your one-stop shop for all your needs. Discover premium products with uncompromising quality."}),(0,K.jsxs)("div",{className:"flex gap-8 mb-8",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("span",{className:"text-3xl font-bold "+("dark"===s?"text-white":"text-black"),children:"10K+"}),(0,K.jsx)("p",{className:"text-sm "+("dark"===s?"text-gray-400":"text-gray-600"),children:"Happy Customers"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("span",{className:"text-3xl font-bold "+("dark"===s?"text-white":"text-black"),children:"500+"}),(0,K.jsx)("p",{className:"text-sm "+("dark"===s?"text-gray-400":"text-gray-600"),children:"Premium Products"})]})]}),(0,K.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,K.jsxs)(Yt,{to:"/shop",className:"group px-8 py-4 rounded-full inline-flex items-center transition-all duration-300 font-sans font-bold "+("dark"===s?"bg-white text-black hover:bg-gray-200":"bg-black text-white hover:bg-gray-800"),children:["Shop Now",(0,K.jsx)(kj,{className:"ml-2 h-5 w-5 transform group-hover:translate-x-1 transition-transform"})]}),(0,K.jsxs)(Yt,{to:"/shop",className:"group px-8 py-4 rounded-full inline-flex items-center transition-all duration-300 font-sans font-bold border-2 "+("dark"===s?"border-white text-white hover:bg-white hover:text-black":"border-black text-black hover:bg-black hover:text-white"),children:["Explore Categories",(0,K.jsx)(kj,{className:"ml-2 h-5 w-5 transform group-hover:translate-x-1 transition-transform"})]})]})]})})]}),(0,K.jsxs)("div",{className:"relative hidden md:block",children:[(0,K.jsx)("div",{className:`absolute inset-0 ${"dark"===s?"opacity-90":"opacity-100"} bg-cover bg-center`,style:{backgroundImage:`url(${c})`,maskImage:"linear-gradient(to left, rgba(0,0,0,1) 20%, transparent 100%)",WebkitMaskImage:"linear-gradient(to left, rgba(0,0,0,1) 20%, transparent 100%)"}}),(0,K.jsx)("div",{className:`absolute inset-0 ${"dark"===s?"bg-black":"bg-white"} ${"dark"===s?"opacity-20":"opacity-30"}`})]})]})}),(0,K.jsx)("section",{className:`${a?"py-20 bg-gray-900":"py-20 bg-gray-100"} ${a?"":"border-b-2 border-gray-800"}`,children:(0,K.jsxs)("div",{className:"container mx-auto px-4",children:[(0,K.jsxs)(iT.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[(0,K.jsx)("h2",{className:"text-3xl font-bold mb-2 text-center font-poppins",children:"FEATURED PRODUCTS"}),(0,K.jsx)("div",{className:`w-24 h-1 ${a?"bg-white":"bg-gray-900"} mx-auto`})]}),0===f.length?(0,K.jsx)("p",{className:`text-center ${a?"text-gray-400":"text-gray-600"} font-inter`,children:"No products available"}):(0,K.jsx)(iT.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:v,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map((s=>(0,K.jsxs)(iT.div,{variants:y,className:(a?"bg-black border-gray-800 hover:border-gray-600":"bg-white border-gray-900 hover:border-gray-400")+" border rounded-[12px] overflow-hidden duration-300 group",children:[(0,K.jsx)("div",{className:"h-48 overflow-hidden",children:(0,K.jsx)(Yt,{to:`/product/${s.id}`,children:(0,K.jsx)("img",{src:s.imageUrl||b(400,300),alt:s.name,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"})})}),(0,K.jsxs)("div",{className:"p-6",children:[(0,K.jsx)("h3",{className:"text-xl font-bold mb-2 tracking-tight font-poppins",children:s.name}),(0,K.jsxs)("p",{className:"text-2xl font-bold mb-4 "+(a?"text-white":"text-gray-900"),children:["$",s.price.toFixed(2)]}),(0,K.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,K.jsxs)(Yt,{to:`/product/${s.id}`,className:`w-full bg-transparent ${a?"border-white text-white hover:bg-white hover:text-black":"border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white"} border px-4 py-2 rounded-[12px] transition-colors flex items-center justify-center gap-2 font-inter font-bold`,children:["View Details",(0,K.jsx)(kj,{size:16})]}),r||i?(0,K.jsx)("button",{onClick:()=>(e=>{n(e,1),t(e.id),setTimeout((()=>{t(null)}),3e3)})(s),className:"w-full h-full px-4 py-2 rounded-[12px] transition-colors flex items-center justify-center gap-2 font-inter "+(e===s.id?"bg-green-600 text-white":a?"bg-white text-black hover:bg-gray-200":"bg-gray-900 text-white hover:bg-gray-800"),disabled:e===s.id,children:e===s.id?(0,K.jsxs)(K.Fragment,{children:["Added to Cart",(0,K.jsx)(Sj,{size:16})]}):(0,K.jsxs)(K.Fragment,{children:["Add to Cart",(0,K.jsx)(hj,{size:16})]})}):(0,K.jsxs)(Yt,{to:"/login",className:`w-full ${a?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"} px-4 py-2 rounded-[12px] transition-colors flex items-center justify-center gap-2 font-inter font-bold`,children:["Sign in to add to cart",(0,K.jsx)(kj,{size:16})]})]})]})]},s.id)))}),(0,K.jsx)(iT.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"text-center mt-12",children:(0,K.jsxs)(Yt,{to:"/shop",className:`group bg-transparent border-2 ${a?"border-white text-white hover:bg-white hover:text-black":"border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white"} px-8 py-3 rounded-[12px] font-bold font-inter inline-flex items-center transition-all duration-300`,children:["View All Products",(0,K.jsx)(kj,{className:"ml-2 h-5 w-5 transform group-hover:translate-x-1 transition-transform"})]})})]})}),(0,K.jsx)("section",{className:`${a?"py-20 bg-black":"py-20 bg-white"} ${a?"":"border-b-2 border-gray-800"}`,children:(0,K.jsxs)("div",{className:"container mx-auto px-4",children:[(0,K.jsxs)(iT.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-12",children:[(0,K.jsx)("h2",{className:"text-3xl font-bold mb-2 text-center font-poppins",children:"SHOP BY CATEGORY"}),(0,K.jsx)("div",{className:`w-24 h-1 ${a?"bg-white":"bg-gray-900"} mx-auto`})]}),0===m.length?(0,K.jsx)("p",{className:`text-center ${a?"text-gray-400":"text-gray-600"} font-inter`,children:"No categories available"}):(0,K.jsx)(iT.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:v,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:m.map((e=>(0,K.jsx)(iT.div,{variants:y,children:(0,K.jsxs)(Yt,{to:`/shop?category=${e.id}`,className:(a?"bg-gray-900 border-gray-800 hover:border-gray-600":"bg-gray-100 border-gray-900 hover:border-gray-400")+" border rounded-[12px] p-8 text-center block transition-all duration-300 group",children:[(0,K.jsx)("div",{className:`h-16 w-16 ${a?"bg-black":"bg-white"} rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300`,children:(0,K.jsx)(Ej,{className:"h-8 w-8 "+(a?"text-white":"text-gray-900")})}),(0,K.jsx)("h3",{className:"text-xl font-bold mb-2 tracking-tight font-poppins",children:e.name}),(0,K.jsx)("p",{className:a?"text-gray-400 text-sm font-inter":"text-gray-600 text-sm font-inter",children:e.description||"Browse products"}),(0,K.jsxs)("div",{className:`mt-4 ${a?"text-white":"text-gray-900"} opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center`,children:[(0,K.jsx)("span",{className:"text-sm",children:"Explore"}),(0,K.jsx)(kj,{className:"h-4 w-4 ml-1"})]})]})},e.id)))})]})}),(0,K.jsx)("section",{className:`\n          ${a?"py-20 bg-gradient-to-b from-gray-900 to-black":"py-20 bg-gradient-to-b from-gray-100 to-white"}\n          ${a?"":"border-b-2 border-gray-800"}\n        `,children:(0,K.jsxs)("div",{className:"container mx-auto px-4",children:[(0,K.jsxs)(iT.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-12",children:[(0,K.jsx)("h2",{className:"text-3xl font-bold mb-2 text-center font-poppins",children:"WHY CHOOSE US"}),(0,K.jsx)("div",{className:`w-24 h-1 ${a?"bg-white":"bg-gray-900"} mx-auto`})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ",children:[(0,K.jsxs)(iT.div,{variants:y,className:(a?"bg-gray-900 border-gray-800 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-400")+" border p-6 rounded-[12px] transition-colors",children:[(0,K.jsx)(hj,{className:"h-12 w-12 mb-4 "+(a?"text-white":"text-gray-900")}),(0,K.jsx)("h3",{className:"text-xl font-bold mb-2 font-poppins",children:"Premium Quality"}),(0,K.jsx)("p",{className:a?"text-gray-400 font-inter":"text-gray-600 font-inter",children:"Handpicked products with exceptional quality and design."})]}),(0,K.jsxs)(iT.div,{variants:y,className:(a?"bg-gray-900 border-gray-800 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-400")+" border p-6 rounded-[12px] transition-colors",children:[(0,K.jsx)(Cj,{className:"h-12 w-12 mb-4 "+(a?"text-white":"text-gray-900")}),(0,K.jsx)("h3",{className:"text-xl font-bold mb-2 font-poppins",children:"Fast Delivery"}),(0,K.jsx)("p",{className:a?"text-gray-400 font-inter":"text-gray-600 font-inter",children:"Get your products delivered quickly and reliably."})]}),(0,K.jsxs)(iT.div,{variants:y,className:(a?"bg-gray-900 border-gray-800 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-400")+" border p-6 rounded-[12px] transition-colors",children:[(0,K.jsx)(Nj,{className:"h-12 w-12 mb-4 "+(a?"text-white":"text-gray-900")}),(0,K.jsx)("h3",{className:"text-xl font-bold mb-2 font-poppins",children:"Secure Payments"}),(0,K.jsx)("p",{className:a?"text-gray-400 font-inter":"text-gray-600 font-inter",children:"Your transactions are protected with top security measures."})]}),(0,K.jsxs)(iT.div,{variants:y,className:(a?"bg-gray-900 border-gray-800 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-400")+" border p-6 rounded-[12px] transition-colors",children:[(0,K.jsx)(Ej,{className:"h-12 w-12 mb-4 "+(a?"text-white":"text-gray-900")}),(0,K.jsx)("h3",{className:"text-xl font-bold mb-2 font-poppins",children:"Easy Returns"}),(0,K.jsx)("p",{className:a?"text-gray-400 font-inter":"text-gray-600 font-inter",children:"Not satisfied? Return your products hassle-free."})]})]})]})}),(0,K.jsx)("section",{className:a?"bg-black text-white py-20":"bg-white text-gray-900 py-20",children:(0,K.jsx)("div",{className:"container mx-auto px-4",children:(0,K.jsx)("div",{className:"max-w-3xl mx-auto text-center",children:(0,K.jsxs)(iT.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:v,children:[(0,K.jsx)(iT.h2,{variants:y,className:"text-3xl md:text-4xl font-bold mb-6 font-poppins",children:"Subscribe to Our Newsletter"}),(0,K.jsx)(iT.p,{variants:y,className:a?"text-gray-400 mb-8 font-inter":"text-gray-600 mb-8 font-inter",children:"Stay updated with our latest products, promotions, and design inspiration delivered straight to your inbox."}),(0,K.jsx)(iT.div,{variants:y,children:(0,K.jsxs)("form",{className:"flex flex-col md:flex-row items-stretch gap-3 mt-6",children:[(0,K.jsx)("input",{type:"email",placeholder:"Enter your email",className:(a?"bg-black border-gray-800 text-white focus:border-white":"bg-white border-gray-300 text-gray-900 focus:border-gray-900")+" border px-4 py-3 rounded-[12px] focus:outline-none flex-grow"}),(0,K.jsxs)("button",{className:(a?"bg-white text-black hover:bg-gray-200":"bg-gray-900 text-white hover:bg-gray-800")+" px-6 py-3 rounded-[12px] transition-colors inline-flex items-center gap-2 whitespace-nowrap",children:["Subscribe",(0,K.jsx)(kj,{size:16})]})]})})]})})})})]})}const Ij=cT("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);function Pj(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Pj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Aj=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Pj(e))&&(r&&(r+=" "),r+=t);return r};function Rj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const s=e[i];let a="",o=!0;for(let e=0;e<s.length;e+=1){const r=s[e];r&&(a+=(!0===o?"":" ")+t(r),o=!1,n&&n[r]&&(a+=" "+n[r]))}r[i]=a}return r}function Oj(e){const t=new URL(`https://mui.com/production-error/?code=${e}`);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),`Minified MUI error #${e}; visit ${t} for the full message.`}const Dj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function Mj(e){return Dj(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Lj(e){if(e.type)return e;if("#"===e.charAt(0))return Lj(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Oj(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Oj(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const Fj=(e,t)=>{try{return(e=>{const t=Lj(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?`${e}%`:e)).join(" ")})(e)}catch(n){return e}};function Uj(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=t.includes("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function $j(e){e=Lj(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)};let o="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(o+="a",l.push(t[3])),Uj({type:o,values:l})}function Vj(e){let t="hsl"===(e=Lj(e)).type||"hsla"===e.type?Lj($j(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function zj(e,t){return e=Lj(e),t=Mj(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,Uj(e)}function Bj(e,t,n){try{return zj(e,t)}catch(r){return e}}function qj(e,t){if(e=Lj(e),t=Mj(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Uj(e)}function Hj(e,t,n){try{return qj(e,t)}catch(r){return e}}function Wj(e,t){if(e=Lj(e),t=Mj(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Uj(e)}function Kj(e,t,n){try{return Wj(e,t)}catch(r){return e}}function Gj(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return Vj(e)>.5?qj(e,t):Wj(e,t)}(e,t)}catch(r){return e}}const Qj=H.createContext();function Yj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=H.useRef(void 0),i=H.useCallback((e=>{const n=t.map((t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}}));return()=>{n.forEach((e=>e?.()))}}),t);return H.useMemo((()=>t.every((e=>null==e))?null:e=>{r.current&&(r.current(),r.current=void 0),null!=e&&(r.current=i(e))}),t)}const Xj=function(e){return"string"===typeof e};const Jj=function(e,t,n){return void 0===e||Xj(e)?t:{...t,ownerState:{...t.ownerState,...n}}};const Zj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const eI=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const tI=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const e=Aj(n?.className,s,i?.className,r?.className),t={...n?.style,...i?.style,...r?.style},a={...n,...i,...r};return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=Zj({...i,...r}),o=eI(r),l=eI(i),c=t(a),u=Aj(c?.className,n?.className,s,i?.className,r?.className),d={...c?.style,...n?.style,...i?.style,...r?.style},h={...c,...n,...l,...o};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};const nI=function(e,t,n){return"function"===typeof e?e(t,n):e};const rI=function(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=e,a=i?{}:nI(n,r),{props:o,internalRef:l}=tI({...s,externalSlotProps:a}),c=Yj(l,a?.ref,e.additionalProps?.ref);return Jj(t,{...o,ref:c},r)};function iI(e){return e&&e.ownerDocument||document}function sI(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const aI="undefined"!==typeof window?H.useLayoutEffect:H.useEffect;const oI=function(e){const t=H.useRef(e);return aI((()=>{t.current=e})),H.useRef((function(){return(0,t.current)(...arguments)})).current},lI={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};const cI=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))};function uI(e,t,n,r,i){return 1===n?Math.min(e+t,i):Math.max(e-t,r)}function dI(e,t){return e-t}function hI(e,t){const{index:n}=e.reduce(((e,n,r)=>{const i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null)??{};return n}function fI(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function pI(e,t,n){return 100*(e-t)/(n-t)}function mI(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function gI(e){let{values:t,newValue:n,index:r}=e;const i=t.slice();return i[r]=n,i.sort(dI)}function yI(e){let{sliderRef:t,activeIndex:n,setActive:r}=e;const i=iI(t.current);t.current?.contains(i.activeElement)&&Number(i?.activeElement?.getAttribute("data-index"))===n||t.current?.querySelector(`[type="range"][data-index="${n}"]`).focus(),r&&r(n)}function vI(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&cI(e,t)}const bI={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},xI=e=>e;let wI;function kI(){return void 0===wI&&(wI="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),wI}function SI(e){const{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:s=!1,marks:a=!1,max:o=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:h="horizontal",rootRef:f,scale:p=xI,step:m=1,shiftStep:g=10,tabIndex:y,value:v}=e,b=H.useRef(void 0),[x,w]=H.useState(-1),[k,S]=H.useState(-1),[E,C]=H.useState(!1),N=H.useRef(0),T=H.useRef(null),[_,j]=function(e){let{controlled:t,default:n,name:r,state:i="value"}=e;const{current:s}=H.useRef(void 0!==t),[a,o]=H.useState(n);return[s?t:a,H.useCallback((e=>{s||o(e)}),[])]}({controlled:v,default:n??l,name:"Slider"}),I=u&&((e,t,n)=>{const r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:c}}),T.current=t,u(i,t,n)}),P=Array.isArray(_);let A=P?_.slice().sort(dI):[_];A=A.map((e=>null==e?l:Dj(e,l,o)));const R=!0===a&&null!==m?[...Array(Math.floor((o-l)/m)+1)].map(((e,t)=>({value:l+m*t}))):a||[],O=R.map((e=>e.value)),[D,M]=H.useState(-1),L=H.useRef(null),F=Yj(f,L),U=e=>t=>{const n=Number(t.currentTarget.getAttribute("data-index"));sI(t.target)&&M(n),S(n),e?.onFocus?.(t)},$=e=>t=>{sI(t.target)||M(-1),S(-1),e?.onBlur?.(t)},V=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=A[n],s=O.indexOf(r);let a=t;if(R&&null==m){const e=O[O.length-1];a=a>=e?e:a<=O[0]?O[0]:a<r?O[s-1]:O[s+1]}if(a=Dj(a,l,o),P){i&&(a=Dj(a,A[n-1]||-1/0,A[n+1]||1/0));const e=a;a=gI({values:A,newValue:a,index:n});let t=n;i||(t=a.indexOf(e)),yI({sliderRef:L,activeIndex:t})}j(a),M(n),I&&!vI(a,_)&&I(e,a,n),d&&d(e,T.current??a)},z=e=>t=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(t.key)){t.preventDefault();const e=Number(t.currentTarget.getAttribute("data-index")),n=A[e];let r=null;if(null!=m){const e=t.shiftKey?g:m;switch(t.key){case"ArrowUp":r=uI(n,e,1,l,o);break;case"ArrowRight":r=uI(n,e,s?-1:1,l,o);break;case"ArrowDown":r=uI(n,e,-1,l,o);break;case"ArrowLeft":r=uI(n,e,s?1:-1,l,o);break;case"PageUp":r=uI(n,g,1,l,o);break;case"PageDown":r=uI(n,g,-1,l,o);break;case"Home":r=l;break;case"End":r=o}}else if(R){const e=O[O.length-1],i=O.indexOf(n),a=[s?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];[s?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"].includes(t.key)?r=0===i?O[0]:O[i-1]:a.includes(t.key)&&(r=i===O.length-1?e:O[i+1])}null!=r&&V(t,r)}e?.onKeyDown?.(t)};aI((()=>{r&&L.current.contains(document.activeElement)&&document.activeElement?.blur()}),[r]),r&&-1!==x&&w(-1),r&&-1!==D&&M(-1);const B=H.useRef(void 0);let q=h;s&&"horizontal"===h&&(q+="-reverse");const W=e=>{let{finger:t,move:n=!1}=e;const{current:r}=L,{width:s,height:a,bottom:c,left:u}=r.getBoundingClientRect();let d,h;if(d=q.startsWith("vertical")?(c-t.y)/a:(t.x-u)/s,q.includes("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,l,o),m)h=mI(h,m,l);else{const e=hI(O,h);h=O[e]}h=Dj(h,l,o);let f=0;if(P){f=n?B.current:hI(A,h),i&&(h=Dj(h,A[f-1]||-1/0,A[f+1]||1/0));const e=h;h=gI({values:A,newValue:h,index:f}),i&&n||(f=h.indexOf(e),B.current=f)}return{newValue:h,activeIndex:f}},K=oI((e=>{const t=fI(e,b);if(!t)return;if(N.current+=1,"mousemove"===e.type&&0===e.buttons)return void G(e);const{newValue:n,activeIndex:r}=W({finger:t,move:!0});yI({sliderRef:L,activeIndex:r,setActive:w}),j(n),!E&&N.current>2&&C(!0),I&&!vI(n,_)&&I(e,n,r)})),G=oI((e=>{const t=fI(e,b);if(C(!1),!t)return;const{newValue:n}=W({finger:t,move:!0});w(-1),"touchend"===e.type&&S(-1),d&&d(e,T.current??n),b.current=void 0,Y()})),Q=oI((e=>{if(r)return;kI()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(b.current=t.identifier);const n=fI(e,b);if(!1!==n){const{newValue:t,activeIndex:r}=W({finger:n});yI({sliderRef:L,activeIndex:r,setActive:w}),j(t),I&&!vI(t,_)&&I(e,t,r)}N.current=0;const i=iI(L.current);i.addEventListener("touchmove",K,{passive:!0}),i.addEventListener("touchend",G,{passive:!0})})),Y=H.useCallback((()=>{const e=iI(L.current);e.removeEventListener("mousemove",K),e.removeEventListener("mouseup",G),e.removeEventListener("touchmove",K),e.removeEventListener("touchend",G)}),[G,K]);H.useEffect((()=>{const{current:e}=L;return e.addEventListener("touchstart",Q,{passive:kI()}),()=>{e.removeEventListener("touchstart",Q),Y()}}),[Y,Q]),H.useEffect((()=>{r&&Y()}),[r,Y]);const X=pI(P?A[0]:l,l,o),J=pI(A[A.length-1],l,o)-X,Z=e=>t=>{e.onMouseLeave?.(t),S(-1)};let ee;"vertical"===h&&(ee=s?"vertical-rl":"vertical-lr");return{active:x,axis:q,axisProps:bI,dragging:E,focusedThumbIndex:D,getHiddenInputProps:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=Zj(n),a={onChange:(u=i||{},e=>{u.onChange?.(e),V(e,e.target.valueAsNumber)}),onFocus:U(i||{}),onBlur:$(i||{}),onKeyDown:z(i||{})};var u;const d={...i,...a};return{tabIndex:y,"aria-labelledby":t,"aria-orientation":h,"aria-valuemax":p(o),"aria-valuemin":p(l),name:c,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":e.step??void 0,disabled:r,...n,...d,style:{...lI,direction:s?"rtl":"ltr",width:"100%",height:"100%",writingMode:ee}}},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Zj(e),n={onMouseDown:(i=t||{},e=>{if(i.onMouseDown?.(e),r)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const t=fI(e,b);if(!1!==t){const{newValue:n,activeIndex:r}=W({finger:t});yI({sliderRef:L,activeIndex:r,setActive:w}),j(n),I&&!vI(n,_)&&I(e,n,r)}N.current=0;const n=iI(L.current);n.addEventListener("mousemove",K,{passive:!0}),n.addEventListener("mouseup",G)})};var i;const s={...t,...n};return{...e,ref:F,...s}},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Zj(e),n={onMouseOver:(r=t||{},e=>{r.onMouseOver?.(e);const t=Number(e.currentTarget.getAttribute("data-index"));S(t)}),onMouseLeave:Z(t||{})};var r;return{...e,...t,...n}},marks:R,open:k,range:P,rootRef:F,trackLeap:J,trackOffset:X,values:A,getThumbStyle:e=>({pointerEvents:-1!==x&&x!==e?"none":void 0})}}const EI=function(e){return"string"===typeof e};function CI(){return CI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CI.apply(null,arguments)}var NI=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(NL){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),TI=Math.abs,_I=String.fromCharCode,jI=Object.assign;function II(e){return e.trim()}function PI(e,t,n){return e.replace(t,n)}function AI(e,t){return e.indexOf(t)}function RI(e,t){return 0|e.charCodeAt(t)}function OI(e,t,n){return e.slice(t,n)}function DI(e){return e.length}function MI(e){return e.length}function LI(e,t){return t.push(e),e}var FI=1,UI=1,$I=0,VI=0,zI=0,BI="";function qI(e,t,n,r,i,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:FI,column:UI,length:a,return:""}}function HI(e,t){return jI(qI("",null,null,"",null,null,0),e,{length:-e.length},t)}function WI(){return zI=VI>0?RI(BI,--VI):0,UI--,10===zI&&(UI=1,FI--),zI}function KI(){return zI=VI<$I?RI(BI,VI++):0,UI++,10===zI&&(UI=1,FI++),zI}function GI(){return RI(BI,VI)}function QI(){return VI}function YI(e,t){return OI(BI,e,t)}function XI(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JI(e){return FI=UI=1,$I=DI(BI=e),VI=0,[]}function ZI(e){return BI="",e}function eP(e){return II(YI(VI-1,rP(91===e?e+2:40===e?e+1:e)))}function tP(e){for(;(zI=GI())&&zI<33;)KI();return XI(e)>2||XI(zI)>3?"":" "}function nP(e,t){for(;--t&&KI()&&!(zI<48||zI>102||zI>57&&zI<65||zI>70&&zI<97););return YI(e,QI()+(t<6&&32==GI()&&32==KI()))}function rP(e){for(;KI();)switch(zI){case e:return VI;case 34:case 39:34!==e&&39!==e&&rP(zI);break;case 40:41===e&&rP(e);break;case 92:KI()}return VI}function iP(e,t){for(;KI()&&e+zI!==57&&(e+zI!==84||47!==GI()););return"/*"+YI(t,VI-1)+"*"+_I(47===e?e:KI())}function sP(e){for(;!XI(GI());)KI();return YI(e,VI)}var aP="-ms-",oP="-moz-",lP="-webkit-",cP="comm",uP="rule",dP="decl",hP="@keyframes";function fP(e,t){for(var n="",r=MI(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function pP(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case dP:return e.return=e.return||e.value;case cP:return"";case hP:return e.return=e.value+"{"+fP(e.children,r)+"}";case uP:e.value=e.props.join(",")}return DI(n=fP(e.children,r))?e.return=e.value+"{"+n+"}":""}function mP(e){return function(t){t.root||(t=t.return)&&e(t)}}function gP(e){return ZI(yP("",null,null,null,[""],e=JI(e),0,[0],e))}function yP(e,t,n,r,i,s,a,o,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,m=1,g=1,y=1,v=0,b="",x=i,w=s,k=r,S=b;g;)switch(p=v,v=KI()){case 40:if(108!=p&&58==RI(S,d-1)){-1!=AI(S+=PI(eP(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=eP(v);break;case 9:case 10:case 13:case 32:S+=tP(p);break;case 92:S+=nP(QI()-1,7);continue;case 47:switch(GI()){case 42:case 47:LI(bP(iP(KI(),QI()),t,n),l);break;default:S+="/"}break;case 123*m:o[c++]=DI(S)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(S=PI(S,/\f/g,"")),f>0&&DI(S)-d&&LI(f>32?xP(S+";",r,n,d-1):xP(PI(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(LI(k=vP(S,t,n,c,u,i,o,b,x=[],w=[],d),s),123===v)if(0===u)yP(S,t,k,k,x,s,d,o,w);else switch(99===h&&110===RI(S,3)?100:h){case 100:case 108:case 109:case 115:yP(e,k,k,r&&LI(vP(e,k,k,0,0,i,o,b,i,x=[],d),w),i,w,d,o,r?x:w);break;default:yP(S,k,k,k,[""],w,0,o,w)}}c=u=f=0,m=y=1,b=S="",d=a;break;case 58:d=1+DI(S),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==WI())continue;switch(S+=_I(v),v*m){case 38:y=u>0?1:(S+="\f",-1);break;case 44:o[c++]=(DI(S)-1)*y,y=1;break;case 64:45===GI()&&(S+=eP(KI())),h=GI(),u=d=DI(b=S+=sP(QI())),v++;break;case 45:45===p&&2==DI(S)&&(m=0)}}return s}function vP(e,t,n,r,i,s,a,o,l,c,u){for(var d=i-1,h=0===i?s:[""],f=MI(h),p=0,m=0,g=0;p<r;++p)for(var y=0,v=OI(e,d+1,d=TI(m=a[p])),b=e;y<f;++y)(b=II(m>0?h[y]+" "+v:PI(v,/&\f/g,h[y])))&&(l[g++]=b);return qI(e,t,n,0===i?uP:o,l,c,u)}function bP(e,t,n){return qI(e,t,n,cP,_I(zI),OI(e,2,-2),0)}function xP(e,t,n,r){return qI(e,t,n,dP,OI(e,0,r),OI(e,r+1,-1),r)}var wP=function(e,t,n){for(var r=0,i=0;r=i,i=GI(),38===r&&12===i&&(t[n]=1),!XI(i);)KI();return YI(e,VI)},kP=function(e,t){return ZI(function(e,t){var n=-1,r=44;do{switch(XI(r)){case 0:38===r&&12===GI()&&(t[n]=1),e[n]+=wP(VI-1,t,n);break;case 2:e[n]+=eP(r);break;case 4:if(44===r){e[++n]=58===GI()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=_I(r)}}while(r=KI());return e}(JI(e),t))},SP=new WeakMap,EP=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||SP.get(n))&&!r){SP.set(e,!0);for(var i=[],s=kP(t,i),a=n.props,o=0,l=0;o<s.length;o++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[o]?s[o].replace(/&\f/g,a[c]):a[c]+" "+s[o]}}},CP=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function NP(e,t){switch(function(e,t){return 45^RI(e,0)?(((t<<2^RI(e,0))<<2^RI(e,1))<<2^RI(e,2))<<2^RI(e,3):0}(e,t)){case 5103:return lP+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lP+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return lP+e+oP+e+aP+e+e;case 6828:case 4268:return lP+e+aP+e+e;case 6165:return lP+e+aP+"flex-"+e+e;case 5187:return lP+e+PI(e,/(\w+).+(:[^]+)/,lP+"box-$1$2"+aP+"flex-$1$2")+e;case 5443:return lP+e+aP+"flex-item-"+PI(e,/flex-|-self/,"")+e;case 4675:return lP+e+aP+"flex-line-pack"+PI(e,/align-content|flex-|-self/,"")+e;case 5548:return lP+e+aP+PI(e,"shrink","negative")+e;case 5292:return lP+e+aP+PI(e,"basis","preferred-size")+e;case 6060:return lP+"box-"+PI(e,"-grow","")+lP+e+aP+PI(e,"grow","positive")+e;case 4554:return lP+PI(e,/([^-])(transform)/g,"$1"+lP+"$2")+e;case 6187:return PI(PI(PI(e,/(zoom-|grab)/,lP+"$1"),/(image-set)/,lP+"$1"),e,"")+e;case 5495:case 3959:return PI(e,/(image-set\([^]*)/,lP+"$1$`$1");case 4968:return PI(PI(e,/(.+:)(flex-)?(.*)/,lP+"box-pack:$3"+aP+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lP+e+e;case 4095:case 3583:case 4068:case 2532:return PI(e,/(.+)-inline(.+)/,lP+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(DI(e)-1-t>6)switch(RI(e,t+1)){case 109:if(45!==RI(e,t+4))break;case 102:return PI(e,/(.+:)(.+)-([^]+)/,"$1"+lP+"$2-$3$1"+oP+(108==RI(e,t+3)?"$3":"$2-$3"))+e;case 115:return~AI(e,"stretch")?NP(PI(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==RI(e,t+1))break;case 6444:switch(RI(e,DI(e)-3-(~AI(e,"!important")&&10))){case 107:return PI(e,":",":"+lP)+e;case 101:return PI(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lP+(45===RI(e,14)?"inline-":"")+"box$3$1"+lP+"$2$3$1"+aP+"$2box$3")+e}break;case 5936:switch(RI(e,t+11)){case 114:return lP+e+aP+PI(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return lP+e+aP+PI(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return lP+e+aP+PI(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return lP+e+aP+e+e}return e}var TP=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case dP:e.return=NP(e.value,e.length);break;case hP:return fP([HI(e,{value:PI(e.value,"@","@"+lP)})],r);case uP:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fP([HI(e,{props:[PI(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return fP([HI(e,{props:[PI(t,/:(plac\w+)/,":"+lP+"input-$1")]}),HI(e,{props:[PI(t,/:(plac\w+)/,":-moz-$1")]}),HI(e,{props:[PI(t,/:(plac\w+)/,aP+"input-$1")]})],r)}return""}))}}],_P=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,s=e.stylisPlugins||TP,a={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;o.push(e)}));var l,c=[EP,CP],u=[pP,mP((function(e){l.insert(e)}))],d=function(e){var t=MI(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}(c.concat(s,u));i=function(e,t,n,r){l=n,function(e){fP(gP(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new NI({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return h.sheet.hydrate(o),h};function jP(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var IP=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},PP=function(e,t,n){IP(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var AP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function RP(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var OP=/[A-Z]|^ms/g,DP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,MP=function(e){return 45===e.charCodeAt(1)},LP=function(e){return null!=e&&"boolean"!==typeof e},FP=RP((function(e){return MP(e)?e:e.replace(OP,"-$&").toLowerCase()})),UP=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(DP,(function(e,t,n){return VP={name:t,styles:n,next:VP},t}))}return 1===AP[e]||MP(e)||"number"!==typeof t||0===t?t:t+"px"};function $P(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return VP={name:i.name,styles:i.styles,next:VP},i.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)VP={name:a.name,styles:a.styles,next:VP},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$P(e,t,n[i])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var o=a;null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":LP(o)&&(r+=FP(s)+":"+UP(s,o)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=$P(e,t,a);switch(s){case"animation":case"animationName":r+=FP(s)+":"+l+";";break;default:r+=s+"{"+l+"}"}}else for(var c=0;c<a.length;c++)LP(a[c])&&(r+=FP(s)+":"+UP(s,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=VP,l=n(e);return VP=o,$P(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var VP,zP=/label:\s*([^\s;{]+)\s*(;|$)/g;function BP(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";VP=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=$P(n,t,s)):i+=s[0];for(var a=1;a<e.length;a++){if(i+=$P(n,t,e[a]),r)i+=s[a]}zP.lastIndex=0;for(var o,l="";null!==(o=zP.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:VP}}var qP=!!W.useInsertionEffect&&W.useInsertionEffect,HP=qP||function(e){return e()},WP=(qP||H.useLayoutEffect,H.createContext("undefined"!==typeof HTMLElement?_P({key:"css"}):null)),KP=(WP.Provider,function(e){return(0,H.forwardRef)((function(t,n){var r=(0,H.useContext)(WP);return e(t,r,n)}))}),GP=H.createContext({});var QP={}.hasOwnProperty,YP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",XP=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return IP(t,n,r),HP((function(){return PP(t,n,r)})),null},JP=KP((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[YP],s=[r],a="";"string"===typeof e.className?a=jP(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var o=BP(s,void 0,H.useContext(GP));a+=t.key+"-"+o.name;var l={};for(var c in e)QP.call(e,c)&&"css"!==c&&c!==YP&&(l[c]=e[c]);return l.className=a,n&&(l.ref=n),H.createElement(H.Fragment,null,H.createElement(XP,{cache:t,serialized:o,isStringTag:"string"===typeof i}),H.createElement(i,l))})),ZP=JP;function eA(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var tA=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nA=eA((function(e){return tA.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),rA=function(e){return"theme"!==e},iA=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?nA:rA},sA=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},aA=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return IP(t,n,r),HP((function(){return PP(t,n,r)})),null},oA=function e(t,n){var r,i,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var o=sA(t,n,s),l=o||iA(a),c=!l("as");return function(){var u=arguments,d=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==u[0]||void 0===u[0].raw)d.push.apply(d,u);else{var h=u[0];d.push(h[0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],h[p])}var m=KP((function(e,t,n){var r=c&&e.as||a,s="",u=[],h=e;if(null==e.theme){for(var f in h={},e)h[f]=e[f];h.theme=H.useContext(GP)}"string"===typeof e.className?s=jP(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var p=BP(d.concat(u),t.registered,h);s+=t.key+"-"+p.name,void 0!==i&&(s+=" "+i);var m=c&&void 0===o?iA(r):l,g={};for(var y in e)c&&"as"===y||m(y)&&(g[y]=e[y]);return g.className=s,n&&(g.ref=n),H.createElement(H.Fragment,null,H.createElement(aA,{cache:t,serialized:p,isStringTag:"string"===typeof r}),H.createElement(r,g))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=a,m.__emotion_styles=d,m.__emotion_forwardProp=o,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,CI({},n,r,{shouldForwardProp:sA(m,r,!0)})).apply(void 0,d)},m}}.bind(null);function lA(e,t){return oA(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){oA[e]=oA(e)}));const cA=[];function uA(e){return cA[0]=e,BP(cA)}var dA=n(191);function hA(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function fA(e){if(H.isValidElement(e)||(0,dA.Hy)(e)||!hA(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=fA(e[n])})),t}function pA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?{...e}:e;return hA(e)&&hA(t)&&Object.keys(t).forEach((i=>{H.isValidElement(t[i])||(0,dA.Hy)(t[i])?r[i]=t[i]:hA(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&hA(e[i])?r[i]=pA(e[i],t[i],n):n.clone?r[i]=hA(t[i])?fA(t[i]):t[i]:r[i]=t[i]})),r}function mA(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>({...e,[t.key]:t.val})),{})})(t),a=Object.keys(s);function o(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function l(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-r/100}${n})`}function c(e,i){const s=a.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==s&&"number"===typeof t[a[s]]?t[a[s]]:i)-r/100}${n})`}return{keys:a,values:s,up:o,down:l,between:c,only:function(e){return a.indexOf(e)+1<a.length?c(e,a[a.indexOf(e)+1]):o(e)},not:function(e){const t=a.indexOf(e);return 0===t?o(a[1]):t===a.length-1?l(a[t]):c(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...i}}const gA={borderRadius:4},yA={xs:0,sm:600,md:900,lg:1200,xl:1536},vA={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${yA[e]}px)`},bA={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:yA[t]||t;return"number"===typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function xA(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||vA;return t.reduce(((r,i,s)=>(r[e.up(e.keys[s])]=n(t[s]),r)),{})}if("object"===typeof t){const e=r.breakpoints||vA;return Object.keys(t).reduce(((i,s)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith(`@${e}`)))||!!t.match(/^@\d/))}(e.keys,s)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}(r.containerQueries?r:bA,s);e&&(i[e]=n(t[s],s))}else if(Object.keys(e.values||yA).includes(s)){i[e.up(s)]=n(t[s],s)}else{const e=s;i[e]=t[e]}return i}),{})}return n(t)}function wA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.keys?.reduce(((t,n)=>(t[e.up(n)]={},t)),{});return t||{}}function kA(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function SA(e){if("string"!==typeof e)throw new Error(Oj(7));return e.charAt(0).toUpperCase()+e.slice(1)}function EA(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function CA(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:EA(e,n)||i,t&&(r=t(r,i,e)),r}const NA=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=e=>{if(null==e[t])return null;const s=e[t],a=EA(e.theme,r)||{};return xA(e,s,(e=>{let r=CA(a,i,e);return e===r&&"string"===typeof e&&(r=CA(a,i,`${t}${"default"===e?"":SA(e)}`,e)),!1===n?r:{[n]:r}}))};return s.propTypes={},s.filterProps=[t],s};const TA=function(e,t){return t?pA(e,t,{clone:!1}):e};const _A={m:"margin",p:"padding"},jA={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},IA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},PA=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!IA[e])return[e];e=IA[e]}const[t,n]=e.split(""),r=_A[t],i=jA[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),AA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],RA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],OA=[...AA,...RA];function DA(e,t,n,r){const i=EA(e,t,!0)??n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?`calc(-1 * ${n})`:`-${n}`}:"function"===typeof i?i:()=>{}}function MA(e){return DA(e,"spacing",8)}function LA(e,t){return"string"===typeof t||null==t?t:e(t)}function FA(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=LA(t,n),e)),{})}(PA(n),r);return xA(e,e[n],i)}function UA(e,t){const n=MA(e.theme);return Object.keys(e).map((r=>FA(e,t,r,n))).reduce(TA,{})}function $A(e){return UA(e,AA)}function VA(e){return UA(e,RA)}function zA(e){return UA(e,OA)}$A.propTypes={},$A.filterProps=AA,VA.propTypes={},VA.filterProps=RA,zA.propTypes={},zA.filterProps=OA;function BA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:MA({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}const qA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?TA(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function HA(e){return"number"!==typeof e?e:`${e}px solid`}function WA(e,t){return NA({prop:e,themeKey:"borders",transform:t})}const KA=WA("border",HA),GA=WA("borderTop",HA),QA=WA("borderRight",HA),YA=WA("borderBottom",HA),XA=WA("borderLeft",HA),JA=WA("borderColor"),ZA=WA("borderTopColor"),eR=WA("borderRightColor"),tR=WA("borderBottomColor"),nR=WA("borderLeftColor"),rR=WA("outline",HA),iR=WA("outlineColor"),sR=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=DA(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:LA(t,e)});return xA(e,e.borderRadius,n)}return null};sR.propTypes={},sR.filterProps=["borderRadius"];qA(KA,GA,QA,YA,XA,JA,ZA,eR,tR,nR,sR,rR,iR);const aR=e=>{if(void 0!==e.gap&&null!==e.gap){const t=DA(e.theme,"spacing",8),n=e=>({gap:LA(t,e)});return xA(e,e.gap,n)}return null};aR.propTypes={},aR.filterProps=["gap"];const oR=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=DA(e.theme,"spacing",8),n=e=>({columnGap:LA(t,e)});return xA(e,e.columnGap,n)}return null};oR.propTypes={},oR.filterProps=["columnGap"];const lR=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=DA(e.theme,"spacing",8),n=e=>({rowGap:LA(t,e)});return xA(e,e.rowGap,n)}return null};lR.propTypes={},lR.filterProps=["rowGap"];qA(aR,oR,lR,NA({prop:"gridColumn"}),NA({prop:"gridRow"}),NA({prop:"gridAutoFlow"}),NA({prop:"gridAutoColumns"}),NA({prop:"gridAutoRows"}),NA({prop:"gridTemplateColumns"}),NA({prop:"gridTemplateRows"}),NA({prop:"gridTemplateAreas"}),NA({prop:"gridArea"}));function cR(e,t){return"grey"===t?t:e}qA(NA({prop:"color",themeKey:"palette",transform:cR}),NA({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:cR}),NA({prop:"backgroundColor",themeKey:"palette",transform:cR}));function uR(e){return e<=1&&0!==e?100*e+"%":e}const dR=NA({prop:"width",transform:uR}),hR=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const n=e.theme?.breakpoints?.values?.[t]||yA[t];return n?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:uR(t)}};return xA(e,e.maxWidth,t)}return null};hR.filterProps=["maxWidth"];const fR=NA({prop:"minWidth",transform:uR}),pR=NA({prop:"height",transform:uR}),mR=NA({prop:"maxHeight",transform:uR}),gR=NA({prop:"minHeight",transform:uR}),yR=(NA({prop:"size",cssProperty:"width",transform:uR}),NA({prop:"size",cssProperty:"height",transform:uR}),qA(dR,hR,fR,pR,mR,gR,NA({prop:"boxSizing"})),{border:{themeKey:"borders",transform:HA},borderTop:{themeKey:"borders",transform:HA},borderRight:{themeKey:"borders",transform:HA},borderBottom:{themeKey:"borders",transform:HA},borderLeft:{themeKey:"borders",transform:HA},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:HA},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sR},color:{themeKey:"palette",transform:cR},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:cR},backgroundColor:{themeKey:"palette",transform:cR},p:{style:VA},pt:{style:VA},pr:{style:VA},pb:{style:VA},pl:{style:VA},px:{style:VA},py:{style:VA},padding:{style:VA},paddingTop:{style:VA},paddingRight:{style:VA},paddingBottom:{style:VA},paddingLeft:{style:VA},paddingX:{style:VA},paddingY:{style:VA},paddingInline:{style:VA},paddingInlineStart:{style:VA},paddingInlineEnd:{style:VA},paddingBlock:{style:VA},paddingBlockStart:{style:VA},paddingBlockEnd:{style:VA},m:{style:$A},mt:{style:$A},mr:{style:$A},mb:{style:$A},ml:{style:$A},mx:{style:$A},my:{style:$A},margin:{style:$A},marginTop:{style:$A},marginRight:{style:$A},marginBottom:{style:$A},marginLeft:{style:$A},marginX:{style:$A},marginY:{style:$A},marginInline:{style:$A},marginInlineStart:{style:$A},marginInlineEnd:{style:$A},marginBlock:{style:$A},marginBlockStart:{style:$A},marginBlockEnd:{style:$A},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:aR},rowGap:{style:lR},columnGap:{style:oR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:uR},maxWidth:{style:hR},minWidth:{transform:uR},height:{transform:uR},maxHeight:{transform:uR},minHeight:{transform:uR},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const vR=function(){function e(e,t,n,r){const i={[e]:t,theme:n},s=r[e];if(!s)return{[e]:t};const{cssProperty:a=e,themeKey:o,transform:l,style:c}=s;if(null==t)return null;if("typography"===o&&"inherit"===t)return{[e]:t};const u=EA(n,o)||{};if(c)return c(i);return xA(i,t,(t=>{let n=CA(u,l,t);return t===n&&"string"===typeof t&&(n=CA(u,l,`${e}${"default"===t?"":SA(t)}`,t)),!1===a?n:{[a]:n}}))}return function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??yR;function a(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const a=wA(i.breakpoints),o=Object.keys(a);let l=a;return Object.keys(r).forEach((n=>{const a=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==a&&void 0!==a)if("object"===typeof a)if(s[n])l=TA(l,e(n,a,i,s));else{const e=xA({theme:i},a,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,a)?l=TA(l,e):l[n]=t({sx:a,theme:i})}else l=TA(l,e(n,a,i,s))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{const n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),{...t}):t}(i,kA(o,l))}return Array.isArray(r)?r.map(a):a(r)}}();vR.filterProps=["sx"];const bR=vR;function xR(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}const wR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={},...s}=e;let a=pA({breakpoints:mA(t),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:BA(r),shape:{...gA,...i}},s);a=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),{...e,containerQueries:i}}(a),a.applyStyles=xR;for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];return a=l.reduce(((e,t)=>pA(e,t)),a),a.unstable_sxConfig={...yR,...s?.unstable_sxConfig},a.unstable_sx=function(e){return bR({sx:e,theme:this})},a};function kR(e){const{variants:t,...n}=e,r={variants:t,style:uA(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=uA(e.style))})),r}const SR=wR();function ER(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function CR(e){return e?(t,n)=>n[e]:null}function NR(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>NR(e,t)));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e,...r}=n;t=r}return TR(e,n.variants,[t])}return n?.isProcessed?n.style:n}function TR(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let i=0;i<t.length;i+=1){const s=t[i];if("function"===typeof s.props){if(n??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(n))continue}else for(const t in s.props)if(e[t]!==s.props[t]&&e.ownerState?.[t]!==s.props[t])continue e;"function"===typeof s.style?(n??={...e,...e.ownerState,ownerState:e.ownerState},r.push(s.style(n))):r.push(s.style)}return r}function _R(e,t){}function jR(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const IR={black:"#000",white:"#fff"},PR={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},AR={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},RR={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},OR={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},DR={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},MR={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},LR={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function FR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:IR.white,default:IR.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const UR=FR();function $R(){return{text:{primary:IR.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:IR.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VR=$R();function zR(e,t,n,r){const i=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Wj(e.main,i):"dark"===t&&(e.dark=qj(e.main,s)))}function BR(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:DR[200],light:DR[50],dark:DR[400]}:{main:DR[700],light:DR[400],dark:DR[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:AR[200],light:AR[50],dark:AR[400]}:{main:AR[500],light:AR[300],dark:AR[700]}}(t),o=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:RR[500],light:RR[300],dark:RR[700]}:{main:RR[700],light:RR[400],dark:RR[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:MR[400],light:MR[300],dark:MR[700]}:{main:MR[700],light:MR[500],dark:MR[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:LR[400],light:LR[300],dark:LR[700]}:{main:LR[800],light:LR[500],dark:LR[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:OR[400],light:OR[300],dark:OR[700]}:{main:"#ed6c02",light:OR[500],dark:OR[900]}}(t);function d(e){const t=function(e,t){const n=Vj(e),r=Vj(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,VR.text.primary)>=n?VR.text.primary:UR.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:a=700}=e;if(t={...t},!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Oj(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error(Oj(12,n?` (${n})`:"",JSON.stringify(t.main)));return zR(t,"light",s,r),zR(t,"dark",a,r),t.contrastText||(t.contrastText=d(t.main)),t};let f;"light"===t?f=FR():"dark"===t&&(f=$R());return pA({common:{...IR},mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:o,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:PR,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...f},i)}function qR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const s=r[0];return"string"!==typeof s||s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${s}`:`, var(--${e?`${e}-`:""}${s}${t(...r.slice(1))})`}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return`var(--${e?`${e}-`:""}${n}${t(...i)})`}}function HR(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)})),t}const WR=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,s)=>{s===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function KR(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},a={};return((e,t,n)=>{!function e(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach((r=>{let[a,o]=r;(!n||n&&!n([...i,a]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...i,a],Array.isArray(o)?[...s,a]:s):t([...i,a],o,s))}))}(e)})(e,((e,t,o)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r=`--${n?`${n}-`:""}${e.join("-")}`,l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`;return t})(e,t);Object.assign(i,{[r]:l}),WR(s,e,`var(${r})`,o),WR(a,e,`var(${r}, ${l})`,o)}}),(e=>"vars"===e[0])),{css:i,vars:s,varsWithDefaults:a}}const GR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=g,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:a,defaultColorScheme:o="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=KR(l,t);let h=d;const f={},{[o]:p,...m}=s;if(Object.entries(m||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:s,varsWithDefaults:a}=KR(r,t);h=pA(h,a),f[n]={css:s,vars:i}})),p){const{css:e,vars:n,varsWithDefaults:r}=KR(p,t);h=pA(h,r),f[o]={css:e,vars:n}}function g(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),t){if("media"===r){if(e.defaultColorScheme===t)return":root";const r=s[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${r})`]:{":root":n}}}if(r)return e.defaultColorScheme===t?`:root, ${r.replace("%s",String(t))}`:r.replace("%s",String(t))}return":root"}return{vars:h,generateThemeVars:()=>{let e={...c};return Object.entries(f).forEach((t=>{let[,{vars:n}]=t;e=pA(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function a(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:{...n}}:e)}a(n(void 0,{...u}),u);const{[i]:o,...l}=f;if(o){const{css:e}=o,t=s[i]?.palette?.mode,l=!r&&t?{colorScheme:t,...e}:{...e};a(n(i,{...l}),l)}return Object.entries(l).forEach((e=>{let[t,{css:i}]=e;const o=s[t]?.palette?.mode,l=!r&&o?{colorScheme:o,...i}:{...i};a(n(t,{...l}),l)})),t}}};function QR(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}const YR={textTransform:"uppercase"},XR='"Roboto", "Helvetica", "Arial", sans-serif';function JR(e,t){const{fontFamily:n=XR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}="function"===typeof t?t(e):t;const h=r/14,f=u||(e=>e/l*h+"rem"),p=(e,t,r,i,s)=>{return{fontFamily:n,fontWeight:e,fontSize:f(t),lineHeight:r,...n===XR?{letterSpacing:(a=i/t,Math.round(1e5*a)/1e5)+"em"}:{},...s,...c};var a},m={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(s,48,1.167,0),h4:p(s,34,1.235,.25),h5:p(s,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(s,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(s,16,1.5,.15),body2:p(s,14,1.43,.15),button:p(a,14,1.75,.4,YR),caption:p(s,12,1.66,.4),overline:p(s,12,2.66,1,YR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pA({htmlFontSize:l,pxToRem:f,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...m},d,{clone:!1})}function ZR(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const eO=["none",ZR(0,2,1,-1,0,1,1,0,0,1,3,0),ZR(0,3,1,-2,0,2,2,0,0,1,5,0),ZR(0,3,3,-2,0,3,4,0,0,1,8,0),ZR(0,2,4,-1,0,4,5,0,0,1,10,0),ZR(0,3,5,-1,0,5,8,0,0,1,14,0),ZR(0,3,5,-1,0,6,10,0,0,1,18,0),ZR(0,4,5,-2,0,7,10,1,0,2,16,1),ZR(0,5,5,-3,0,8,10,1,0,3,14,2),ZR(0,5,6,-3,0,9,12,1,0,3,16,2),ZR(0,6,6,-3,0,10,14,1,0,4,18,3),ZR(0,6,7,-4,0,11,15,1,0,4,20,3),ZR(0,7,8,-4,0,12,17,2,0,5,22,4),ZR(0,7,8,-4,0,13,19,2,0,5,24,4),ZR(0,7,9,-4,0,14,21,2,0,5,26,4),ZR(0,8,9,-5,0,15,22,2,0,6,28,5),ZR(0,8,10,-5,0,16,24,2,0,6,30,5),ZR(0,8,11,-5,0,17,26,2,0,6,32,5),ZR(0,9,11,-5,0,18,28,2,0,7,34,6),ZR(0,9,12,-6,0,19,29,2,0,7,36,6),ZR(0,10,13,-6,0,20,31,3,0,8,38,7),ZR(0,10,13,-6,0,21,33,3,0,8,40,7),ZR(0,10,14,-6,0,22,35,3,0,8,42,7),ZR(0,11,14,-7,0,23,36,3,0,9,44,8),ZR(0,11,15,-7,0,24,38,3,0,9,46,8)],tO={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nO={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rO(e){return`${Math.round(e)}ms`}function iO(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function sO(e){const t={...tO,...e.easing},n={...nO,...e.duration};return{getAutoHeightDuration:iO,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=t.easeInOut,delay:a=0,...o}=r;return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:rO(i)} ${s} ${"string"===typeof a?a:rO(a)}`)).join(",")},...e,easing:t,duration:n}}const aO={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function oO(){const e={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[s,a]=n[i];!hA(r=a)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||s.startsWith("unstable_")?delete t[s]:hA(a)&&(t[s]={...a},e(t[s]))}var r}(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(e,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}const lO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:s={},typography:a={},shape:o,...l}=e;if(e.vars&&void 0===e.generateThemeVars)throw new Error(Oj(20));const c=BR(i),u=wR(e);let d=pA(u,{mixins:QR(u.breakpoints,n),palette:c,shadows:eO.slice(),typography:JR(c,a),transitions:sO(s),zIndex:{...aO}});d=pA(d,l);for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];return d=f.reduce(((e,t)=>pA(e,t)),d),d.unstable_sxConfig={...yR,...l?.unstable_sxConfig},d.unstable_sx=function(e){return bR({sx:e,theme:this})},d.toRuntimeSource=oO,d};function cO(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const uO=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=cO(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`}));function dO(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function hO(e){return"dark"===e?uO:[]}function fO(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const pO=e=>[...[...Array(25)].map(((t,n)=>`--${e?`${e}-`:""}overlays-${n}`)),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],mO=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if("class"===i&&(s=".%s"),"data"===i&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const i={};return pO(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===s?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:s?{[s.replace("%s",t)]:i,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(s&&"media"!==s)return`${r}, ${s.replace("%s",String(t))}`}else if(t){if("media"===s)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function gO(e,t,n){!e[t]&&n&&(e[t]=n)}function yO(e){return"string"===typeof e&&e.startsWith("hsl")?$j(e):e}function vO(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Fj(yO(e[t])))}const bO=e=>{try{return e()}catch(t){}};function xO(e,t,n,r){if(!t)return;t=!0===t?{}:t;const i="dark"===r?"dark":"light";if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=BR(t);return{palette:s,opacity:{...dO(s.mode),...n},overlays:r||hO(s.mode),...i}}({...t,palette:{mode:i,...t?.palette}}));const{palette:s,...a}=lO({...n,palette:{mode:i,...t?.palette}});return e[r]={...t,palette:s,opacity:{...dO(i),...t?.opacity},overlays:t?.overlays||hO(i)},a}function wO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:s=fO,colorSchemeSelector:a=(t.light&&t.dark?"media":void 0),rootSelector:o=":root",...l}=e,c=Object.keys(t)[0],u=n||(t.light&&"light"!==c?"light":c),d=function(){return qR(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[u]:h,light:f,dark:p,...m}=t,g={...m};let y=h;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(y=!0),!y)throw new Error(Oj(21,u));const v=xO(g,y,l,u);f&&!g.light&&xO(g,f,void 0,"light"),p&&!g.dark&&xO(g,p,void 0,"dark");let b={defaultColorScheme:u,...v,cssVarPrefix:i,colorSchemeSelector:a,rootSelector:o,getCssVar:d,colorSchemes:g,font:{...HR(v.typography),...v.font},spacing:(x=l.spacing,"number"===typeof x?`${x}px`:"string"===typeof x||"function"===typeof x||Array.isArray(x)?x:"8px")};var x;Object.keys(b.colorSchemes).forEach((e=>{const t=b.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return d(e,t[r][i])};var r;if("light"===t.mode&&(gO(t.common,"background","#fff"),gO(t.common,"onBackground","#000")),"dark"===t.mode&&(gO(t.common,"background","#000"),gO(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){gO(t.Alert,"errorColor",Hj(t.error.light,.6)),gO(t.Alert,"infoColor",Hj(t.info.light,.6)),gO(t.Alert,"successColor",Hj(t.success.light,.6)),gO(t.Alert,"warningColor",Hj(t.warning.light,.6)),gO(t.Alert,"errorFilledBg",n("palette-error-main")),gO(t.Alert,"infoFilledBg",n("palette-info-main")),gO(t.Alert,"successFilledBg",n("palette-success-main")),gO(t.Alert,"warningFilledBg",n("palette-warning-main")),gO(t.Alert,"errorFilledColor",bO((()=>t.getContrastText(t.error.main)))),gO(t.Alert,"infoFilledColor",bO((()=>t.getContrastText(t.info.main)))),gO(t.Alert,"successFilledColor",bO((()=>t.getContrastText(t.success.main)))),gO(t.Alert,"warningFilledColor",bO((()=>t.getContrastText(t.warning.main)))),gO(t.Alert,"errorStandardBg",Kj(t.error.light,.9)),gO(t.Alert,"infoStandardBg",Kj(t.info.light,.9)),gO(t.Alert,"successStandardBg",Kj(t.success.light,.9)),gO(t.Alert,"warningStandardBg",Kj(t.warning.light,.9)),gO(t.Alert,"errorIconColor",n("palette-error-main")),gO(t.Alert,"infoIconColor",n("palette-info-main")),gO(t.Alert,"successIconColor",n("palette-success-main")),gO(t.Alert,"warningIconColor",n("palette-warning-main")),gO(t.AppBar,"defaultBg",n("palette-grey-100")),gO(t.Avatar,"defaultBg",n("palette-grey-400")),gO(t.Button,"inheritContainedBg",n("palette-grey-300")),gO(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),gO(t.Chip,"defaultBorder",n("palette-grey-400")),gO(t.Chip,"defaultAvatarColor",n("palette-grey-700")),gO(t.Chip,"defaultIconColor",n("palette-grey-700")),gO(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),gO(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),gO(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),gO(t.LinearProgress,"primaryBg",Kj(t.primary.main,.62)),gO(t.LinearProgress,"secondaryBg",Kj(t.secondary.main,.62)),gO(t.LinearProgress,"errorBg",Kj(t.error.main,.62)),gO(t.LinearProgress,"infoBg",Kj(t.info.main,.62)),gO(t.LinearProgress,"successBg",Kj(t.success.main,.62)),gO(t.LinearProgress,"warningBg",Kj(t.warning.main,.62)),gO(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),gO(t.Slider,"primaryTrack",Kj(t.primary.main,.62)),gO(t.Slider,"secondaryTrack",Kj(t.secondary.main,.62)),gO(t.Slider,"errorTrack",Kj(t.error.main,.62)),gO(t.Slider,"infoTrack",Kj(t.info.main,.62)),gO(t.Slider,"successTrack",Kj(t.success.main,.62)),gO(t.Slider,"warningTrack",Kj(t.warning.main,.62));const e=Gj(t.background.default,.8);gO(t.SnackbarContent,"bg",e),gO(t.SnackbarContent,"color",bO((()=>t.getContrastText(e)))),gO(t.SpeedDialAction,"fabHoverBg",Gj(t.background.paper,.15)),gO(t.StepConnector,"border",n("palette-grey-400")),gO(t.StepContent,"border",n("palette-grey-400")),gO(t.Switch,"defaultColor",n("palette-common-white")),gO(t.Switch,"defaultDisabledColor",n("palette-grey-100")),gO(t.Switch,"primaryDisabledColor",Kj(t.primary.main,.62)),gO(t.Switch,"secondaryDisabledColor",Kj(t.secondary.main,.62)),gO(t.Switch,"errorDisabledColor",Kj(t.error.main,.62)),gO(t.Switch,"infoDisabledColor",Kj(t.info.main,.62)),gO(t.Switch,"successDisabledColor",Kj(t.success.main,.62)),gO(t.Switch,"warningDisabledColor",Kj(t.warning.main,.62)),gO(t.TableCell,"border",Kj(Bj(t.divider,1),.88)),gO(t.Tooltip,"bg",Bj(t.grey[700],.92))}if("dark"===t.mode){gO(t.Alert,"errorColor",Kj(t.error.light,.6)),gO(t.Alert,"infoColor",Kj(t.info.light,.6)),gO(t.Alert,"successColor",Kj(t.success.light,.6)),gO(t.Alert,"warningColor",Kj(t.warning.light,.6)),gO(t.Alert,"errorFilledBg",n("palette-error-dark")),gO(t.Alert,"infoFilledBg",n("palette-info-dark")),gO(t.Alert,"successFilledBg",n("palette-success-dark")),gO(t.Alert,"warningFilledBg",n("palette-warning-dark")),gO(t.Alert,"errorFilledColor",bO((()=>t.getContrastText(t.error.dark)))),gO(t.Alert,"infoFilledColor",bO((()=>t.getContrastText(t.info.dark)))),gO(t.Alert,"successFilledColor",bO((()=>t.getContrastText(t.success.dark)))),gO(t.Alert,"warningFilledColor",bO((()=>t.getContrastText(t.warning.dark)))),gO(t.Alert,"errorStandardBg",Hj(t.error.light,.9)),gO(t.Alert,"infoStandardBg",Hj(t.info.light,.9)),gO(t.Alert,"successStandardBg",Hj(t.success.light,.9)),gO(t.Alert,"warningStandardBg",Hj(t.warning.light,.9)),gO(t.Alert,"errorIconColor",n("palette-error-main")),gO(t.Alert,"infoIconColor",n("palette-info-main")),gO(t.Alert,"successIconColor",n("palette-success-main")),gO(t.Alert,"warningIconColor",n("palette-warning-main")),gO(t.AppBar,"defaultBg",n("palette-grey-900")),gO(t.AppBar,"darkBg",n("palette-background-paper")),gO(t.AppBar,"darkColor",n("palette-text-primary")),gO(t.Avatar,"defaultBg",n("palette-grey-600")),gO(t.Button,"inheritContainedBg",n("palette-grey-800")),gO(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),gO(t.Chip,"defaultBorder",n("palette-grey-700")),gO(t.Chip,"defaultAvatarColor",n("palette-grey-300")),gO(t.Chip,"defaultIconColor",n("palette-grey-300")),gO(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),gO(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),gO(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),gO(t.LinearProgress,"primaryBg",Hj(t.primary.main,.5)),gO(t.LinearProgress,"secondaryBg",Hj(t.secondary.main,.5)),gO(t.LinearProgress,"errorBg",Hj(t.error.main,.5)),gO(t.LinearProgress,"infoBg",Hj(t.info.main,.5)),gO(t.LinearProgress,"successBg",Hj(t.success.main,.5)),gO(t.LinearProgress,"warningBg",Hj(t.warning.main,.5)),gO(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),gO(t.Slider,"primaryTrack",Hj(t.primary.main,.5)),gO(t.Slider,"secondaryTrack",Hj(t.secondary.main,.5)),gO(t.Slider,"errorTrack",Hj(t.error.main,.5)),gO(t.Slider,"infoTrack",Hj(t.info.main,.5)),gO(t.Slider,"successTrack",Hj(t.success.main,.5)),gO(t.Slider,"warningTrack",Hj(t.warning.main,.5));const e=Gj(t.background.default,.98);gO(t.SnackbarContent,"bg",e),gO(t.SnackbarContent,"color",bO((()=>t.getContrastText(e)))),gO(t.SpeedDialAction,"fabHoverBg",Gj(t.background.paper,.15)),gO(t.StepConnector,"border",n("palette-grey-600")),gO(t.StepContent,"border",n("palette-grey-600")),gO(t.Switch,"defaultColor",n("palette-grey-300")),gO(t.Switch,"defaultDisabledColor",n("palette-grey-600")),gO(t.Switch,"primaryDisabledColor",Hj(t.primary.main,.55)),gO(t.Switch,"secondaryDisabledColor",Hj(t.secondary.main,.55)),gO(t.Switch,"errorDisabledColor",Hj(t.error.main,.55)),gO(t.Switch,"infoDisabledColor",Hj(t.info.main,.55)),gO(t.Switch,"successDisabledColor",Hj(t.success.main,.55)),gO(t.Switch,"warningDisabledColor",Hj(t.warning.main,.55)),gO(t.TableCell,"border",Hj(Bj(t.divider,1),.68)),gO(t.Tooltip,"bg",Bj(t.grey[700],.92))}vO(t.background,"default"),vO(t.background,"paper"),vO(t.common,"background"),vO(t.common,"onBackground"),vO(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&gO(t[e],"mainChannel",Fj(yO(n.main))),n.light&&gO(t[e],"lightChannel",Fj(yO(n.light))),n.dark&&gO(t[e],"darkChannel",Fj(yO(n.dark))),n.contrastText&&gO(t[e],"contrastTextChannel",Fj(yO(n.contrastText))),"text"===e&&(vO(t[e],"primary"),vO(t[e],"secondary")),"action"===e&&(n.active&&vO(t[e],"active"),n.selected&&vO(t[e],"selected")))}))}));for(var w=arguments.length,k=new Array(w>1?w-1:0),S=1;S<w;S++)k[S-1]=arguments[S];b=k.reduce(((e,t)=>pA(e,t)),b);const E={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:s,getSelector:mO(b)},{vars:C,generateThemeVars:N,generateStyleSheets:T}=GR(b,E);return b.vars=C,Object.entries(b.colorSchemes[b.defaultColorScheme]).forEach((e=>{let[t,n]=e;b[t]=n})),b.generateThemeVars=N,b.generateStyleSheets=T,b.generateSpacing=function(){return BA(l.spacing,MA(this))},b.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(a),b.spacing=b.generateSpacing(),b.shouldSkipGeneratingVar=s,b.unstable_sxConfig={...yR,...l?.unstable_sxConfig},b.unstable_sx=function(e){return bR({sx:e,theme:this})},b.toRuntimeSource=oO,b}function kO(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...!0!==n&&n,palette:BR({...!0===n?{}:n.palette,mode:t})})}function SO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=t?.mode,...s}=e,a=i||"light",o=r?.[a],l={...r,...t?{[a]:{..."boolean"!==typeof o&&o,palette:t}}:void 0};for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return lO(e,...u);let n=t;"palette"in e||l[a]&&(!0!==l[a]?n=l[a].palette:"dark"===a&&(n={mode:"dark"}));const r=lO({...e,palette:n},...u);return r.defaultColorScheme=a,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==l.light&&l.light,palette:r.palette},kO(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==l.dark&&l.dark,palette:r.palette},kO(r,"light",l.light)),r}return t||"light"in l||"light"!==a||(l.light=!0),wO({...s,colorSchemes:l,defaultColorScheme:a,..."boolean"!==typeof n&&n},...u)}const EO=SO(),CO="$$material";const NO=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},TO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=SR,rootShouldForwardProp:r=ER,slotShouldForwardProp:i=ER}=e;function s(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==bR))));const{name:n,slot:a,skipVariantsResolver:o,skipSx:l,overridesResolver:c=CR(jR(a)),...u}=t,d=void 0!==o?o:a&&"Root"!==a&&"root"!==a||!1,h=l||!1;let f=ER;"Root"===a||"root"===a?f=r:a?f=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(f=void 0);const p=lA(e,{shouldForwardProp:f,label:_R(n,a),...u}),m=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return NR(t,e)};if(hA(e)){const t=kR(e);return t.variants?function(e){return NR(e,t)}:t.style}return e},g=function(){const t=[];for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=i.map(m),l=[];if(t.push(s),n&&c&&l.push((function(e){const t=e.theme,r=t.components?.[n]?.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=NR(e,r[n]);return c(e,i)})),n&&!d&&l.push((function(e){const t=e.theme,r=t?.components?.[n]?.variants;return r?TR(e,r):null})),h||l.push(bR),Array.isArray(o[0])){const e=o.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const u=[...t,...o,...l],f=p(...u);return e.muiName&&(f.muiName=e.muiName),f};return p.withConfig&&(g.withConfig=p.withConfig),g}}({themeId:CO,defaultTheme:EO,rootShouldForwardProp:e=>NO(e)&&"classes"!==e}),_O=TO,jO={theme:void 0};const IO=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(jO.theme=r.theme,i=kR(e(jO)),t=i,n=r.theme),i}};function PO(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=e[i],s=t[i];if(s)if(r){n[i]={...s};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=PO(r[t],s[t])}}else n[i]=s;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const AO=H.createContext(void 0);function RO(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?PO(i.defaultProps,r):i.styleOverrides||i.variants?r:PO(i,r)}({props:t,name:n,theme:{components:H.useContext(AO)}})}function OO(e){return RO(e)}const DO=e=>!e||!EI(e),MO=SA;function LO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}const FO=e=>e,UO=(()=>{let e=FO;return{configure(t){e=t},generate:t=>e(t),reset(){e=FO}}})(),$O={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function VO(e,t){const n=$O[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${UO.generate(e)}-${t}`}function zO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=VO(e,t,n)})),r}function BO(e){return VO("MuiSlider",e)}const qO=zO("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);function HO(e){return e}const WO=_O("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${MO(n.color)}`],"medium"!==n.size&&t[`size${MO(n.size)}`],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(IO((e=>{let{theme:t}=e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${qO.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${qO.dragging}`]:{[`& .${qO.thumb}, & .${qO.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(LO()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}))),KO=_O("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),GO=_O("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(IO((e=>{let{theme:t}=e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(LO()).map((e=>{let[n]=e;return{props:{color:n,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${n}Track`],borderColor:t.vars.palette.Slider[`${n}Track`]}:{backgroundColor:Wj(t.palette[n].main,.62),borderColor:Wj(t.palette[n].main,.62),...t.applyStyles("dark",{backgroundColor:qj(t.palette[n].main,.5)}),...t.applyStyles("dark",{borderColor:qj(t.palette[n].main,.5)})}}}}))]}}))),QO=_O("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${MO(n.color)}`],"medium"!==n.size&&t[`thumbSize${MO(n.size)}`]]}})(IO((e=>{let{theme:t}=e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${qO.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(LO()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&:hover, &.${qO.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[n].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${zj(t.palette[n].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${qO.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[n].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${zj(t.palette[n].main,.16)}`}}}}}))]}}))),YO=_O((function(e){const{children:t,className:n,value:r}=e,i=(e=>{const{open:t}=e;return{offset:Aj(t&&qO.valueLabelOpen),circle:qO.valueLabelCircle,label:qO.valueLabelLabel}})(e);return t?H.cloneElement(t,{className:Aj(t.props.className)},(0,K.jsxs)(H.Fragment,{children:[t.props.children,(0,K.jsx)("span",{className:Aj(i.offset,n),"aria-hidden":!0,children:(0,K.jsx)("span",{className:i.circle,children:(0,K.jsx)("span",{className:i.label,children:r})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(IO((e=>{let{theme:t}=e;return{zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${qO.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${qO.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}}))),XO=_O("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>NO(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(IO((e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}}))),JO=_O("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>NO(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})(IO((e=>{let{theme:t}=e;return{...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}}))),ZO=e=>{let{children:t}=e;return t},eD=H.forwardRef((function(e,t){const n=OO({props:e,name:"MuiSlider"}),r=H.useContext(Qj)??!1,{"aria-label":i,"aria-valuetext":s,"aria-labelledby":a,component:o="span",components:l={},componentsProps:c={},color:u="primary",classes:d,className:h,disableSwap:f=!1,disabled:p=!1,getAriaLabel:m,getAriaValueText:g,marks:y=!1,max:v=100,min:b=0,name:x,onChange:w,onChangeCommitted:k,orientation:S="horizontal",shiftStep:E=10,size:C="medium",step:N=1,scale:T=HO,slotProps:_,slots:j,tabIndex:I,track:P="normal",value:A,valueLabelDisplay:R="off",valueLabelFormat:O=HO,...D}=n,M={...n,isRtl:r,max:v,min:b,classes:d,disabled:p,disableSwap:f,orientation:S,marks:y,color:u,size:C,step:N,shiftStep:E,scale:T,track:P,valueLabelDisplay:R,valueLabelFormat:O},{axisProps:L,getRootProps:F,getHiddenInputProps:U,getThumbProps:$,open:V,active:z,axis:B,focusedThumbIndex:q,range:W,dragging:G,marks:Q,values:Y,trackOffset:X,trackLeap:J,getThumbStyle:Z}=SI({...M,rootRef:t});M.marked=Q.length>0&&Q.some((e=>e.label)),M.dragging=G,M.focusedThumbIndex=q;const ee=(e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:s,classes:a,color:o,size:l}=e;return Rj({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===s&&"trackInverted",!1===s&&"trackFalse",o&&`color${MO(o)}`,l&&`size${MO(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${MO(l)}`,o&&`thumbColor${MO(o)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},BO,a)})(M),te=j?.root??l.Root??WO,ne=j?.rail??l.Rail??KO,re=j?.track??l.Track??GO,ie=j?.thumb??l.Thumb??QO,se=j?.valueLabel??l.ValueLabel??YO,ae=j?.mark??l.Mark??XO,oe=j?.markLabel??l.MarkLabel??JO,le=j?.input??l.Input??"input",ce=_?.root??c.root,ue=_?.rail??c.rail,de=_?.track??c.track,he=_?.thumb??c.thumb,fe=_?.valueLabel??c.valueLabel,pe=_?.mark??c.mark,me=_?.markLabel??c.markLabel,ge=_?.input??c.input,ye=rI({elementType:te,getSlotProps:F,externalSlotProps:ce,externalForwardedProps:D,additionalProps:{...DO(te)&&{as:o}},ownerState:{...M,...ce?.ownerState},className:[ee.root,h]}),ve=rI({elementType:ne,externalSlotProps:ue,ownerState:M,className:ee.rail}),be=rI({elementType:re,externalSlotProps:de,additionalProps:{style:{...L[B].offset(X),...L[B].leap(J)}},ownerState:{...M,...de?.ownerState},className:ee.track}),xe=rI({elementType:ie,getSlotProps:$,externalSlotProps:he,ownerState:{...M,...he?.ownerState},className:ee.thumb}),we=rI({elementType:se,externalSlotProps:fe,ownerState:{...M,...fe?.ownerState},className:ee.valueLabel}),ke=rI({elementType:ae,externalSlotProps:pe,ownerState:M,className:ee.mark}),Se=rI({elementType:oe,externalSlotProps:me,ownerState:M,className:ee.markLabel}),Ee=rI({elementType:le,getSlotProps:U,externalSlotProps:ge,ownerState:M});return(0,K.jsxs)(te,{...ye,children:[(0,K.jsx)(ne,{...ve}),(0,K.jsx)(re,{...be}),Q.filter((e=>e.value>=b&&e.value<=v)).map(((e,t)=>{const n=pI(e.value,b,v),r=L[B].offset(n);let i;return i=!1===P?Y.includes(e.value):"normal"===P&&(W?e.value>=Y[0]&&e.value<=Y[Y.length-1]:e.value<=Y[0])||"inverted"===P&&(W?e.value<=Y[0]||e.value>=Y[Y.length-1]:e.value>=Y[0]),(0,K.jsxs)(H.Fragment,{children:[(0,K.jsx)(ae,{"data-index":t,...ke,...!EI(ae)&&{markActive:i},style:{...r,...ke.style},className:Aj(ke.className,i&&ee.markActive)}),null!=e.label?(0,K.jsx)(oe,{"aria-hidden":!0,"data-index":t,...Se,...!EI(oe)&&{markLabelActive:i},style:{...r,...Se.style},className:Aj(ee.markLabel,Se.className,i&&ee.markLabelActive),children:e.label}):null]},t)})),Y.map(((e,t)=>{const n=pI(e,b,v),r=L[B].offset(n),o="off"===R?ZO:se;return(0,K.jsx)(o,{...!EI(o)&&{valueLabelFormat:O,valueLabelDisplay:R,value:"function"===typeof O?O(T(e),t):O,index:t,open:V===t||z===t||"on"===R,disabled:p},...we,children:(0,K.jsx)(ie,{"data-index":t,...xe,className:Aj(ee.thumb,xe.className,z===t&&ee.active,q===t&&ee.focusVisible),style:{...r,...Z(t),...xe.style},children:(0,K.jsx)(le,{"data-index":t,"aria-label":m?m(t):i,"aria-valuenow":T(e),"aria-labelledby":a,"aria-valuetext":g?g(T(e),t):s,value:Y[t],...Ee})})},t)}))]})})),tD=eD,nD={cache:new Map,preloadQueue:new Set,isPreloading:!1,maxConcurrentLoads:5,loadedImages:new Set,failedImages:new Set,async preloadImage(e){if(e&&!this.cache.has(e)&&!this.loadedImages.has(e)&&!this.failedImages.has(e))return new Promise(((t,n)=>{const r=new Image;r.onload=()=>{this.cache.set(e,!0),this.loadedImages.add(e),t()},r.onerror=n=>{console.error("Error loading image:",e,n),this.failedImages.add(e),t()},r.src=e}))},async preloadImages(e){const t=[...new Set(e)].filter((e=>e&&!this.cache.has(e)&&!this.loadedImages.has(e)&&!this.failedImages.has(e)));0!==t.length&&(t.forEach((e=>this.preloadQueue.add(e))),this.isPreloading||this.processPreloadQueue())},async processPreloadQueue(){if(0===this.preloadQueue.size)return void(this.isPreloading=!1);this.isPreloading=!0;const e=Array.from(this.preloadQueue).slice(0,this.maxConcurrentLoads);this.preloadQueue=new Set([...this.preloadQueue].filter((t=>!e.includes(t))));try{await Promise.all(e.map((e=>this.preloadImage(e))))}catch(t){console.error("Error preloading images:",t)}this.preloadQueue.size>0?this.processPreloadQueue():this.isPreloading=!1}};function rD(){const[e,t]=(0,H.useState)([]),[n,r]=(0,H.useState)(""),[i,s]=(0,H.useState)({min:"",max:""}),[a,o]=(0,H.useState)(""),[l,c]=(0,H.useState)(null),[u,d]=(0,H.useState)(!1),{theme:h}=kT(),f=qe(),p=Ke(),{addToCart:m}=uj(),{currentUser:g,isGuest:y}=ob(),{data:v=[],isLoading:b}=aj({queryKey:["products"],queryFn:async()=>{const e=await xy(mg(Xv,"products"));return await Promise.all(e.docs.map((async e=>{const t=e.data(),n=await(async e=>await gT(`${e.category} ${e.name}`,{orientation:"horizontal"}))(t);return n&&nD.preloadImage(n),{id:e.id,...t,imageUrl:n}})))},staleTime:3e5,cacheTime:18e5}),{data:x=[],isLoading:w}=aj({queryKey:["categories"],queryFn:async()=>(await xy(mg(Xv,"categories"))).docs.map((e=>({id:e.id,...e.data()}))),staleTime:3e5,cacheTime:18e5}),k=b||w;(0,H.useEffect)((()=>{const e=new URLSearchParams(f.search),n=e.get("category"),i=e.get("search"),a=e.get("minPrice"),l=e.get("maxPrice");if(r(n||""),o(i||""),s({min:a||"",max:l||""}),v.length>0){let e=[...v];if(n&&(e=e.filter((e=>e.categoryId===n))),i){const t=i.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)))}const r=Number.parseFloat(a)||0,s=Number.parseFloat(l)||Number.POSITIVE_INFINITY;e=e.filter((e=>{const t=Number.parseFloat(e.price)||0;return t>=r&&t<=s})),t(e)}}),[f.search,v]);const S=e=>{const t=e.target.value,n=new URLSearchParams(f.search);t?n.set("category",t):n.delete("category"),a.trim()&&n.set("search",a.trim()),i.min&&n.set("minPrice",i.min),i.max&&n.set("maxPrice",i.max),p({pathname:"/shop",search:n.toString()},{replace:!0})},E=e=>{const{name:t,value:r}=e.target,o={...i,[t]:r};s(o);const l=new URLSearchParams(f.search);r?l.set("min"===t?"minPrice":"maxPrice",r):l.delete("min"===t?"minPrice":"maxPrice"),n&&l.set("category",n),a.trim()&&l.set("search",a.trim()),"min"===t&&i.max&&l.set("maxPrice",i.max),"max"===t&&i.min&&l.set("minPrice",i.min),p({pathname:"/shop",search:l.toString()},{replace:!0})},C=()=>{r(""),o(""),s({min:"",max:""}),p("/shop",{replace:!0})},N=(e,t)=>"dark"===h?`https://via.placeholder.com/${e}x${t}/1a1a1a/ffffff?text=ShopEase`:`https://via.placeholder.com/${e}x${t}/f0f0f0/333333?text=ShopEase`,T={background:"dark"===h?"bg-black":"bg-white",text:"dark"===h?"text-white":"text-gray-900",subtext:"dark"===h?"text-gray-400":"text-gray-600",card:`${"dark"===h?"bg-gray-900":"bg-white"} border-[1px]  ${"dark"===h?"border-gray-800":"border-gray-900"}`,cardHover:"dark"===h?"hover:border-gray-600":"hover:border-gray-400",input:"dark"===h?"bg-black border-gray-800 focus:border-gray-600":"bg-white border-gray-300 focus:border-gray-400",button:"dark"===h?"bg-white text-black hover:bg-gray-200":"bg-gray-900 text-white hover:bg-gray-800",buttonOutline:"dark"===h?"border-white text-white hover:bg-white hover:text-black":"border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white",divider:"dark"===h?"bg-white":"bg-gray-900",checkboxActive:"dark"===h?"border-white bg-white text-black":"border-gray-900 bg-gray-900 text-white",checkboxInactive:"dark"===h?"border-gray-600":"border-gray-400",radioTextActive:"dark"===h?"text-white":"text-gray-900",radioTextInactive:"dark"===h?"text-gray-400":"text-gray-600",loadingColor:"dark"===h?"white":"black",noResultsIcon:"dark"===h?"bg-black text-gray-400":"bg-gray-100 text-gray-600",sliderColor:"dark"===h?"white":"black",sliderRail:"dark"===h?"#8D8D8D":"#D1D1D1",mobileFilterButton:"dark"===h?"bg-gray-900 border-gray-800":"bg-white border-gray-300",addedToCartButton:"bg-green-600 text-white ",signInButton:"dark"===h?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"};return(0,H.useEffect)((()=>{if(e.length>0){const t=e.map((e=>e.imageUrl)).filter((e=>e));nD.preloadImages(t)}}),[e]),(0,K.jsx)("div",{className:`${T.background} ${T.text} min-h-screen`,children:(0,K.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,K.jsx)(iT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:(0,K.jsxs)("div",{className:"w-fit",children:[(0,K.jsx)("h1",{className:"text-4xl font-bold mb-2 tracking-tight font-poppins",children:"SHOP"}),(0,K.jsx)("div",{className:`h-1 ${T.divider} w-full`})]})}),(0,K.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,K.jsx)("div",{className:"lg:hidden mb-4",children:(0,K.jsx)("button",{onClick:()=>d(!u),className:`w-full ${T.mobileFilterButton} py-3 px-4 rounded-[12px] flex items-center justify-center gap-2`,children:u?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(UT,{size:18}),"Hide Filters"]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(Ij,{size:18}),"Show Filters"]})})}),(0,K.jsx)(iT.div,{className:"w-full lg:w-72 "+(u?"block":"hidden lg:block"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,K.jsxs)("div",{className:`${T.card} ${T.cardHover} rounded-[12px] p-6 sticky top-20 transition-colors`,children:[(0,K.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,K.jsx)("h3",{className:`text-lg font-bold ${T.text} font-poppins`,children:"FILTERS"}),(n||a||i.min||i.max)&&(0,K.jsxs)("button",{onClick:C,className:`text-xs ${T.subtext} hover:${T.text} transition-colors flex items-center gap-1`,children:["Clear All",(0,K.jsx)(UT,{size:14})]})]}),(0,K.jsxs)("div",{className:"space-y-8",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:`text-sm font-semibold ${T.subtext} mb-3 font-poppins`,children:"SEARCH PRODUCTS"}),(0,K.jsxs)("div",{className:"relative",children:[(0,K.jsx)("input",{type:"text",value:a,onChange:e=>{const t=e.target.value;o(t);const r=new URLSearchParams(f.search);t.trim()?r.set("search",t.trim()):r.delete("search"),n&&r.set("category",n),i.min&&r.set("minPrice",i.min),i.max&&r.set("maxPrice",i.max),p({pathname:"/shop",search:r.toString()},{replace:!0})},placeholder:"Search...",className:`${T.input} w-full py-2 px-3 pr-10 rounded-[12px] ${T.text} text-sm focus:outline-none`}),(0,K.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,K.jsx)(fj,{size:16,className:T.subtext})})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:`text-sm font-semibold ${T.subtext} mb-3 font-poppins`,children:"CATEGORIES"}),(0,K.jsxs)("div",{className:"space-y-2",children:[(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("input",{type:"radio",id:"all-categories",name:"category",value:"",checked:""===n,onChange:S,className:"hidden"}),(0,K.jsxs)("label",{htmlFor:"all-categories",className:`flex items-center cursor-pointer text-sm ${""===n?T.radioTextActive:T.radioTextInactive}`,children:[(0,K.jsx)("span",{className:`w-4 h-4 mr-2 border flex items-center justify-center rounded-md ${""===n?T.checkboxActive:T.checkboxInactive}`,children:""===n&&(0,K.jsx)(Sj,{size:12})}),"All Categories"]})]}),x.map((e=>(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("input",{type:"radio",id:e.id,name:"category",value:e.id,checked:n===e.id,onChange:S,className:"hidden"}),(0,K.jsxs)("label",{htmlFor:e.id,className:`flex items-center cursor-pointer text-sm ${n===e.id?T.radioTextActive:T.radioTextInactive}`,children:[(0,K.jsx)("span",{className:`w-4 h-4 mr-2 border flex items-center justify-center rounded-md ${n===e.id?T.checkboxActive:T.checkboxInactive}`,children:n===e.id&&(0,K.jsx)(Sj,{size:12})}),e.name]})]},e.id)))]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("h4",{className:`text-sm font-semibold ${T.subtext} mb-3 font-poppins`,children:"PRICE RANGE"}),(0,K.jsxs)("div",{children:[(0,K.jsx)(tD,{value:[Number.parseFloat(i.min)||0,Number.parseFloat(i.max)||1e4],onChange:(e,t)=>{s({min:t[0],max:t[1]});const r=new URLSearchParams(f.search);r.set("minPrice",t[0]),r.set("maxPrice",t[1]),n&&r.set("category",n),a.trim()&&r.set("search",a.trim()),p({pathname:"/shop",search:r.toString()},{replace:!0})},valueLabelDisplay:"auto",min:0,max:1e4,sx:{color:T.sliderColor,"& .MuiSlider-thumb":{height:16,width:16,backgroundColor:T.sliderColor},"& .MuiSlider-track":{height:2},"& .MuiSlider-rail":{color:T.sliderRail,height:2}}}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"min",className:`block text-xs ${T.subtext} mb-1`,children:"Min Price"}),(0,K.jsx)("input",{type:"number",id:"min",name:"min",value:i.min,onChange:E,className:`${T.input} w-full py-2 px-3 rounded-[12px] ${T.text} text-sm focus:outline-none`,placeholder:"$0"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"max",className:`block text-xs ${T.subtext} mb-1`,children:"Max Price"}),(0,K.jsx)("input",{type:"number",id:"max",name:"max",value:i.max,onChange:E,className:`${T.input} w-full py-2 px-3 rounded-[12px] ${T.text} text-sm focus:outline-none`,placeholder:"$10000"})]})]})]})]})]})]})}),(0,K.jsx)("div",{className:"flex-1",children:k?(0,K.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,K.jsx)(vT,{size:"78",speed:"1.4",color:T.loadingColor})}):0===e.length?(0,K.jsxs)("div",{className:`${T.card} ${T.cardHover} rounded-[12px] p-12 text-center transition-colors`,children:[(0,K.jsx)("div",{className:`h-24 w-24 ${T.noResultsIcon} rounded-full flex items-center justify-center mx-auto mb-6`,children:(0,K.jsx)(UT,{className:"h-12 w-12"})}),(0,K.jsx)("h3",{className:`text-2xl font-bold ${T.text} mb-2 font-poppins`,children:"NO PRODUCTS FOUND"}),(0,K.jsx)("p",{className:`${T.subtext} mb-8 font-inter`,children:"Try adjusting your search or filter criteria."}),(0,K.jsxs)("button",{onClick:C,className:`${T.button} py-3 px-8 rounded-[12px] inline-flex items-center gap-2 transition-colors font-inter`,children:["Clear Filters",(0,K.jsx)(UT,{size:18})]})]}):(0,K.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map((e=>{var t;return(0,K.jsxs)(iT.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`${T.card} ${T.cardHover} rounded-[12px] overflow-hidden transition-colors`,children:[(0,K.jsx)("div",{className:`h-64 ${"dark"===h?"bg-black":"bg-gray-100"} relative overflow-hidden group`,children:(0,K.jsxs)(Yt,{to:`/product/${e.id}`,className:"block h-full w-full cursor-pointer",children:[(0,K.jsx)("img",{src:e.imageUrl||N(400,300),alt:e.name,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy",onLoad:e=>{e.target.src&&!e.target.src.includes("placeholder")&&nD.preloadImage(e.target.src)},onError:e=>{console.error("Error loading image:",e.target.src),e.target.src=N(400,300)}}),(0,K.jsx)("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]})}),(0,K.jsxs)("div",{className:"p-5",children:[(0,K.jsx)(Yt,{to:`/product/${e.id}`,className:"block",children:(0,K.jsx)("h3",{className:`${T.text} font-medium text-lg mb-2 font-inter hover:underline`,children:e.name})}),(0,K.jsx)("p",{className:`${T.subtext} text-sm mb-3 font-inter`,children:e.category}),(0,K.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,K.jsxs)("span",{className:`${T.text} text-xl font-bold font-inter`,children:["$",(null===(t=e.price)||void 0===t?void 0:t.toFixed(2))||"0.00"]})})]}),(0,K.jsxs)("div",{className:"px-5 pb-5 space-y-3",children:[(0,K.jsxs)(Yt,{to:`/product/${e.id}`,className:`w-full bg-transparent border ${T.buttonOutline} px-4 py-3 rounded-[12px] transition-colors flex items-center justify-center gap-2 font-inter font-bold`,children:["View Details",(0,K.jsx)(kj,{size:16})]}),g||y?(0,K.jsx)("button",{onClick:()=>(e=>{m(e,1),c(e.id),setTimeout((()=>{c(null)}),3e3)})(e),className:"w-full h-full px-4 py-3 rounded-[12px] transition-colors flex items-center justify-center gap-2 font-inter "+(l===e.id?"bg-green-600 text-white":"dark"===h?"bg-white text-black hover:bg-gray-200":"bg-gray-900 text-white hover:bg-gray-800"),disabled:l===e.id,children:l===e.id?(0,K.jsxs)(K.Fragment,{children:["Added to Cart",(0,K.jsx)(Sj,{size:16})]}):(0,K.jsxs)(K.Fragment,{children:["Add to Cart",(0,K.jsx)(hj,{size:16})]})}):(0,K.jsxs)(Yt,{to:`/login?redirect=${encodeURIComponent(f.pathname+f.search)}`,className:`w-full ${"dark"===h?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"} px-4 py-3 rounded-[12px] transition-colors flex items-center justify-center gap-2 font-inter font-bold`,children:["Sign in to add to cart",(0,K.jsx)(kj,{size:16})]})]})]},e.id)}))})})]})]})})}const iD=cT("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),sD=cT("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),aD=cT("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function oD(){var e;const{id:t}=Qe(),n=Ke(),r=qe(),{currentUser:i,isGuest:s}=ob(),{addToCart:a}=uj(),[o,l]=(0,H.useState)(1),[c,u]=(0,H.useState)(!1),[d,h]=(0,H.useState)([]),[f,p]=(0,H.useState)(0),{data:m,isLoading:g}=aj({queryKey:["product",t],queryFn:async()=>{window.scrollTo(0,0);try{const e=gg(Xv,"products",t),n=await vy(e);if(n.exists()){const e=n.data(),t=await gT(`${e.category} ${e.name}`,{orientation:"horizontal"}),r=[];for(let n=0;n<3;n++){const t=await gT(`${e.category} ${e.name} ${n+1}`,{orientation:"horizontal"});r.push(t)}return h([t,...r]),{id:n.id,...e,imageUrl:t}}return console.error("Product not found"),null}catch(e){return console.error("Error fetching product:",e),null}},staleTime:3e5,cacheTime:18e5,retry:1});return g?(0,K.jsx)("div",{className:"bg-black text-white min-h-screen",children:(0,K.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,K.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,K.jsx)(vT,{size:"78",speed:"1.4",color:"white"})})})}):m?(0,K.jsx)("div",{className:"bg-black text-white min-h-screen",children:(0,K.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,K.jsxs)(iT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[(0,K.jsxs)(Yt,{to:"/shop",className:"text-gray-400 hover:text-white transition-colors flex items-center gap-2 font-inter mb-4",children:[(0,K.jsx)(uT,{size:18}),"Back to Shop"]}),(0,K.jsxs)("div",{className:"w-fit",children:[(0,K.jsx)("h1",{className:"text-4xl font-bold mb-2 tracking-tight font-poppins",children:"PRODUCT DETAILS"}),(0,K.jsx)("div",{className:"h-1 bg-white w-full"})]})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,K.jsxs)(iT.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] overflow-hidden relative",children:[(0,K.jsx)("img",{src:d[f]||m.imageUrl,alt:m.name,className:"w-full h-96 object-cover"}),(0,K.jsx)("button",{onClick:()=>p((e=>0===e?d.length-1:e-1)),className:"absolute top-1/2 left-4 transform -translate-y-1/2 bg-black bg-opacity-50 p-2 rounded-full hover:bg-gray-800 transition-colors",children:(0,K.jsx)(uT,{size:24,className:"text-white"})}),(0,K.jsx)("button",{onClick:()=>p((e=>e===d.length-1?0:e+1)),className:"absolute top-1/2 right-4 transform -translate-y-1/2 bg-black bg-opacity-50 p-2 rounded-full hover:bg-gray-800 transition-colors",children:(0,K.jsx)(uT,{size:24,className:"text-white rotate-180"})})]}),d.length>1&&(0,K.jsx)("div",{className:"grid grid-cols-4 gap-2 mt-4",children:d.map(((e,t)=>(0,K.jsx)("div",{className:"h-20 bg-gray-900 border cursor-pointer overflow-hidden rounded-[12px] "+(f===t?"border-white":"border-gray-800"),onClick:()=>(e=>{p(e)})(t),children:(0,K.jsx)("img",{src:e||"/placeholder.svg",alt:`${m.name} view ${t+1}`,className:"w-full h-full object-cover"})},t)))})]}),(0,K.jsx)(iT.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] p-8",children:[(0,K.jsx)("h2",{className:"text-3xl font-bold mb-4 font-poppins",children:m.name}),(0,K.jsxs)("div",{className:"text-3xl font-bold text-white mb-6",children:["$",(null===(e=m.price)||void 0===e?void 0:e.toFixed(2))||"0.00"]}),(0,K.jsx)("div",{className:"border-t border-gray-800 my-6 pt-6",children:(0,K.jsx)("p",{className:"text-gray-300 mb-6 font-inter leading-relaxed",children:m.description})}),m.features&&(0,K.jsxs)("div",{className:"mb-6",children:[(0,K.jsx)("h3",{className:"text-xl font-bold mb-3 font-poppins",children:"FEATURES"}),(0,K.jsx)("ul",{className:"list-disc pl-5 text-gray-300 font-inter space-y-1",children:m.features.map(((e,t)=>(0,K.jsx)("li",{children:e},t)))})]}),i||s?(0,K.jsxs)("div",{className:"mb-8",children:[(0,K.jsx)("h3",{className:"text-xl font-bold mb-3 font-poppins",children:"QUANTITY"}),(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("button",{onClick:()=>{o>1&&l((e=>e-1))},className:"bg-black text-white p-2 rounded-l-lg border-t border-b border-l border-gray-700 hover:bg-gray-800 transition-colors h-12",children:(0,K.jsx)(sD,{size:20})}),(0,K.jsx)("input",{type:"text",value:o,onChange:e=>{const t=e.target.value;(""===t||/^\d+$/.test(t))&&l(""===t?"":Number(t))},className:"h-12 w-16 bg-black text-white text-center border-t border-b border-gray-700 focus:outline-none"}),(0,K.jsx)("button",{onClick:()=>{l((e=>e+1))},className:"bg-black text-white p-2 rounded-r-lg border-t border-b border-r border-gray-700 hover:bg-gray-800 transition-colors h-12",children:(0,K.jsx)(aD,{size:20})})]})]}):(0,K.jsx)("div",{className:"mb-8"}),(0,K.jsx)("div",{className:"space-y-4",children:i||s?(0,K.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,K.jsxs)("button",{onClick:()=>{a(m,o),u(!0),setTimeout((()=>{u(!1)}),3e3)},className:"w-full py-2 rounded-[12px] transition-colors flex items-center justify-center font-inter gap-2 bg-green-600 text-white"+(c?"w-full py-2 rounded-[12px] transition-colors flex items-center justify-center gap-2 bg-green-600 text-white font-inter ":"font-inter bg-white text-black hover:bg-gray-200"),children:[c?(0,K.jsx)(Sj,{size:20}):(0,K.jsx)(pj,{size:20}),c?"Added to Cart":"Add to Cart"]}),(0,K.jsxs)("button",{onClick:()=>{a(m,o),n("/checkout")},className:" w-full bg-transparent border border-white text-white px-4 py-2 rounded-[12px] hover:bg-white hover:text-black transition-colors flex items-center justify-center gap-2 font-inter",children:[(0,K.jsx)(hj,{size:20}),"Buy Now"]})]}):(0,K.jsx)(Yt,{to:`/login?redirect=${encodeURIComponent(r.pathname)}`,className:"inline-block bg-white text-black py-3 px-6 rounded-[12px] hover:bg-gray-200 transition-colors text-center w-full font-inter font-bold",children:"Sign in to Buy"})}),m.category&&(0,K.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-800",children:(0,K.jsxs)("div",{className:"flex items-center text-gray-400 font-inter",children:[(0,K.jsx)("span",{className:"mr-2",children:"Category:"}),(0,K.jsx)(Yt,{to:`/shop?category=${m.categoryId}`,className:"text-white hover:text-gray-300 transition-colors",children:m.category})]})})]})})]})]})}):(0,K.jsx)("div",{className:"bg-black text-white min-h-screen",children:(0,K.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,K.jsxs)(iT.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900 border border-gray-800 rounded-[12px] p-12 text-center max-w-2xl mx-auto",children:[(0,K.jsx)("div",{className:"h-24 w-24 bg-black rounded-full flex items-center justify-center mx-auto mb-6",children:(0,K.jsx)(iD,{className:"h-12 w-12 text-gray-400"})}),(0,K.jsx)("h3",{className:"text-2xl font-bold text-white mb-2 font-poppins",children:"PRODUCT NOT FOUND"}),(0,K.jsx)("p",{className:"text-gray-400 mb-8 font-inter",children:"The product you're looking for doesn't exist or has been removed."}),(0,K.jsxs)(Yt,{to:"/shop",className:"bg-white text-black py-3 px-8 rounded-[12px] hover:bg-gray-200 inline-flex items-center gap-2 transition-colors font-inter",children:["Back to Shop",(0,K.jsx)(uT,{size:18})]})]})})})}const lD=cT("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function cD(){const{cartItems:e,removeFromCart:t,updateQuantity:n,clearCart:r,cartTotal:i,loading:s}=uj(),{currentUser:a,isGuest:o}=ob(),[l,c]=(0,H.useState)(""),[u,d]=(0,H.useState)(0),{data:h,isLoading:f}=aj({queryKey:["userCoupons",null===a||void 0===a?void 0:a.uid],queryFn:async()=>[],staleTime:3e5,cacheTime:18e5,enabled:!!a}),p=i>100?0:10,m=.08*i,g=i+p+m-u,y=(e,t)=>`https://via.placeholder.com/${e}x${t}/1a1a1a/ffffff?text=ShopEase`;return s||f?(0,K.jsx)("div",{className:"bg-black text-white min-h-screen",children:(0,K.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,K.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,K.jsx)(vT,{size:"78",speed:"1.4",color:"white"})})})}):(0,K.jsx)("div",{className:"bg-black text-white min-h-screen",children:(0,K.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,K.jsx)(iT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:(0,K.jsxs)("div",{className:"w-fit",children:[(0,K.jsx)("h1",{className:"text-4xl font-bold mb-2 tracking-tight font-poppins",children:"YOUR CART"}),(0,K.jsx)("div",{className:"h-1 bg-white w-full"})]})}),0===e.length?(0,K.jsxs)(iT.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"bg-gray-900 border border-gray-800 rounded-[12px] p-12 text-center max-w-2xl mx-auto",children:[(0,K.jsx)("div",{className:"h-24 w-24 bg-black rounded-full flex items-center justify-center mx-auto mb-6",children:(0,K.jsx)(pj,{className:"h-12 w-12 text-gray-400"})}),(0,K.jsx)("h3",{className:"text-2xl font-bold text-white mb-2 font-poppins",children:"YOUR CART IS EMPTY"}),(0,K.jsx)("p",{className:"text-gray-400 mb-8 font-inter",children:"Looks like you haven't added any products to your cart yet."}),(0,K.jsxs)(Yt,{to:"/shop",className:"bg-white text-black py-3 px-8 rounded-[12px] hover:bg-gray-200 inline-flex items-center gap-2 transition-colors font-inter",children:["Continue Shopping",(0,K.jsx)(kj,{size:18})]})]}):(0,K.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,K.jsx)(iT.div,{className:"lg:col-span-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] overflow-hidden",children:[(0,K.jsx)("div",{className:"overflow-x-auto",children:(0,K.jsxs)("table",{className:"min-w-full divide-y divide-gray-800",children:[(0,K.jsx)("thead",{className:"bg-black",children:(0,K.jsxs)("tr",{children:[(0,K.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider font-poppins",children:"Product"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider font-poppins",children:"Price"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider font-poppins",children:"Quantity"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider font-poppins",children:"Total"}),(0,K.jsx)("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase tracking-wider font-poppins",children:"Actions"})]})}),(0,K.jsx)("tbody",{className:"divide-y divide-gray-800",children:e.map((e=>(0,K.jsxs)("tr",{className:"hover:bg-gray-800 transition-colors",children:[(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("div",{className:"h-16 w-16 flex-shrink-0 bg-gray-800 rounded-[12px] overflow-hidden",children:(0,K.jsx)("img",{className:"h-16 w-16 object-cover",src:e.imageUrl||y(80,80),alt:e.name})}),(0,K.jsx)("div",{className:"ml-4",children:(0,K.jsx)("div",{className:"text-sm font-medium text-white font-inter",children:e.name})})]})}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,K.jsxs)("div",{className:"text-sm text-white font-inter",children:["$",e.price.toFixed(2)]})}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("button",{onClick:()=>{1===e.quantity?t(e.id):n(e.id,e.quantity-1)},className:"bg-black text-white p-2 rounded-l-lg border-t border-b border-l border-gray-700 hover:bg-gray-700 transition-colors flex items-center justify-center w-10 h-10",children:(0,K.jsx)(sD,{size:16})}),(0,K.jsx)("input",{type:"number",value:e.quantity,onChange:t=>n(e.id,Math.max(1,parseInt(t.target.value))),className:"w-12 h-10 text-center border-t border-b border-gray-700 bg-black text-white",min:"1"}),(0,K.jsx)("button",{onClick:()=>n(e.id,e.quantity+1),className:"bg-black text-white p-2 rounded-r-lg hover:bg-gray-700 transition-colors flex items-center justify-center w-10 h-10 border-t border-b border-r border-gray-700",children:(0,K.jsx)(aD,{size:16})})]})}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,K.jsxs)("div",{className:"text-sm text-white font-medium font-inter",children:["$",(e.price*e.quantity).toFixed(2)]})}),(0,K.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,K.jsx)("button",{onClick:()=>t(e.id),className:"text-gray-400 hover:text-white transition-colors bg-gray-800 p-2 rounded-[12px]",children:(0,K.jsx)(UT,{size:18})})})]},e.id)))})]})}),(0,K.jsxs)("div",{className:"px-6 py-4 bg-black flex justify-between",children:[(0,K.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-white text-sm font-medium transition-colors font-inter hover:bg-gray-800 p-2 rounded-[12px]",children:"Clear Cart"}),(0,K.jsxs)(Yt,{to:"/shop",className:"text-gray-400 hover:text-white text-sm font-medium transition-colors font-inter flex items-center gap-1 hover:bg-gray-800 p-2 rounded-[12px]",children:["Continue Shopping",(0,K.jsx)(kj,{size:16})]})]})]})}),(0,K.jsx)(iT.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] p-6",children:[(0,K.jsx)("h2",{className:"text-xl font-bold mb-6 font-poppins",children:"ORDER SUMMARY"}),(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"text-gray-400 font-inter",children:"Subtotal"}),(0,K.jsxs)("span",{className:"font-medium text-white font-inter",children:["$",i.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"text-gray-400 font-inter",children:"Shipping"}),(0,K.jsxs)("span",{className:"font-medium text-white font-inter",children:["$",p.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"text-gray-400 font-inter",children:"Tax"}),(0,K.jsxs)("span",{className:"font-medium text-white font-inter",children:["$",m.toFixed(2)]})]}),u>0&&(0,K.jsxs)("div",{className:"flex justify-between text-green-400",children:[(0,K.jsx)("span",{className:"font-inter",children:"Discount"}),(0,K.jsxs)("span",{className:"font-inter",children:["-$",u.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"border-t border-gray-800 pt-4 flex justify-between",children:[(0,K.jsx)("span",{className:"font-semibold text-white font-inter",children:"Total"}),(0,K.jsxs)("span",{className:"font-bold text-white text-xl font-inter",children:["$",g.toFixed(2)]})]})]}),(0,K.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,K.jsxs)("div",{className:"flex space-x-2",children:[(0,K.jsx)("input",{type:"text",placeholder:"Coupon Code",value:l,onChange:e=>c(e.target.value),className:"bg-black text-white px-4 py-2 rounded-[12px] border border-gray-700 flex-grow focus:outline-none focus:border-white"}),(0,K.jsxs)("button",{onClick:()=>{"discount10"===l.toLowerCase()?d(.1*i):"discount20"===l.toLowerCase()?d(.2*i):alert("Invalid coupon code")},disabled:!l,className:"bg-white text-black px-4 py-2 rounded-[12px] hover:bg-gray-200 transition-colors flex items-center gap-1 font-inter",children:[(0,K.jsx)(lD,{size:16}),"Apply"]})]}),a||o?(0,K.jsxs)(Yt,{to:"/checkout",className:"bg-white text-black w-full py-3 rounded-[12px] hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 font-inter",children:["Proceed to Checkout",(0,K.jsx)(kj,{size:18})]}):(0,K.jsxs)("div",{className:"space-y-3",children:[(0,K.jsxs)(Yt,{to:`/login?redirect=${encodeURIComponent("/checkout")}`,className:"bg-white text-black w-full py-3 rounded-[12px] hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 font-inter",children:["Sign In to Checkout",(0,K.jsx)(kj,{size:18})]}),(0,K.jsxs)(Yt,{to:`/register?redirect=${encodeURIComponent("/checkout")}`,className:"bg-gray-800 text-gray-300 w-full py-3 rounded-[12px] hover:bg-gray-700 border border-gray-700 transition-colors flex items-center justify-center gap-2 font-inter",children:["Create Account to Checkout",(0,K.jsx)(kj,{size:18})]}),(0,K.jsxs)(Yt,{to:`/login?redirect=${encodeURIComponent("/checkout")}`,onClick:e=>{e.preventDefault(),window.location.href="/checkout"},className:"bg-amber-500 text-black w-full py-3 rounded-[12px] hover:bg-amber-600 transition-colors flex items-center justify-center gap-2 font-inter",children:["Checkout as Guest",(0,K.jsx)(kj,{size:18})]})]})]})]})})]})]})})}function uD(e){return parseInt(H.version,10)>=19?e?.props?.ref||null:e?.ref||null}const dD=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function hD(e){const t=[],n=[];return Array.from(e.querySelectorAll(dD)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function fD(){return!0}const pD=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=hD,isEnabled:a=fD,open:o}=e,l=H.useRef(!1),c=H.useRef(null),u=H.useRef(null),d=H.useRef(null),h=H.useRef(null),f=H.useRef(!1),p=H.useRef(null),m=Yj(uD(t),p),g=H.useRef(null);H.useEffect((()=>{o&&p.current&&(f.current=!n)}),[n,o]),H.useEffect((()=>{if(!o||!p.current)return;const e=iI(p.current);return p.current.contains(e.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}}),[o]),H.useEffect((()=>{if(!o||!p.current)return;const e=iI(p.current),t=t=>{g.current=t,!r&&a()&&"Tab"===t.key&&e.activeElement===p.current&&t.shiftKey&&(l.current=!0,u.current&&u.current.focus())},n=()=>{const t=p.current;if(null===t)return;if(!e.hasFocus()||!a()||l.current)return void(l.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==c.current&&e.activeElement!==u.current)return;if(e.activeElement!==h.current)h.current=null;else if(null!==h.current)return;if(!f.current)return;let n=[];if(e.activeElement!==c.current&&e.activeElement!==u.current||(n=s(p.current)),n.length>0){const e=Boolean(g.current?.shiftKey&&"Tab"===g.current?.key),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,i,a,o,s]);const y=e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0};return(0,K.jsxs)(H.Fragment,{children:[(0,K.jsx)("div",{tabIndex:o?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),H.cloneElement(t,{ref:m,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0,h.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,K.jsx)("div",{tabIndex:o?0:-1,onFocus:y,ref:u,"data-testid":"sentinelEnd"})]})};var mD=n(950);function gD(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const yD=H.forwardRef((function(e,t){const{children:n,container:r,disablePortal:i=!1}=e,[s,a]=H.useState(null),o=Yj(H.isValidElement(n)?uD(n):null,t);if(aI((()=>{i||a(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,i]),aI((()=>{if(s&&!i)return gD(t,s),()=>{gD(t,null)}}),[t,s,i]),i){if(H.isValidElement(n)){const e={ref:o};return H.cloneElement(n,e)}return n}return s?mD.createPortal(n,s):s}));function vD(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=s,f=u[e]||r,p=nI(d[e],i),{props:{component:m,...g},internalRef:y}=tI({className:n,...l,externalForwardedProps:"root"===e?h:void 0,externalSlotProps:p}),v=Yj(y,p?.ref,t.ref),b="root"===e?m||c:m;return[f,Jj(f,{..."root"===e&&!c&&!u[e]&&a,..."root"!==e&&!u[e]&&a,...g,...b&&!o&&{as:b},...b&&o&&{component:b},ref:v},i)]}function bD(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function xD(e,t){return xD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xD(e,t)}function wD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xD(e,t)}const kD=!1,SD=H.createContext(null);var ED="unmounted",CD="exited",ND="entering",TD="entered",_D="exiting",jD=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=CD,r.appearStatus=ND):i=TD:i=t.unmountOnExit||t.mountOnEnter?ED:CD,r.state={status:i},r.nextCallback=null,r}wD(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ED?{status:CD}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ND&&n!==TD&&(t=ND):n!==ND&&n!==TD||(t=_D)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ND){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:mD.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===CD&&this.setState({status:ED})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[mD.findDOMNode(this),r],s=i[0],a=i[1],o=this.getTimeouts(),l=r?o.appear:o.enter;!e&&!n||kD?this.safeSetState({status:TD},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:ND},(function(){t.props.onEntering(s,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:TD},(function(){t.props.onEntered(s,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:mD.findDOMNode(this);t&&!kD?(this.props.onExit(r),this.safeSetState({status:_D},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:CD},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:CD},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:mD.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],a=i[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===ED)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,bD(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return H.createElement(SD.Provider,{value:null},"function"===typeof n?n(e,r):H.cloneElement(H.Children.only(n),r))},t}(H.Component);function ID(){}jD.contextType=SD,jD.propTypes={},jD.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ID,onEntering:ID,onEntered:ID,onExit:ID,onExiting:ID,onExited:ID},jD.UNMOUNTED=ED,jD.EXITED=CD,jD.ENTERING=ND,jD.ENTERED=TD,jD.EXITING=_D;const PD=jD;const AD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=H.useContext(GP);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},RD=wR();const OD=function(){return AD(arguments.length>0&&void 0!==arguments[0]?arguments[0]:RD)};function DD(){const e=OD(EO);return e[CO]||e}function MD(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??("number"===typeof n?n:n[t.mode]||0),easing:i.transitionTimingFunction??("object"===typeof r?r[t.mode]:r),delay:i.transitionDelay}}const LD=Yj,FD={entering:{opacity:1},entered:{opacity:1}},UD=H.forwardRef((function(e,t){const n=DD(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:o,in:l,onEnter:c,onEntered:u,onEntering:d,onExit:h,onExited:f,onExiting:p,style:m,timeout:g=r,TransitionComponent:y=PD,...v}=e,b=H.useRef(null),x=LD(b,uD(a),t),w=e=>t=>{if(e){const n=b.current;void 0===t?e(n):e(n,t)}},k=w(d),S=w(((e,t)=>{(e=>{e.scrollTop})(e);const r=MD({style:m,timeout:g,easing:o},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),c&&c(e,t)})),E=w(u),C=w(p),N=w((e=>{const t=MD({style:m,timeout:g,easing:o},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),h&&h(e)})),T=w(f);return(0,K.jsx)(y,{appear:s,in:l,nodeRef:b,onEnter:S,onEntered:E,onEntering:k,onExit:N,onExited:T,onExiting:C,addEndListener:e=>{i&&i(b.current,e)},timeout:g,...v,children:(e,t)=>{let{ownerState:n,...r}=t;return H.cloneElement(a,{style:{opacity:0,visibility:"exited"!==e||l?void 0:"hidden",...FD[e],...m,...a.props.style},ref:x,...r})}})})),$D=UD;function VD(e){return VO("MuiBackdrop",e)}zO("MuiBackdrop",["root","invisible"]);const zD=_O("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),BD=H.forwardRef((function(e,t){const n=OO({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:s="div",invisible:a=!1,open:o,components:l={},componentsProps:c={},slotProps:u={},slots:d={},TransitionComponent:h,transitionDuration:f,...p}=n,m={...n,component:s,invisible:a},g=(e=>{const{classes:t,invisible:n}=e;return Rj({root:["root",n&&"invisible"]},VD,t)})(m),y={slots:{transition:h,root:l.Root,...d},slotProps:{...c,...u}},[v,b]=vD("root",{elementType:zD,externalForwardedProps:y,className:Aj(g.root,i),ownerState:m}),[x,w]=vD("transition",{elementType:$D,externalForwardedProps:y,ownerState:m});return(0,K.jsx)(x,{in:o,timeout:f,...p,...w,children:(0,K.jsx)(v,{"aria-hidden":!0,...b,classes:g,ref:t,children:r})})})),qD=BD;function HD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function WD(e){return iI(e).defaultView||window}function KD(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function GD(e){return parseInt(WD(e).getComputedStyle(e).paddingRight,10)||0}function QD(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!s.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&KD(e,i)}))}function YD(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function XD(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=iI(e);return t.body===e?WD(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}(WD(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${GD(r)+e}px`;const t=iI(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${GD(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=iI(r).body;else{const t=r.parentElement,n=WD(r);e="HTML"===t?.nodeName&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const JD=()=>{},ZD=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&KD(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);QD(t,e.mount,e.modalRef,r,!0);const i=YD(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=YD(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=XD(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=YD(this.containers,(t=>t.modals.includes(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&KD(e.modalRef,t),QD(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&KD(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const eM=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:o,onClose:l,open:c,rootRef:u}=e,d=H.useRef({}),h=H.useRef(null),f=H.useRef(null),p=Yj(f,u),[m,g]=H.useState(!c),y=function(e){return!!e&&e.props.hasOwnProperty("in")}(o);let v=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(v=!1);const b=()=>(d.current.modalRef=f.current,d.current.mount=h.current,d.current),x=()=>{ZD.mount(b(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},w=oI((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||iI(h.current).body;ZD.add(b(),e),f.current&&x()})),k=()=>ZD.isTopModal(b()),S=oI((e=>{h.current=e,e&&(c&&k()?x():f.current&&KD(f.current,v))})),E=H.useCallback((()=>{ZD.remove(b(),v)}),[v]);H.useEffect((()=>()=>{E()}),[E]),H.useEffect((()=>{c?w():y&&i||E()}),[c,E,y,i,w]);const C=e=>t=>{e.onKeyDown?.(t),"Escape"===t.key&&229!==t.which&&k()&&(n||(t.stopPropagation(),l&&l(t,"escapeKeyDown")))},N=e=>t=>{e.onClick?.(t),t.target===t.currentTarget&&l&&l(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Zj(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r={...n,...t};return{role:"presentation",...r,onKeyDown:C(r),ref:p}},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...e,onClick:N(e),open:c}},getTransitionProps:()=>({onEnter:HD((()=>{g(!1),s&&s()}),o?.props.onEnter??JD),onExited:HD((()=>{g(!0),a&&a(),i&&E()}),o?.props.onExited??JD)}),rootRef:p,portalRef:S,isTopModal:k,exited:m,hasTransition:y}};function tM(e){return VO("MuiModal",e)}zO("MuiModal",["root","hidden","backdrop"]);const nM=_O("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(IO((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),rM=_O(qD,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),iM=H.forwardRef((function(e,t){const n=OO({name:"MuiModal",props:e}),{BackdropComponent:r=rM,BackdropProps:i,classes:s,className:a,closeAfterTransition:o=!1,children:l,container:c,component:u,components:d={},componentsProps:h={},disableAutoFocus:f=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:m=!1,disablePortal:g=!1,disableRestoreFocus:y=!1,disableScrollLock:v=!1,hideBackdrop:b=!1,keepMounted:x=!1,onClose:w,onTransitionEnter:k,onTransitionExited:S,open:E,slotProps:C={},slots:N={},theme:T,..._}=n,j={...n,closeAfterTransition:o,disableAutoFocus:f,disableEnforceFocus:p,disableEscapeKeyDown:m,disablePortal:g,disableRestoreFocus:y,disableScrollLock:v,hideBackdrop:b,keepMounted:x},{getRootProps:I,getBackdropProps:P,getTransitionProps:A,portalRef:R,isTopModal:O,exited:D,hasTransition:M}=eM({...j,rootRef:t}),L={...j,exited:D},F=(e=>{const{open:t,exited:n,classes:r}=e;return Rj({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},tM,r)})(L),U={};if(void 0===l.props.tabIndex&&(U.tabIndex="-1"),M){const{onEnter:e,onExited:t}=A();U.onEnter=e,U.onExited=t}const $={slots:{root:d.Root,backdrop:d.Backdrop,...N},slotProps:{...h,...C}},[V,z]=vD("root",{ref:t,elementType:nM,externalForwardedProps:{...$,..._,component:u},getSlotProps:I,ownerState:L,className:Aj(a,F?.root,!L.open&&L.exited&&F?.hidden)}),[B,q]=vD("backdrop",{ref:i?.ref,elementType:r,externalForwardedProps:$,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:e=>P({...e,onClick:t=>{e?.onClick&&e.onClick(t)}}),className:Aj(i?.className,F?.backdrop),ownerState:L});return x||E||M&&!D?(0,K.jsx)(yD,{ref:R,container:c,disablePortal:g,children:(0,K.jsxs)(V,{...z,children:[!b&&r?(0,K.jsx)(B,{...q}):null,(0,K.jsx)(pD,{disableEnforceFocus:p,disableAutoFocus:f,disableRestoreFocus:y,isEnabled:O,open:E,children:H.cloneElement(l,U)})]})}):null})),sM=iM;function aM(e){return VO("MuiPaper",e)}zO("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const oM=_O("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(IO((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),lM=H.forwardRef((function(e,t){const n=OO({props:e,name:"MuiPaper"}),r=DD(),{className:i,component:s="div",elevation:a=1,square:o=!1,variant:l="elevation",...c}=n,u={...n,component:s,elevation:a,square:o,variant:l},d=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Rj({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},aM,i)})(u);return(0,K.jsx)(oM,{as:s,ownerState:u,className:Aj(d.root,i),ref:t,...c,style:{..."elevation"===l&&{"--Paper-shadow":(r.vars||r).shadows[a],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[a]},...!r.vars&&"dark"===r.palette.mode&&{"--Paper-overlay":`linear-gradient(${zj("#fff",cO(a))}, ${zj("#fff",cO(a))})`}},...c.style}})})),cM=lM;function uM(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=(e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??yR;return Object.keys(e).forEach((r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]})),t})(n);let s;return s=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return hA(e)?{...r,...e}:r}:{...r,...t},{...i,sx:s}}const dM=zO("MuiBox",["root"]),hM=SO(),fM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,s=lA("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(bR),a=H.forwardRef((function(e,a){const o=OD(n),{className:l,component:c="div",...u}=uM(e);return(0,K.jsx)(s,{as:c,ref:a,className:Aj(l,i?i(r):r),theme:t&&o[t]||o,...u})}));return a}({themeId:CO,defaultTheme:hM,defaultClassName:dM.root,generateClassName:UO.generate}),pM=fM;let mM=0;const gM={...W}.useId;const yM=function(e){if(void 0!==gM){const t=gM();return e??t}return function(e){const[t,n]=H.useState(e),r=e||t;return H.useEffect((()=>{null==t&&(mM+=1,n(`mui-${mM}`))}),[t]),r}(e)},vM=oI,bM={};function xM(e,t){const n=H.useRef(bM);return n.current===bM&&(n.current=e(t)),n}class wM{static create(){return new wM}static use(){const e=xM(wM.create).current,[t,n]=H.useState(!1);return e.shouldMount=t,e.setShouldMount=n,H.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.start(...t)))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.stop(...t)))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.pulsate(...t)))}}function kM(e,t){var n=Object.create(null);return e&&H.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,H.isValidElement)(e)?t(e):e}(e)})),n}function SM(e,t,n){return null!=n[t]?n[t]:e.props[t]}function EM(e,t,n){var r=kM(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),s=[];for(var a in e)a in t?s.length&&(i[a]=s,s=[]):s.push(a);var o={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];o[i[l][r]]=n(c)}o[l]=n(l)}for(r=0;r<s.length;r++)o[s[r]]=n(s[r]);return o}(t,r);return Object.keys(i).forEach((function(s){var a=i[s];if((0,H.isValidElement)(a)){var o=s in t,l=s in r,c=t[s],u=(0,H.isValidElement)(c)&&!c.props.in;!l||o&&!u?l||!o||u?l&&o&&(0,H.isValidElement)(c)&&(i[s]=(0,H.cloneElement)(a,{onExited:n.bind(null,a),in:c.props.in,exit:SM(a,"exit",e),enter:SM(a,"enter",e)})):i[s]=(0,H.cloneElement)(a,{in:!1}):i[s]=(0,H.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:SM(a,"exit",e),enter:SM(a,"enter",e)})}})),i}var CM=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},NM=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}wD(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,r=s,kM(n.children,(function(e){return(0,H.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:SM(e,"appear",n),enter:SM(e,"enter",n),exit:SM(e,"exit",n)})}))):EM(e,i,s),firstRender:!1}},n.handleExited=function(e,t){var n=kM(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=CI({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=bD(e,["component","childFactory"]),i=this.state.contextValue,s=CM(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?H.createElement(SD.Provider,{value:i},s):H.createElement(SD.Provider,{value:i},H.createElement(t,r,s))},t}(H.Component);NM.propTypes={},NM.defaultProps={component:"div",childFactory:function(e){return e}};const TM=NM,_M=[];class jM{static create(){return new jM}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function IM(){const e=xM(jM.create).current;var t;return t=e.disposeEffect,H.useEffect(t,_M),e}n(219);var PM=function(e,t){var n=arguments;if(null==t||!QP.call(t,"css"))return H.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=ZP,i[1]=function(e,t){var n={};for(var r in t)QP.call(t,r)&&(n[r]=t[r]);return n[YP]=e,n}(e,t);for(var s=2;s<r;s++)i[s]=n[s];return H.createElement.apply(null,i)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(PM||(PM={}));function AM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return BP(t)}function RM(){var e=AM.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const OM=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:c}=e,[u,d]=H.useState(!1),h=Aj(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+i},p=Aj(n.child,u&&n.childLeaving,r&&n.childPulsate);return o||u||d(!0),H.useEffect((()=>{if(!o&&null!=l){const e=setTimeout(l,c);return()=>{clearTimeout(e)}}}),[l,o,c]),(0,K.jsx)("span",{className:h,style:f,children:(0,K.jsx)("span",{className:p})})};const DM=zO("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),MM=RM`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,LM=RM`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,FM=RM`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,UM=_O("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$M=_O(OM,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${DM.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${MM};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  &.${DM.ripplePulsate} {
    animation-duration: ${e=>{let{theme:t}=e;return t.transitions.duration.shorter}}ms;
  }

  & .${DM.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${DM.childLeaving} {
    opacity: 0;
    animation-name: ${LM};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  & .${DM.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${FM};
    animation-duration: 2500ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,VM=H.forwardRef((function(e,t){const n=OO({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:s,...a}=n,[o,l]=H.useState([]),c=H.useRef(0),u=H.useRef(null);H.useEffect((()=>{u.current&&(u.current(),u.current=null)}),[o]);const d=H.useRef(!1),h=IM(),f=H.useRef(null),p=H.useRef(null),m=H.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:s,cb:a}=e;l((e=>[...e,(0,K.jsx)($M,{classes:{ripple:Aj(i.ripple,DM.ripple),rippleVisible:Aj(i.rippleVisible,DM.rippleVisible),ripplePulsate:Aj(i.ripplePulsate,DM.ripplePulsate),child:Aj(i.child,DM.child),childLeaving:Aj(i.childLeaving,DM.childLeaving),childPulsate:Aj(i.childPulsate,DM.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:s},c.current)])),c.current+=1,u.current=a}),[i]),g=H.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:s=r||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===e?.type&&d.current)return void(d.current=!1);"touchstart"===e?.type&&(d.current=!0);const o=a?null:p.current,l=o?o.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,g;if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(s)g=Math.sqrt((2*l.width**2+l.height**2)/3),g%2===0&&(g+=1);else{const e=2*Math.max(Math.abs((o?o.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((o?o.clientHeight:0)-u),u)+2;g=Math.sqrt(e**2+t**2)}e?.touches?null===f.current&&(f.current=()=>{m({pulsate:i,rippleX:c,rippleY:u,rippleSize:g,cb:n})},h.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):m({pulsate:i,rippleX:c,rippleY:u,rippleSize:g,cb:n})}),[r,m,h]),y=H.useCallback((()=>{g({},{pulsate:!0})}),[g]),v=H.useCallback(((e,t)=>{if(h.clear(),"touchend"===e?.type&&f.current)return f.current(),f.current=null,void h.start(0,(()=>{v(e,t)}));f.current=null,l((e=>e.length>0?e.slice(1):e)),u.current=t}),[h]);return H.useImperativeHandle(t,(()=>({pulsate:y,start:g,stop:v})),[y,g,v]),(0,K.jsx)(UM,{className:Aj(DM.root,i.root,s),ref:p,...a,children:(0,K.jsx)(TM,{component:null,exit:!0,children:o})})})),zM=VM;function BM(e){return VO("MuiButtonBase",e)}const qM=zO("MuiButtonBase",["root","disabled","focusVisible"]),HM=_O("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${qM.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),WM=H.forwardRef((function(e,t){const n=OO({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:s,className:a,component:o="button",disabled:l=!1,disableRipple:c=!1,disableTouchRipple:u=!1,focusRipple:d=!1,focusVisibleClassName:h,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:y,onFocus:v,onFocusVisible:b,onKeyDown:x,onKeyUp:w,onMouseDown:k,onMouseLeave:S,onMouseUp:E,onTouchEnd:C,onTouchMove:N,onTouchStart:T,tabIndex:_=0,TouchRippleProps:j,touchRippleRef:I,type:P,...A}=n,R=H.useRef(null),O=wM.use(),D=LD(O.ref,I),[M,L]=H.useState(!1);l&&M&&L(!1),H.useImperativeHandle(r,(()=>({focusVisible:()=>{L(!0),R.current.focus()}})),[]);const F=O.shouldMount&&!c&&!l;H.useEffect((()=>{M&&d&&!c&&O.pulsate()}),[c,d,M,O]);const U=KM(O,"start",k,u),$=KM(O,"stop",g,u),V=KM(O,"stop",y,u),z=KM(O,"stop",E,u),B=KM(O,"stop",(e=>{M&&e.preventDefault(),S&&S(e)}),u),q=KM(O,"start",T,u),W=KM(O,"stop",C,u),G=KM(O,"stop",N,u),Q=KM(O,"stop",(e=>{sI(e.target)||L(!1),p&&p(e)}),!1),Y=vM((e=>{R.current||(R.current=e.currentTarget),sI(e.target)&&(L(!0),b&&b(e)),v&&v(e)})),X=()=>{const e=R.current;return o&&"button"!==o&&!("A"===e.tagName&&e.href)},J=vM((e=>{d&&!e.repeat&&M&&" "===e.key&&O.stop(e,(()=>{O.start(e)})),e.target===e.currentTarget&&X()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&X()&&"Enter"===e.key&&!l&&(e.preventDefault(),m&&m(e))})),Z=vM((e=>{d&&" "===e.key&&M&&!e.defaultPrevented&&O.stop(e,(()=>{O.pulsate(e)})),w&&w(e),m&&e.target===e.currentTarget&&X()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let ee=o;"button"===ee&&(A.href||A.to)&&(ee=f);const te={};"button"===ee?(te.type=void 0===P?"button":P,te.disabled=l):(A.href||A.to||(te.role="button"),l&&(te["aria-disabled"]=l));const ne=LD(t,R),re={...n,centerRipple:i,component:o,disabled:l,disableRipple:c,disableTouchRipple:u,focusRipple:d,tabIndex:_,focusVisible:M},ie=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Rj({root:["root",t&&"disabled",n&&"focusVisible"]},BM,i);return n&&r&&(s.root+=` ${r}`),s})(re);return(0,K.jsxs)(HM,{as:ee,className:Aj(ie.root,a),ownerState:re,onBlur:Q,onClick:m,onContextMenu:$,onFocus:Y,onKeyDown:J,onKeyUp:Z,onMouseDown:U,onMouseLeave:B,onMouseUp:z,onDragLeave:V,onTouchEnd:W,onTouchMove:G,onTouchStart:q,ref:ne,tabIndex:l?-1:_,type:P,...te,...A,children:[s,F?(0,K.jsx)(zM,{ref:D,center:i,...j}):null]})}));function KM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return vM((i=>(n&&n(i),r||e[t](i),!0)))}const GM=WM;function QM(e){return VO("MuiCircularProgress",e)}zO("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const YM=44,XM=RM`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,JM=RM`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,ZM="string"!==typeof XM?AM`
        animation: ${XM} 1.4s linear infinite;
      `:null,eL="string"!==typeof JM?AM`
        animation: ${JM} 1.4s ease-in-out infinite;
      `:null,tL=_O("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${MO(n.color)}`]]}})(IO((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:ZM||{animation:`${XM} 1.4s linear infinite`}},...Object.entries(t.palette).filter(LO()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),nL=_O("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),rL=_O("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${MO(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(IO((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:eL||{animation:`${JM} 1.4s ease-in-out infinite`}}]}}))),iL=H.forwardRef((function(e,t){const n=OO({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:s=!1,size:a=40,style:o,thickness:l=3.6,value:c=0,variant:u="indeterminate",...d}=n,h={...n,color:i,disableShrink:s,size:a,thickness:l,value:c,variant:u},f=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return Rj({root:["root",n,`color${MO(r)}`],svg:["svg"],circle:["circle",`circle${MO(n)}`,i&&"circleDisableShrink"]},QM,t)})(h),p={},m={},g={};if("determinate"===u){const e=2*Math.PI*((YM-l)/2);p.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),p.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,K.jsx)(tL,{className:Aj(f.root,r),style:{width:a,height:a,...m,...o},ownerState:h,ref:t,role:"progressbar",...g,...d,children:(0,K.jsx)(nL,{className:f.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,K.jsx)(rL,{className:f.circle,style:p,ownerState:h,cx:YM,cy:YM,r:(YM-l)/2,fill:"none",strokeWidth:l})})})})),sL=iL;function aL(e){return VO("MuiIconButton",e)}const oL=zO("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),lL=_O(GM,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t[`color${MO(n.color)}`],n.edge&&t[`edge${MO(n.edge)}`],t[`size${MO(n.size)}`]]}})(IO((e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:zj(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),IO((e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(LO()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette).filter(LO()).map((e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:zj((t.vars||t).palette[n].main,t.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${oL.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${oL.loading}`]:{color:"transparent"}}}))),cL=_O("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}})),uL=H.forwardRef((function(e,t){const n=OO({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:s,color:a="default",disabled:o=!1,disableFocusRipple:l=!1,size:c="medium",id:u,loading:d=null,loadingIndicator:h,...f}=n,p=yM(u),m=h??(0,K.jsx)(sL,{"aria-labelledby":p,color:"inherit",size:16}),g={...n,edge:r,color:a,disabled:o,disableFocusRipple:l,loading:d,loadingIndicator:m,size:c},y=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:s,loading:a}=e;return Rj({root:["root",a&&"loading",n&&"disabled","default"!==r&&`color${MO(r)}`,i&&`edge${MO(i)}`,`size${MO(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},aL,t)})(g);return(0,K.jsxs)(lL,{id:d?p:u,className:Aj(y.root,s),centerRipple:!0,focusRipple:!l,disabled:o||d,ref:t,...f,ownerState:g,children:["boolean"===typeof d&&(0,K.jsx)("span",{className:y.loadingWrapper,style:{display:"contents"},children:(0,K.jsx)(cL,{className:y.loadingIndicator,ownerState:g,children:d&&m})}),i]})})),dL=uL;function hL(e){return VO("MuiTypography",e)}zO("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const fL={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},pL=uM,mL=_O("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${MO(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(IO((e=>{let{theme:t}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(t.palette).filter(LO()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette?.text||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[n]=e;return{props:{color:`text${MO(n)}`},style:{color:(t.vars||t).palette.text[n]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),gL={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},yL=H.forwardRef((function(e,t){const{color:n,...r}=OO({props:e,name:"MuiTypography"}),i=pL({...r,...!fL[n]&&{color:n}}),{align:s="inherit",className:a,component:o,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=gL,...f}=i,p={...i,align:s,color:n,className:a,component:o,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h},m=o||(u?"p":h[d]||gL[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=e;return Rj({root:["root",s,"inherit"!==e.align&&`align${MO(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},hL,a)})(p);return(0,K.jsx)(mL,{as:m,ref:t,className:Aj(g.root,a),...f,ownerState:p,style:{..."inherit"!==s&&{"--Typography-textAlign":s},...f.style}})})),vL=yL;function bL(e){let{message:t,isVisible:n,onClose:r,type:i="success"}=e;return(0,K.jsx)(sM,{open:n,onClose:r,closeAfterTransition:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:2,zIndex:1500},BackdropProps:{sx:{backgroundColor:"rgba(0,0,0,0.5)"}},children:(0,K.jsxs)(cM,{elevation:24,sx:{bgcolor:"black",border:"2px solid white",color:"white",borderRadius:"2px",p:{xs:3,sm:4},minWidth:{xs:"300px",sm:"500px",md:"600px"},maxWidth:"90vw",width:"100%",animation:"fadeIn 0.3s ease-out","@keyframes fadeIn":{"0%":{opacity:0,transform:"scale(0.95)"},"100%":{opacity:1,transform:"scale(1)"}},overflow:"auto",maxHeight:"90vh",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.5)",position:"relative",zIndex:1600},onClick:e=>e.stopPropagation(),children:[(0,K.jsx)(pM,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},children:(0,K.jsx)(dL,{onClick:r,sx:{p:.5,color:"#999","&:hover":{color:"white",bgcolor:"rgba(255,255,255,0.1)"}},children:(0,K.jsx)(UT,{size:20})})}),(0,K.jsx)(pM,{sx:{mt:-4},children:"string"===typeof t?(0,K.jsx)(vL,{sx:{color:"#e0e0e0",fontSize:"1rem",fontFamily:"Inter"},children:t}):(0,K.jsx)(pM,{sx:{color:"#e0e0e0"},children:t})}),"success"===i&&(0,K.jsx)(pM,{sx:{mt:4,display:"flex",justifyContent:"center"},children:(0,K.jsx)("button",{onClick:r,style:{backgroundColor:"white",color:"black",padding:"10px 32px",borderRadius:"2px",border:"none",fontFamily:"Inter",fontWeight:500,fontSize:"16px",cursor:"pointer",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f0f0f0",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Continue Shopping"})})]})})}function xL(){const{currentUser:e,isGuest:t,guestId:n,getEffectiveUserId:r,enableGuestMode:i}=ob(),{cartItems:s,cartTotal:a,clearCart:o}=uj(),l=Ke(),c=Q(),u=r();(0,H.useEffect)((()=>{(async()=>{if(!e&&!t)try{await i()}catch(b){console.error("Error enabling guest mode:",b)}})()}),[e,t,i]);const{data:d}=aj({queryKey:["userData",u],queryFn:async()=>{if(!u)return null;try{const e=await vy(gg(Xv,"users",u));return e.exists()?e.data():null}catch(b){return console.error("Error fetching user data:",b),null}},staleTime:3e5,cacheTime:18e5,enabled:!!u,retry:1,retryDelay:1e3}),h=e?["recentOrders",e.uid]:null,{data:f=[]}=aj({queryKey:h,queryFn:async()=>{if(!e)return[];try{const t=ey(mg(Xv,"orders"),ny("userId","==",e.uid),sy("createdAt","desc"),oy(5));return(await xy(t)).docs.map((e=>({id:e.id,...e.data()})))}catch(b){return console.error("Error fetching orders:",b),[]}},staleTime:3e5,cacheTime:18e5,enabled:!!h,retry:1,retryDelay:1e3}),{data:p}=aj({queryKey:["guestOrders",n],queryFn:async()=>{if(!n||!t)return[];try{const e=ey(mg(Xv,"orders"),ny("userId","==",n),ny("isGuestOrder","==",!0),sy("createdAt","desc"),oy(5));return(await xy(e)).docs.map((e=>({id:e.id,...e.data()})))}catch(b){return console.error("Error fetching guest orders:",b),[]}},staleTime:3e5,cacheTime:18e5,enabled:!(!n||!t),retry:1}),[m,g]=([...f||[],...p||[]].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))).slice(0,5),(0,H.useState)({firstName:"",lastName:"",email:(null===e||void 0===e?void 0:e.email)||"",address:"",city:"",state:"",zipCode:"",country:"United States",cardName:"",cardNumber:"",expMonth:"",expYear:"",cvv:""}));(0,H.useEffect)((()=>{d&&g((t=>{var n,r,i;return{...t,firstName:d.firstName||(null===(n=d.name)||void 0===n?void 0:n.split(" ")[0])||"",lastName:d.lastName||((null===(r=d.name)||void 0===r?void 0:r.split(" ").length)>1?null===(i=d.name)||void 0===i?void 0:i.split(" ").slice(1).join(" "):"")||"",email:(null===e||void 0===e?void 0:e.email)||d.email||"",address:d.address||"",city:d.city||"",state:d.state||"",zipCode:d.zipCode||"",country:d.country||"United States"}}))}),[d,e]);const[y,v]=(0,H.useState)(!1),[b,x]=(0,H.useState)(""),[w,k]=(0,H.useState)({visible:!1,message:"",type:"success"}),[S,E]=(0,H.useState)(!1),[C,N]=(0,H.useState)(null),[T,_]=(0,H.useState)(!1),[j,I]=(0,H.useState)({});(0,H.useEffect)((()=>{0!==s.length||T||w.visible||l("/cart")}),[s,l,T,w.visible]);const P=e=>{const{name:t,value:n}=e.target;g({...m,[t]:n})},A=async l=>{if(l.preventDefault(),(()=>{const e={},t=/^[a-zA-Z\s]{2,50}$/;return m.firstName?t.test(m.firstName)||(e.firstName="First name should only contain letters and spaces (2-50 characters)"):e.firstName="First name is required",m.lastName?t.test(m.lastName)||(e.lastName="Last name should only contain letters and spaces (2-50 characters)"):e.lastName="Last name is required",m.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(e.email="Please enter a valid email address"):e.email="Email is required",m.address||(e.address="Address is required"),m.city||(e.city="City is required"),m.state||(e.state="State is required"),m.zipCode?/^\d{5}(-\d{4})?$/.test(m.zipCode)||(e.zipCode="Please enter a valid ZIP code"):e.zipCode="ZIP code is required",m.cardName?t.test(m.cardName)||(e.cardName="Cardholder name should only contain letters and spaces (2-50 characters)"):e.cardName="Cardholder name is required",m.cardNumber?/^\d{16}$/.test(m.cardNumber.replace(/\s/g,""))||(e.cardNumber="Please enter a valid 16-digit card number"):e.cardNumber="Card number is required",m.expMonth?(parseInt(m.expMonth)<1||parseInt(m.expMonth)>12)&&(e.expMonth="Please enter a valid month (1-12)"):e.expMonth="Expiration month is required",m.expYear?parseInt(m.expYear)<(new Date).getFullYear()&&(e.expYear="Please enter a valid year"):e.expYear="Expiration year is required",m.cvv?/^\d{3,4}$/.test(m.cvv)||(e.cvv="Please enter a valid CVV (3-4 digits)"):e.cvv="CVV is required",I(e),0===Object.keys(e).length})()){v(!0),x("");try{if(!u&&t&&(await i(),!r()))throw console.error("No effective user ID available"),new Error("Unable to process order without user identification");const l=a,h=l>100?0:10,f=.08*l,p=l+h+f,g={customer:{firstName:m.firstName,lastName:m.lastName,email:m.email,address:m.address,city:m.city,state:m.state,zipCode:m.zipCode,country:m.country},items:s.map((e=>({id:e.id,name:e.name,price:e.price,quantity:e.quantity,imageUrl:e.imageUrl}))),payment:{cardName:m.cardName,cardLast4:m.cardNumber.slice(-4).padStart(4,"*"),cardExpiry:`${m.expMonth}/${m.expYear}`},totals:{subtotal:l,shipping:h,tax:f,total:p},status:"pending",userId:r()||n,isGuestOrder:t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};let y;try{y=await Ey(mg(Xv,"orders"),g)}catch(d){console.error("Failed to save order to Firestore:",d);const e=`local-order-${Date.now()}`,t=JSON.parse(localStorage.getItem("guestOrders")||"[]"),n=[{id:e,...g},...t];localStorage.setItem("guestOrders",JSON.stringify(n)),y={id:e}}if(e?c.invalidateQueries(["recentOrders",e.uid]):t&&n&&c.invalidateQueries(["guestOrders",n]),N({orderId:y.id,customer:{name:`${m.firstName} ${m.lastName}`,address:`${m.address}, ${m.city}, ${m.state} ${m.zipCode}`},items:s,totals:{subtotal:l,shipping:h,tax:f,total:p},date:(new Date).toLocaleDateString()}),u)try{const e=gg(Xv,"users",u),n=await vy(e);n.exists()?await wy(e,{...n.data(),firstName:m.firstName,lastName:m.lastName,address:m.address,city:m.city,state:m.state,zipCode:m.zipCode,country:m.country,updatedAt:(new Date).toISOString()},{merge:!0}):t&&await wy(e,{uid:u,name:`${m.firstName} ${m.lastName}`,email:m.email,role:"guest",firstName:m.firstName,lastName:m.lastName,address:m.address,city:m.city,state:m.state,zipCode:m.zipCode,country:m.country,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),localStorage.setItem("guestData",JSON.stringify({uid:u,name:`${m.firstName} ${m.lastName}`,email:m.email,role:"guest",firstName:m.firstName,lastName:m.lastName,address:m.address,city:m.city,state:m.state,zipCode:m.zipCode,country:m.country})),c.invalidateQueries(["userData",u])}catch(b){console.error("Failed to update user profile:",b)}o(),k({visible:!0,message:(0,K.jsxs)("div",{className:"space-y-6",children:[(0,K.jsxs)("div",{className:"text-center border-b border-gray-800 pb-4",children:[(0,K.jsx)("h2",{className:"text-2xl font-bold font-poppins tracking-tight mb-2",children:"THANK YOU FOR YOUR ORDER"}),(0,K.jsx)("p",{className:"text-gray-400",children:"Your order has been successfully placed."})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsx)("h3",{className:"text-lg font-semibold font-poppins border-b border-gray-800 pb-2",children:"ORDER DETAILS"}),(0,K.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"Order ID:"})," ",y.id]}),(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"Date:"})," ",(new Date).toLocaleDateString()]}),(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"Payment Method:"})," Credit Card ending in ",m.cardNumber.slice(-4)]}),(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"Total Items:"})," ",s.length]})]})]}),(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsx)("h3",{className:"text-lg font-semibold font-poppins border-b border-gray-800 pb-2",children:"CUSTOMER INFORMATION"}),(0,K.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"Name:"})," ",m.firstName," ",m.lastName]}),(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"Email:"})," ",m.email]}),(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"Address:"})," ",m.address]}),(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"City, State, ZIP:"})," ",m.city,", ",m.state," ",m.zipCode]}),(0,K.jsxs)("p",{children:[(0,K.jsx)("span",{className:"font-medium",children:"Country:"})," ",m.country]})]})]})]}),(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsx)("h3",{className:"text-lg font-semibold font-poppins border-b border-gray-800 pb-2",children:"ORDER SUMMARY"}),(0,K.jsx)("div",{className:"space-y-3",children:s.map((e=>(0,K.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("span",{className:"font-medium",children:e.name}),(0,K.jsxs)("span",{className:"text-gray-400 ml-2",children:["x",e.quantity]})]}),(0,K.jsxs)("span",{children:["$",(e.price*e.quantity).toFixed(2)]})]},e.id)))}),(0,K.jsxs)("div",{className:"pt-3 border-t border-gray-800",children:[(0,K.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,K.jsx)("span",{className:"text-gray-400",children:"Subtotal"}),(0,K.jsxs)("span",{children:["$",a.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,K.jsx)("span",{className:"text-gray-400",children:"Shipping"}),(0,K.jsxs)("span",{children:["$",h.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,K.jsx)("span",{className:"text-gray-400",children:"Tax"}),(0,K.jsxs)("span",{children:["$",f.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"flex justify-between text-lg font-semibold mt-3",children:[(0,K.jsx)("span",{children:"Total"}),(0,K.jsxs)("span",{children:["$",p.toFixed(2)]})]})]})]}),(0,K.jsxs)("div",{className:"text-center pt-4 text-gray-400 text-sm",children:[(0,K.jsxs)("p",{children:["A confirmation email has been sent to ",m.email]}),(0,K.jsx)("p",{className:"mt-1",children:"Questions about your order? Contact us at support@shopease.com"})]})]}),type:"success"}),E(!0)}catch(b){console.error("Error placing order:",b),k({visible:!0,message:"There was a problem processing your order. Please try again.",type:"error"}),_(!1)}finally{v(!1)}}},R=a>100?0:10,O=.08*a,D=a+R+O,M=(e,t)=>`https://via.placeholder.com/${e}x${t}/1a1a1a/ffffff?text=ShopEase`;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"bg-black text-white min-h-screen",children:(0,K.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,K.jsx)(iT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:(0,K.jsxs)("div",{className:"w-fit",children:[(0,K.jsx)("h1",{className:"text-4xl font-bold mb-2 tracking-tight font-poppins",children:"CHECKOUT"}),(0,K.jsx)("div",{className:"h-1 bg-white w-full"})]})}),b&&(0,K.jsx)("div",{className:"bg-red-900 text-white p-4 mb-6 rounded-[12px]",children:b}),(0,K.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,K.jsx)(iT.div,{className:"lg:col-span-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] p-6",children:[(0,K.jsxs)("div",{className:"flex items-center mb-6",children:[(0,K.jsx)("div",{className:"h-10 w-10 bg-black rounded-full flex items-center justify-center mr-4",children:(0,K.jsx)(hj,{className:"h-5 w-5 text-white"})}),(0,K.jsx)("h2",{className:"text-xl font-bold font-poppins",children:"SHIPPING INFORMATION"})]}),(0,K.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A(e)},children:[(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name"}),(0,K.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:m.firstName,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.firstName?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"First Name"}),j.firstName&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.firstName})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name"}),(0,K.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:m.lastName,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.lastName?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"Last Name"}),j.lastName&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.lastName})]})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,K.jsx)("input",{type:"email",id:"email",name:"email",value:m.email,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.email?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"Email Address"}),j.email&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.email})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-300 mb-2",children:"Street Address"}),(0,K.jsx)("input",{type:"text",id:"address",name:"address",value:m.address,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.address?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"Street Address"}),j.address&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.address})]}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,K.jsx)("input",{type:"text",id:"city",name:"city",value:m.city,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.city?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"City"}),j.city&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.city})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-2",children:"State"}),(0,K.jsx)("input",{type:"text",id:"state",name:"state",value:m.state,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.state?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"State"}),j.state&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.state})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-300 mb-2",children:"ZIP Code"}),(0,K.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:m.zipCode,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.zipCode?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"ZIP Code"}),j.zipCode&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.zipCode})]})]}),(0,K.jsxs)("div",{className:"border-t border-gray-800 pt-6",children:[(0,K.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Payment Information"}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"cardName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Cardholder Name"}),(0,K.jsx)("input",{type:"text",id:"cardName",name:"cardName",value:m.cardName,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.cardName?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"Cardholder Name"}),j.cardName&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.cardName})]}),(0,K.jsxs)("div",{className:"mt-4",children:[(0,K.jsx)("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-300 mb-2",children:"Card Number"}),(0,K.jsx)("input",{type:"text",id:"cardNumber",name:"cardNumber",value:m.cardNumber,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.cardNumber?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"Card Number"}),j.cardNumber&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.cardNumber})]}),(0,K.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"expMonth",className:"block text-sm font-medium text-gray-300 mb-2",children:"Exp. Month"}),(0,K.jsx)("input",{type:"text",id:"expMonth",name:"expMonth",value:m.expMonth,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.expMonth?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"MM"}),j.expMonth&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.expMonth})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"expYear",className:"block text-sm font-medium text-gray-300 mb-2",children:"Exp. Year"}),(0,K.jsx)("input",{type:"text",id:"expYear",name:"expYear",value:m.expYear,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.expYear?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"YYYY"}),j.expYear&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.expYear})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-300 mb-2",children:"CVV"}),(0,K.jsx)("input",{type:"text",id:"cvv",name:"cvv",value:m.cvv,onChange:P,className:`w-full px-4 py-3 bg-black border ${j.cvv?"border-red-500":"border-gray-800"} rounded-[12px] focus:outline-none focus:border-white transition-colors text-white`,placeholder:"CVV"}),j.cvv&&(0,K.jsx)("p",{className:"mt-1 text-sm text-red-500",children:j.cvv})]})]})]}),(0,K.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,K.jsxs)(Yt,{to:"/cart",className:"bg-transparent border border-white text-white py-2 px-6 rounded-[12px] hover:bg-white hover:text-black transition-colors flex items-center gap-2 font-inter",children:[(0,K.jsx)(uT,{size:18}),"Back to Cart"]}),(0,K.jsx)("button",{type:"button",disabled:y,className:"bg-white text-black py-2 px-6 rounded-[12px] hover:bg-gray-200 transition-colors flex items-center gap-2 font-inter",onClick:e=>{y||(e.preventDefault(),e.stopPropagation(),_(!0),A(e))},children:y?(0,K.jsxs)(K.Fragment,{children:["Processing...",(0,K.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-black border-t-transparent"})]}):(0,K.jsxs)(K.Fragment,{children:["Place Order",(0,K.jsx)(LT,{size:18})]})})]})]})]})}),(0,K.jsx)(iT.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] p-6",children:[(0,K.jsx)("h2",{className:"text-xl font-bold mb-6 font-poppins",children:"ORDER SUMMARY"}),(0,K.jsx)("div",{className:"space-y-4 mb-6",children:s.map((e=>(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)("div",{className:"h-12 w-12 flex-shrink-0 bg-black rounded-[12px] overflow-hidden",children:(0,K.jsx)("img",{className:"h-12 w-12 object-cover",src:e.imageUrl||M(80,80),alt:e.name})}),(0,K.jsxs)("div",{className:"ml-4 flex-1",children:[(0,K.jsx)("div",{className:"text-sm font-medium text-white font-inter",children:e.name}),(0,K.jsxs)("div",{className:"text-sm text-gray-400 font-inter",children:["$",e.price.toFixed(2)," x ",e.quantity]})]}),(0,K.jsxs)("div",{className:"text-sm font-medium text-white font-inter",children:["$",(e.price*e.quantity).toFixed(2)]})]},e.id)))}),(0,K.jsxs)("div",{className:"border-t border-gray-800 pt-4 space-y-4",children:[(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"text-gray-400 font-inter",children:"Subtotal"}),(0,K.jsxs)("span",{className:"font-medium text-white font-inter",children:["$",a.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"text-gray-400 font-inter",children:"Shipping"}),(0,K.jsxs)("span",{className:"font-medium text-white font-inter",children:["$",R.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"flex justify-between",children:[(0,K.jsx)("span",{className:"text-gray-400 font-inter",children:"Tax"}),(0,K.jsxs)("span",{className:"font-medium text-white font-inter",children:["$",O.toFixed(2)]})]}),(0,K.jsxs)("div",{className:"border-t border-gray-800 pt-4 flex justify-between",children:[(0,K.jsx)("span",{className:"font-semibold text-white font-inter",children:"Total"}),(0,K.jsxs)("span",{className:"font-bold text-white text-xl font-inter",children:["$",D.toFixed(2)]})]})]})]})})]})]})}),(0,K.jsx)(bL,{isVisible:w.visible,message:w.message,type:w.type,onClose:()=>{k({...w,visible:!1}),_(!1),S&&(E(!1),setTimeout((()=>{l("/")}),100))}})]})}function wL(){const{currentUser:e,logout:t}=ob(),n=Ke(),r=Q(),[i,s]=(0,H.useState)({name:"",email:"",address:"",city:"",state:"",zipCode:"",country:""}),[a,o]=(0,H.useState)(!1),[l,c]=(0,H.useState)({type:"",text:""}),[u,d]=(0,H.useState)([]),[h,f]=(0,H.useState)("orders"),{data:p,isLoading:m}=aj({queryKey:["userProfile",null===e||void 0===e?void 0:e.uid],queryFn:async()=>{if(!e)return null;try{const t=await vy(gg(Xv,"users",e.uid));return t.exists()?t.data():null}catch(t){return console.error("Error fetching user data:",t),null}},staleTime:3e5,cacheTime:18e5,enabled:!!e,retry:1});(0,H.useEffect)((()=>{p&&e?s({name:p.name||e.displayName||"",email:e.email||"",address:p.address||"",city:p.city||"",state:p.state||"",zipCode:p.zipCode||"",country:p.country||""}):e&&!p&&s({name:e.displayName||"",email:e.email||"",address:"",city:"",state:"",zipCode:"",country:""})}),[p,e]);const g=lj({mutationFn:async t=>{e.displayName!==t.name&&await ca(e,{displayName:t.name}),await ky(gg(Xv,"users",e.uid),{name:t.name,address:t.address,city:t.city,state:t.state,zipCode:t.zipCode,country:t.country,updatedAt:(new Date).toISOString()})},onSuccess:()=>{c({type:"success",text:"Profile updated successfully"}),r.invalidateQueries(["userProfile",null===e||void 0===e?void 0:e.uid])},onError:e=>{console.error("Error updating profile:",e),c({type:"error",text:"Failed to update profile"})},onSettled:()=>{o(!1)}}),y=e=>{const{name:t,value:n}=e.target;s({...i,[t]:n})},v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};return m?(0,K.jsx)("div",{className:"bg-black text-white min-h-screen",children:(0,K.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,K.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,K.jsx)(vT,{size:"78",speed:"1.4",color:"white"})})})}):(0,K.jsx)("div",{className:"bg-black text-white min-h-screen",children:(0,K.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,K.jsx)(iT.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12",children:(0,K.jsxs)("div",{className:"w-fit",children:[(0,K.jsx)("h1",{className:"text-4xl font-bold mb-2 tracking-tight font-poppins",children:"YOUR PROFILE"}),(0,K.jsx)("div",{className:"h-1 bg-white w-full"})]})}),(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,K.jsx)(iT.div,{className:"md:col-span-2",initial:"hidden",animate:"visible",variants:v,children:(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] p-6",children:[(0,K.jsx)("h2",{className:"text-xl font-bold mb-6 font-poppins",children:"PERSONAL INFORMATION"}),l.text&&(0,K.jsxs)("div",{className:"mb-6 p-4 rounded-[12px] border "+("success"===l.type?"border-green-500 bg-black text-green-400 flex items-center":"border-red-500 bg-black text-red-400 flex items-center"),children:["success"===l.type?(0,K.jsx)(Sj,{className:"h-5 w-5 mr-2"}):(0,K.jsx)(iD,{className:"h-5 w-5 mr-2"}),l.text]}),(0,K.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),c({type:"",text:""}),g.mutate(i)},children:[(0,K.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1 font-inter",children:"Full Name"}),(0,K.jsx)("input",{type:"text",id:"name",name:"name",value:i.name,onChange:y,className:"block w-full bg-black border border-gray-700 rounded-[12px] py-2 px-3 focus:outline-none focus:border-white text-white"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1 font-inter",children:"Email Address"}),(0,K.jsx)("input",{type:"email",id:"email",name:"email",value:i.email,disabled:!0,className:"block w-full bg-gray-800 border border-gray-700 rounded-[12px] py-2 px-3 text-gray-400"}),(0,K.jsx)("p",{className:"mt-1 text-xs text-gray-500 font-inter",children:"Email cannot be changed"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-300 mb-1 font-inter",children:"Address"}),(0,K.jsx)("input",{type:"text",id:"address",name:"address",value:i.address,onChange:y,className:"block w-full bg-black border border-gray-700 rounded-[12px] py-2 px-3 focus:outline-none focus:border-white text-white"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-300 mb-1 font-inter",children:"City"}),(0,K.jsx)("input",{type:"text",id:"city",name:"city",value:i.city,onChange:y,className:"block w-full bg-black border border-gray-700 rounded-[12px] py-2 px-3 focus:outline-none focus:border-white text-white"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1 font-inter",children:"State/Province"}),(0,K.jsx)("input",{type:"text",id:"state",name:"state",value:i.state,onChange:y,className:"block w-full bg-black border border-gray-700 rounded-[12px] py-2 px-3 focus:outline-none focus:border-white text-white"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-300 mb-1 font-inter",children:"ZIP/Postal Code"}),(0,K.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:i.zipCode,onChange:y,className:"block w-full bg-black border border-gray-700 rounded-[12px] py-2 px-3 focus:outline-none focus:border-white text-white"})]}),(0,K.jsxs)("div",{children:[(0,K.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-300 mb-1 font-inter",children:"Country"}),(0,K.jsxs)("select",{id:"country",name:"country",value:i.country,onChange:y,className:"block w-full bg-black border border-gray-700 rounded-[12px] py-2 px-3 focus:outline-none focus:border-white text-white",children:[(0,K.jsx)("option",{value:"",children:"Select a country"}),(0,K.jsx)("option",{value:"United States",children:"United States"}),(0,K.jsx)("option",{value:"Canada",children:"Canada"}),(0,K.jsx)("option",{value:"United Kingdom",children:"United Kingdom"}),(0,K.jsx)("option",{value:"Australia",children:"Australia"})]})]})]}),(0,K.jsx)("div",{className:"flex justify-end",children:(0,K.jsx)("button",{type:"submit",disabled:a,className:"bg-white text-black py-2 px-6 rounded-[12px] text-sm font-medium hover:bg-gray-200 transition-colors flex items-center gap-2 font-inter",children:a?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-black border-t-transparent"}),"Saving..."]}):"Save Changes"})})]})]})}),(0,K.jsxs)(iT.div,{initial:"hidden",animate:"visible",variants:v,children:[(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] p-6",children:[(0,K.jsxs)("div",{className:"flex items-center mb-6",children:[(0,K.jsx)("div",{className:"h-16 w-16 rounded-[12px] bg-black flex items-center justify-center text-white text-xl font-bold",children:i.name.charAt(0)||(0,K.jsx)(fT,{className:"h-8 w-8"})}),(0,K.jsxs)("div",{className:"ml-4",children:[(0,K.jsx)("h2",{className:"text-lg font-bold font-poppins",children:i.name||"User"}),(0,K.jsx)("p",{className:"text-gray-400 font-inter",children:i.email})]})]}),(0,K.jsx)("div",{className:"border-t border-gray-800 pt-4",children:(0,K.jsxs)("button",{onClick:async()=>{try{await t(),n("/login")}catch(e){console.error("Failed to log out",e)}},className:"w-full bg-black border border-gray-700 text-white py-3 px-4 rounded-[12px] hover:bg-gray-800 transition-colors flex items-center justify-center gap-2 font-inter",children:[(0,K.jsx)(xj,{className:"h-5 w-5"}),"Sign Out"]})})]}),(0,K.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-[12px] p-6 mt-6",children:[(0,K.jsx)("h2",{className:"text-lg font-bold mb-4 font-poppins",children:"ACCOUNT ACTIONS"}),(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsxs)("button",{onClick:()=>n("/cart"),className:"w-full bg-black border border-gray-700 text-white py-3 px-4 rounded-[12px] hover:bg-gray-800 transition-colors text-left flex items-center gap-3 font-inter",children:[(0,K.jsx)(pj,{className:"h-5 w-5"}),"View Cart"]}),(0,K.jsxs)("button",{onClick:()=>n("/shop"),className:"w-full bg-black border border-gray-700 text-white py-3 px-4 rounded-[12px] hover:bg-gray-800 transition-colors text-left flex items-center gap-3 font-inter",children:[(0,K.jsx)(hj,{className:"h-5 w-5"}),"Continue Shopping"]})]})]})]})]})]})})}function kL(){const{pathname:e}=qe();return(0,H.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}function SL(e){let{children:t}=e;const[n,r]=(0,H.useState)(null),[i,s]=(0,H.useState)(!1),[a,o]=(0,H.useState)(!0);return(0,H.useEffect)((()=>{const e=Zv((e=>{if(r(e),e)s(!1);else{const e=localStorage.getItem("guestId"),t=localStorage.getItem("guestData");e&&(t||localStorage.getItem("cart"))&&s(!0)}o(!1)}));return()=>e()}),[]),a?(0,K.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,K.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"})}):n||i?t:(0,K.jsx)(ut,{to:"/login"})}const EL=function(){return(0,K.jsx)(Gt,{children:(0,K.jsx)(lb,{children:(0,K.jsx)(dj,{children:(0,K.jsxs)(ST,{children:[(0,K.jsx)(kL,{}),(0,K.jsxs)(pt,{children:[(0,K.jsx)(ht,{path:"/login",element:(0,K.jsx)(bT,{})}),(0,K.jsx)(ht,{path:"/register",element:(0,K.jsx)(xT,{})}),(0,K.jsx)(ht,{path:"/",element:(0,K.jsx)(wj,{children:(0,K.jsx)(jj,{})})}),(0,K.jsx)(ht,{path:"/shop",element:(0,K.jsx)(wj,{children:(0,K.jsx)(rD,{})})}),(0,K.jsx)(ht,{path:"/product/:id",element:(0,K.jsx)(wj,{children:(0,K.jsx)(oD,{})})}),(0,K.jsx)(ht,{path:"/cart",element:(0,K.jsx)(wj,{children:(0,K.jsx)(cD,{})})}),(0,K.jsx)(ht,{path:"/checkout",element:(0,K.jsx)(wj,{children:(0,K.jsx)(xL,{})})}),(0,K.jsx)(ht,{path:"/profile",element:(0,K.jsx)(SL,{children:(0,K.jsx)(wj,{children:(0,K.jsx)(wL,{})})})}),(0,K.jsxs)(ht,{path:"/admin",element:(0,K.jsx)(TT,{}),children:[(0,K.jsx)(ht,{index:!0,element:(0,K.jsx)(_T,{})}),(0,K.jsx)(ht,{path:"products",element:(0,K.jsx)(jT,{})}),(0,K.jsx)(ht,{path:"products/add",element:(0,K.jsx)(VT,{})}),(0,K.jsx)(ht,{path:"products/edit/:id",element:(0,K.jsx)(zT,{})}),(0,K.jsx)(ht,{path:"categories",element:(0,K.jsx)(BT,{})}),(0,K.jsx)(ht,{path:"categories/add",element:(0,K.jsx)(qT,{})}),(0,K.jsx)(ht,{path:"categories/edit/:id",element:(0,K.jsx)(HT,{})}),(0,K.jsx)(ht,{path:"orders",element:(0,K.jsx)(K_,{})})]}),(0,K.jsx)(ht,{path:"*",element:(0,K.jsx)(ut,{to:"/",replace:!0})})]})]})})})})},CL=new class{#H;#m;#u;#W;#K;#G;#Q;#Y;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#H=e.queryCache||new F,this.#m=e.mutationCache||new $,this.#u=e.defaultOptions||{},this.#W=new Map,this.#K=new Map,this.#G=0}mount(){this.#G++,1===this.#G&&(this.#Q=T.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#H.onFocus())})),this.#Y=_.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#H.onOnline())})))}unmount(){this.#G--,0===this.#G&&(this.#Q?.(),this.#Q=void 0,this.#Y?.(),this.#Y=void 0)}isFetching(e){return this.#H.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#m.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#H.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#H.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(o(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#H.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#H.get(r.queryHash),s=i?.state.data,a=function(e,t){return"function"===typeof e?e(t):e}(t,s);if(void 0!==a)return this.#H.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return C.batch((()=>this.#H.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#H.get(t.queryHash)?.state}removeQueries(e){const t=this.#H;C.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#H;return C.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=C.batch((()=>this.#H.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(i).catch(i)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.batch((()=>(this.#H.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=C.batch((()=>this.#H.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(i)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(i)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#H.build(this,t);return n.isStaleByTime(o(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(i).catch(i)}fetchInfiniteQuery(e){return e.behavior=z(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(i).catch(i)}ensureInfiniteQueryData(e){return e.behavior=z(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _.isOnline()?this.#m.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#H}getMutationCache(){return this.#m}getDefaultOptions(){return this.#u}setDefaultOptions(e){this.#u=e}setQueryDefaults(e,t){this.#W.set(h(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#W.values()],n={};return t.forEach((t=>{f(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#K.set(h(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#K.values()],n={};return t.forEach((t=>{f(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#u.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=d(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===k&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#u.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#H.clear(),this.#m.clear()}}({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:1,staleTime:3e5}}});X.createRoot(document.getElementById("root")).render((0,K.jsx)(H.StrictMode,{children:(0,K.jsx)(Y,{client:CL,children:(0,K.jsx)(EL,{})})}))})();
//# sourceMappingURL=main.14efb461.js.map